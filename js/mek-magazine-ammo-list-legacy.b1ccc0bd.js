(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mek-magazine-ammo-list"],{d09c:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("mek-sub-component-table",{attrs:{items:e.filteredAmmoArray,"selected-keys":e.selected_keys,pkey:e.pkey,headers:{type:"Type",cost:"Cost",effect:"Effect"},"show-headers":!0,format:{cost:"multiplier"},name:"Ammo Table",flow:"pkey-col"},on:{"update-selected-data":e.select_ammo}})},r=[],i=s("f499"),n=s.n(i),c=(s("ac6a"),s("cadf"),s("551c"),s("f751"),s("097d"),s("072f")),u=s("8fcf"),o=s("d866"),l=(s("6762"),s("2fdb"),void 0),f=[{type:"Paintball",cost:.5,effect:"Practice Rounds"},{type:"Foam",cost:.5,effect:"Firefighting"},{type:"High-Ex",cost:1,effect:"Standard"},{type:"Tracer",cost:3,effect:"+1 to WA"},{type:"Kinetic",cost:3,effect:"More Knockback"},{type:"Tangler",cost:3,effect:"Grappling Attack"},{type:"Armor Piercing",cost:4,effect:"1/2 SP vs Armor"},{type:"Disruptor",cost:4,effect:"1/2 SP vs Energy"},{type:"Incendiary",cost:4,effect:"Flamethrower"},{type:"Shock (only)",cost:4,effect:"Stun Effect",shock_exclusive:!0},{type:"Shock (add)",cost:6,effect:"Stun & Damage",shock_exclusive:!0},{type:"Scattershot",cost:5,effect:"Shotgun Effect"},{type:"Blast I",cost:6,effect:"1-Hex Radius",blast_exclusive:!0},{type:"Blast II",cost:8,effect:"2-Hex Radius",blast_exclusive:!0},{type:"Blast III",cost:10,effect:"3-Hex Radius",blast_exclusive:!0},{type:"Blast IV",cost:12,effect:"4-Hex Radius",blast_exclusive:!0},{type:"Blast V",cost:14,effect:"5-Hex Radius",blast_exclusive:!0},{type:"Nuclear",cost:1e3,effect:"Atomic Ammo"}],p=f.filter(function(e){return"undefined"!==typeof e.shock_exclusive}),h=f.filter(function(e){return"undefined"!==typeof e.blast_exclusive}),d={type:"High-Ex",cost:1,effect:"Standard"},m=function(e){if("undefined"===typeof e)return!1;var t=f.some(function(t){return t.type==e.type&&t.cost==e.cost&&t.shock_exclusive==e.shock_exclusive&&t.blast_exclusive==e.blast_exclusive});return t},y=function(e,t){return f.some(function(s){return void 0!==s[e]&&s[e]==t})},_=function(e,t){if(y(e,t)){var s=null;return f.some(function(a){if(a[e]==t)return s=a,!0},l),s}},k=function(e,t,s){var a=null;switch(e.toLowerCase()){case"shock_exclusive":a=p;break;case"blast_exclusive":a=h;break}return null!==a&&a.some(function(e){return e[t]==s})},v=function(e,t){var s=!1,a=!1,r=!1,i=[],c=[];if(void 0===e||void 0===t){c.push("Mek_Melee-Feature: ");var u=void 0===e?"**** Missing feature array. Returning default. ****":"**** No primary key provided. Returning default. ****";return c.push(u),{cleaned_array:d,update:!0,key_list:["High-Ex"],alerts:c}}var o=e.reduceRight(function(e,u){if(void 0===u[t])return c.push("Mek_Magazine-Ammo-List: "+n()(u)),c.push("**** Missing primary key. Ignoring. ****"),e;var o=u;if(m(u)||(c.push("Mek_Magazine-Ammo-List: "+n()(u)),c.push("**** Invalid data, attempting to reset. ****"),o=_(t,u[t]),r=!0),null===o)return c.push("**** Unable to reset. No matching data. ****"),r=!0,e;var l=k("shock_exclusive",t,u[t]),f=k("blast_exclusive",t,u[t]);return l&&!s?(e.push(u),s=!0,i.push(u[t]),e):l&&s?(c.push("Mek_Magazine-Ammo-List: "+u),c.push("**** Duplicate exclusive shock data. Ignoring. ****"),r=!0,e):f&&!a?(e.push(u),a=!0,i.push(u[t]),e):f&&a?(c.push("Mek_Magazine-Ammo-List: "+u),c.push("**** Duplicate exclusive blast radius data. Ignoring. ****"),r=!0,e):(i.includes(u[t])||(e.push(u),i.push(u[t])),e)},[]);return o=o.filter(function(e){return"nuclear"!=e[t].toLowerCase()||a&&"nuclear"==e[t].toLowerCase()}).reverse(),0==o.length&&(o=[JSON.parse(n()(d))],r=!0,i=["High-Ex"],c.push("Mek_Magazine-Ammo-List: "),c.push("**** Reseting to default ****")),{cleaned_array:o,update:r,key_list:i,alerts:c}},g={name:"mek_magazine_ammo_list",props:["ammoArray","hasBlast"],mixins:[c["a"],u["a"],o["a"]],components:{"mek-sub-component-table":function(){return s.e("chunk-5a8f0fc3").then(s.bind(null,"97ea"))}},data:function(){var e={selected_ammo_array:[],pkey:"type",alerts:[],suppressAlerts:!1};return e},methods:{select_ammo:function(e){var t=this;this.suppressAlerts=!0;var s=this.toggleFeature(this.selected_ammo_array,e),a=v(s,this.pkey);s=a.cleaned_array,a.alerts.length>0&&!this.suppressAlerts&&(a.alerts.forEach(function(e){t.addAlert(e)}),this.publishAlerts()),this.$set(this,"selected_ammo_array",s),this.$emit("update-ammo",s),this.suppressAlerts=!1},toggleFeature:function(e,t){var s=this,a=JSON.parse(n()(e)),r=a.some(function(e){return e[s.pkey]==t[s.pkey]},this);return r?a.filter(function(e){return e[s.pkey]!=t[s.pkey]},this):(a.push(t),a)}},computed:{filteredAmmoArray:function(){return this.hasBlast?f:f.filter(function(e){return"nuclear"!=e.type.toLowerCase()})},selected_keys:function(){var e=this,t=v(this.ammoArray,this.pkey);return t.alerts.length>0&&!this.suppressAlerts&&(t.alerts.forEach(function(t){e.addAlert(t)}),this.publishAlerts()),t.update&&this.$emit("update-ammo",t.cleaned_array),this.$set(this,"selected_ammo_array",t.cleaned_array),t.key_list}}},b=g,x=s("2877"),A=Object(x["a"])(b,a,r,!1,null,"328b0228",null);t["default"]=A.exports},d866:function(e,t,s){"use strict";t["a"]={methods:{addAlert:function(e){this.alerts.push(e)},publishAlerts:function(){this.alerts.length>0&&this.$store.commit("alertMessage",this.alerts),this.$set(this,"alerts",[])}}}}}]);
//# sourceMappingURL=mek-magazine-ammo-list-legacy.b1ccc0bd.js.map