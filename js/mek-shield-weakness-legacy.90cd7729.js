(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mek-shield-weakness"],{5237:function(e,s,t){"use strict";t.r(s);var n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("mek-sub-component-table",{attrs:{items:e.weakness_table,pkey:e.pkey,"selected-keys":e.selected_keys,headers:{weakness:"Weakness",monicker:"Monicker",cost:"Cost"},name:"Weakness",flow:"pkey-col","show-headers":!0,format:{cost:"multiplier"}},on:{"update-selected-data":e.select_weakness}})},r=[],a=t("f499"),i=t.n(a),u=(t("ac6a"),t("d866")),l=(t("6762"),t("2fdb"),t("706d")),c=[{weakness:"All",monicker:"Shield",cost:1},{weakness:"Ablative",monicker:"Screen",cost:1},{weakness:"Energy Only",monicker:"Interference",cost:.75,only_exclusive:!0},{weakness:"Matter Only",monicker:"Kinetic",cost:.75,only_exclusive:!0},{weakness:"Ranged Only",monicker:"Swashbuckling",cost:.75,only_exclusive:!0},{weakness:"Enclosing",monicker:"Mirror",cost:.5},{weakness:"Surge",monicker:"Surge",cost:2.5}],o=c.filter(function(e){return"undefined"!==typeof e.only_exclusive}),d=["weakness","monicker","only_exclusive","cost"],h={weakness:"All",monicker:"Shield",cost:1},k=[h],p=Object(l["d"])(c,d),f=Object(l["c"])(c),y=Object(l["b"])(c,f),m=function(e,s,t){var n=null;switch(e.toLowerCase()){case"only_exclusive":n=o;break;case"all_exclusive":n=k;break}return null!==n&&n.some(function(e){return e[s]==t})},v=function(e,s){var t=!1,n=!1,r=!1,a=[],u=[];if(void 0===e||void 0===s){u.push("Mek_Shield-Weakness: ");var l=void 0===e?"**** Missing weakness array. Returning blank. ****":"**** No primary key provided. Returning blank. ****";return u.push(l),{cleaned_array:[h],update:!0,key_list:["All"],alerts:u}}var c=e.reduceRight(function(e,l){if(n)return a=["All"],[h];var c=m("all_exclusive",s,l[s]);if(c&&0==e.length)return n=!0,a=["All"],[h];if(c)return e;if(void 0===l[s])return u.push("Mek_Shield-Weakness: "+i()(l)),u.push("**** Missing primary key. Ignoring. ****"),e;var o=l;if(p(l)||(u.push("Mek_Shield-Weakness: "+i()(l)),u.push("**** Invalid data, attempting to reset. ****"),o=y(s,l[s]),r=!0),null===o)return u.push("**** Unable to reset. No matching data. ****"),r=!0,e;var d=m("only_exclusive",s,l[s]);return d&&!t?(e.push(l),t=!0,a.push(l[s]),e):d&&t?(u.push("Mek_Shield-Weakness: "+l),u.push("**** Duplicate exclusive Shield data. Ignoring. ****"),r=!0,e):(a.includes(l[s])||(e.push(l),a.push(l[s])),e)},[]);return c.reverse(),0==c.length&&(c=[JSON.parse(i()(h))],r=!0,a=["All"],u.push("Mek_Shield-Weakness: "),u.push("**** Reseting to default ****")),{cleaned_array:c,update:r,key_list:a,alerts:u}},_={name:"mek_shield_weakness",props:["weaknessArray"],mixins:[u["a"]],components:{"mek-sub-component-table":function(){return t.e("chunk-1feb8d1e").then(t.bind(null,"09c0"))}},data:function(){var e={alerts:[],pkey:"weakness",suppressAlerts:!1,selected_weakness_array:[{weakness:"All",monicker:"Shield",cost:1}]};return e},methods:{select_weakness:function(e){var s=this;this.suppressAlerts=!0;var t=this.toggleWeakness(this.selected_weakness_array,e),n=v(t,this.pkey);t=n.cleaned_array,n.alerts.length>0&&!this.suppressAlerts&&(n.alerts.forEach(function(e){s.addAlert(e)}),this.publishAlerts()),this.$set(this,"selected_weakness_array",t),this.$emit("update-weakness",t),this.suppressAlerts=!1},toggleWeakness:function(e,s){var t=this,n=JSON.parse(i()(e)),r=n.some(function(e){return e[t.pkey]==s[t.pkey]},this);return r?n.filter(function(e){return e[t.pkey]!=s[t.pkey]},this):(n.push(s),n)}},computed:{weakness_table:function(){return c},selected_keys:function(){var e=this,s=v(this.weaknessArray,this.pkey);return s.alerts.length>0&&!this.suppressAlerts&&(s.alerts.forEach(function(s){e.addAlert(s)}),this.publishAlerts()),s.update&&(this.$emit("alert-generated",!0),this.$emit("update-weakness",s.cleaned_array)),this.$set(this,"selected_weakness_array",s.cleaned_array),s.key_list}}},w=_,g=t("2877"),b=Object(g["a"])(w,n,r,!1,null,null,null);s["default"]=b.exports},"706d":function(e,s,t){"use strict";t.d(s,"d",function(){return l}),t.d(s,"c",function(){return c}),t.d(s,"b",function(){return o}),t.d(s,"a",function(){return d});var n=t("f499"),r=t.n(n),a=t("a745"),i=t.n(a),u=void 0,l=function(e,s){return function(t){if("undefined"===typeof t||!i()(s)||0==s.length)return!1;var n=e.some(function(e){return!s.some(function(s){return t[s]!=e[s]})});return n}},c=function(e){return function(s,t){return e.some(function(e){return void 0!==e[s]&&e[s]==t})}},o=function(e,s){return function(t,n){var r=null;return s(t,n)&&e.some(function(e){if(e[t]==n)return r=e,!0},u),r}},d=function(e,s,t,n,a){return function(i,u){var l=void 0,c=[],o=!1,d=[],h=r()(u);return void 0!==u&&s(i,u[i])?e(u)?(l=JSON.parse(r()(u)),c=[l[i]],o=!1):(l=JSON.parse(r()(t(i,u[i]))),c=[l[i]],o=!0,d.push(a+": "+h),d.push("**** Invalid data. Reseting. ****")):(l=n,c=[l[i]],o=!0,d.push(a+": "+h),d.push("**** Invalid data. Reseting to default. ****")),{data:l,key_list:c,update:o,alerts:d}}}},d866:function(e,s,t){"use strict";t("cadf"),t("551c"),t("f751"),t("097d");s["a"]={methods:{addAlert:function(e){this.alerts.push(e)},publishAlerts:function(){this.alerts.length>0&&this.$store.commit("alertMessage",this.alerts),this.$set(this,"alerts",[])}}}}}]);
//# sourceMappingURL=mek-shield-weakness-legacy.90cd7729.js.map