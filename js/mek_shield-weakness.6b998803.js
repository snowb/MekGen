(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mek_shield-weakness"],{5237:function(e,s,t){"use strict";t.r(s);var n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("mek-sub-component-table",{attrs:{items:e.weakness_table,pkey:e.pkey,"selected-keys":e.selected_keys,headers:{weakness:"Weakness",monicker:"Monicker",cost:"Cost"},name:"Weakness",flow:"pkey-col","show-headers":!0,format:{cost:"multiplier"}},on:{"update-selected-data":e.select_weakness}})},r=[],i=(t("ac6a"),t("d866")),l=t("706d");let a=[{weakness:"All",monicker:"Shield",cost:1},{weakness:"Ablative",monicker:"Screen",cost:1},{weakness:"Energy Only",monicker:"Interference",cost:.75,only_exclusive:!0},{weakness:"Matter Only",monicker:"Kinetic",cost:.75,only_exclusive:!0},{weakness:"Ranged Only",monicker:"Swashbuckling",cost:.75,only_exclusive:!0},{weakness:"Enclosing",monicker:"Mirror",cost:.5},{weakness:"Surge",monicker:"Surge",cost:2.5}],u=a.filter(e=>{return"undefined"!==typeof e.only_exclusive}),o=["weakness","monicker","only_exclusive","cost"],c={weakness:"All",monicker:"Shield",cost:1},d=[c],h=Object(l["d"])(a,o),k=Object(l["c"])(a),p=Object(l["b"])(a,k),y=function(e,s,t){let n=null;switch(e.toLowerCase()){case"only_exclusive":n=u;break;case"all_exclusive":n=d;break}return null!==n&&n.some(e=>{return e[s]==t})},m=function(e,s){let t=!1,n=!1,r=!1,i=[],l=[];if(void 0===e||void 0===s){l.push("Mek_Shield-Weakness: ");let s=void 0===e?"**** Missing weakness array. Returning blank. ****":"**** No primary key provided. Returning blank. ****";return l.push(s),{cleaned_array:[c],update:!0,key_list:["All"],alerts:l}}let a=e.reduceRight((e,a)=>{if(n)return i=["All"],[c];let u=y("all_exclusive",s,a[s]);if(u&&0==e.length)return n=!0,i=["All"],[c];if(u)return e;if(void 0===a[s])return l.push("Mek_Shield-Weakness: "+JSON.stringify(a)),l.push("**** Missing primary key. Ignoring. ****"),e;let o=a;if(h(a)||(l.push("Mek_Shield-Weakness: "+JSON.stringify(a)),l.push("**** Invalid data, attempting to reset. ****"),o=p(s,a[s]),r=!0),null===o)return l.push("**** Unable to reset. No matching data. ****"),r=!0,e;let d=y("only_exclusive",s,a[s]);return d&&!t?(e.push(a),t=!0,i.push(a[s]),e):d&&t?(l.push("Mek_Shield-Weakness: "+a),l.push("**** Duplicate exclusive Shield data. Ignoring. ****"),r=!0,e):(i.includes(a[s])||(e.push(a),i.push(a[s])),e)},[]);return a.reverse(),0==a.length&&(a=[JSON.parse(JSON.stringify(c))],r=!0,i=["All"],l.push("Mek_Shield-Weakness: "),l.push("**** Reseting to default ****")),{cleaned_array:a,update:r,key_list:i,alerts:l}};var _={name:"mek_shield_weakness",props:["weaknessArray"],mixins:[i["a"]],components:{"mek-sub-component-table":()=>t.e("mek_sub-component-table").then(t.bind(null,"09c0"))},data:function(){let e={alerts:[],pkey:"weakness",suppressAlerts:!1,selected_weakness_array:[{weakness:"All",monicker:"Shield",cost:1}]};return e},methods:{select_weakness:function(e){this.suppressAlerts=!0;let s=this.toggleWeakness(this.selected_weakness_array,e),t=m(s,this.pkey);s=t.cleaned_array,t.alerts.length>0&&!this.suppressAlerts&&(t.alerts.forEach(e=>{this.addAlert(e)}),this.publishAlerts()),this.$set(this,"selected_weakness_array",s),this.$emit("update-weakness",s),this.suppressAlerts=!1},toggleWeakness(e,s){let t=JSON.parse(JSON.stringify(e)),n=t.some(e=>{return e[this.pkey]==s[this.pkey]},this);return n?t.filter(e=>{return e[this.pkey]!=s[this.pkey]},this):(t.push(s),t)}},computed:{weakness_table(){return a},selected_keys(){let e=m(this.weaknessArray,this.pkey);return e.alerts.length>0&&!this.suppressAlerts&&(e.alerts.forEach(e=>{this.addAlert(e)}),this.publishAlerts()),e.update&&(this.$emit("alert-generated",!0),this.$emit("update-weakness",e.cleaned_array)),this.$set(this,"selected_weakness_array",e.cleaned_array),e.key_list}}},f=_,g=t("2877"),w=Object(g["a"])(f,n,r,!1,null,null,null);s["default"]=w.exports},"706d":function(e,s,t){"use strict";t.d(s,"d",function(){return n}),t.d(s,"c",function(){return r}),t.d(s,"b",function(){return i}),t.d(s,"a",function(){return l});let n=(e,s)=>t=>{if("undefined"===typeof t||!Array.isArray(s)||0==s.length)return!1;let n=e.some(e=>{return s.every(s=>{return t[s]==e[s]})});return n},r=e=>(s,t)=>{return e.some(e=>{return void 0!==e[s]&&e[s]==t})},i=(e,s)=>(t,n)=>{let r=null;return s(t,n)&&e.some(e=>{if(e[t]==n)return r=e,!0},void 0),r},l=(e,s,t,n,r)=>(i,l)=>{let a=void 0,u=[],o=!1,c=[],d=JSON.stringify(l);return void 0!==l&&s(i,l[i])?e(l)?(a=JSON.parse(JSON.stringify(l)),u=[a[i]],o=!1):(a=JSON.parse(JSON.stringify(t(i,l[i]))),u=[a[i]],o=!0,c.push(r+": "+d),c.push("**** Invalid data. Reseting. ****")):(a=n,u=[a[i]],o=!0,c.push(r+": "+d),c.push("**** Invalid data. Reseting to default. ****")),{data:a,key_list:u,update:o,alerts:c}}},d866:function(e,s,t){"use strict";s["a"]={methods:{addAlert(e){this.alerts.push(e)},publishAlerts(){this.alerts.length>0&&this.$store.commit("alertMessage",this.alerts),this.$set(this,"alerts",[])}}}}}]);
//# sourceMappingURL=mek_shield-weakness.6b998803.js.map