(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mek_reflector_validator"],{b374:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "validateComponent", function() { return validateComponent; });\nlet validators = {};\n__webpack_require__.e(/* import() | mek_reflector-data-module */ "mek_reflector-data-module").then(__webpack_require__.bind(null, "2429")).then(_module => {\n  validators.reflector = _module.cleaned_feature;\n});\n__webpack_require__.e(/* import() | mek_space-efficiency-data-module */ "mek_space-efficiency-data-module").then(__webpack_require__.bind(null, "16e1")).then(_module => {\n  validators.space_efficiency = _module.validate_efficiency;\n});\nlet round;\n__webpack_require__.e(/* import() | validator_functions */ "validator_functions").then(__webpack_require__.bind(null, "07de")).then(_module => {\n  round = _module.round;\n});\n\nvalidators.derived = _component => {\n  let cleanedComponent = _component;\n  let alerts = []; //update static values\n\n  if (cleanedComponent.damage_capacity != cleanedComponent.selected_reflector.quality_value) {\n    //validate damage capacity\n    alerts.push("Mek-Reflector: damage_capacity");\n    alerts.push("**** Invalid Damage Capacity. Correcting. ****");\n    cleanedComponent.damage_capacity = cleanedComponent.selected_reflector.quality_value;\n  }\n\n  if (cleanedComponent.weight != cleanedComponent.damage_capacity / 2) {\n    //validate weight\n    alerts.push("Mek-Reflector: weight");\n    alerts.push("**** Invalid Weight. Correcting. ****");\n    cleanedComponent.weight = cleanedComponent.damage_capacity / 2;\n  }\n\n  let newCost = cleanedComponent.selected_reflector.cost + cleanedComponent.efficiencies.space.cost;\n  newCost = round(newCost, 2);\n\n  if (cleanedComponent.cost != newCost) {\n    //validate weight\n    alerts.push("Mek-Reflector: cost");\n    alerts.push("**** Invalid Cost. Correcting. ****");\n    cleanedComponent.cost = newCost;\n  }\n\n  return {\n    data: cleanedComponent,\n    alerts: alerts\n  };\n};\n\nlet validateComponent = _component => {\n  let cleanedComponent = _component;\n  let validatedData;\n  let alerts = []; //loop thru independent validations\n\n  validatedData = validators.reflector("quality_value", cleanedComponent.selected_reflector);\n  alerts = alerts.concat(validatedData.alerts);\n  cleanedComponent.selected_reflector = validatedData.data;\n  let base_cost = cleanedComponent.selected_reflector.cost;\n  validatedData = validators.space_efficiency(cleanedComponent.efficiencies.space, base_cost, "Mek-Reflector");\n  alerts = alerts.concat(validatedData.alerts);\n  cleanedComponent.efficiencies.space = validatedData.data;\n  validatedData = validators.derived(cleanedComponent);\n  cleanedComponent = validatedData.data;\n  alerts = alerts.concat(validatedData.alerts);\n  return {\n    data: cleanedComponent,\n    alerts: alerts\n  };\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RvcmUvbW9kdWxlcy92YWxpZGF0b3JzL21la19yZWZsZWN0b3JfdmFsaWRhdG9yLmpzP2IzNzQiXSwibmFtZXMiOlsidmFsaWRhdG9ycyIsInRoZW4iLCJfbW9kdWxlIiwicmVmbGVjdG9yIiwiY2xlYW5lZF9mZWF0dXJlIiwic3BhY2VfZWZmaWNpZW5jeSIsInZhbGlkYXRlX2VmZmljaWVuY3kiLCJyb3VuZCIsImRlcml2ZWQiLCJfY29tcG9uZW50IiwiY2xlYW5lZENvbXBvbmVudCIsImFsZXJ0cyIsImRhbWFnZV9jYXBhY2l0eSIsInNlbGVjdGVkX3JlZmxlY3RvciIsInF1YWxpdHlfdmFsdWUiLCJwdXNoIiwid2VpZ2h0IiwibmV3Q29zdCIsImNvc3QiLCJlZmZpY2llbmNpZXMiLCJzcGFjZSIsImRhdGEiLCJ2YWxpZGF0ZUNvbXBvbmVudCIsInZhbGlkYXRlZERhdGEiLCJjb25jYXQiLCJiYXNlX2Nvc3QiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQSxJQUFJQSxVQUFVLEdBQUMsRUFBZjtBQUVBLDJJQUNDQyxJQURELENBQ09DLE9BQUQsSUFDTjtBQUNJRixZQUFVLENBQUNHLFNBQVgsR0FBcUJELE9BQU8sQ0FBQ0UsZUFBN0I7QUFDSCxDQUpEO0FBTUEseUpBQ0NILElBREQsQ0FDT0MsT0FBRCxJQUNOO0FBQ0lGLFlBQVUsQ0FBQ0ssZ0JBQVgsR0FBNEJILE9BQU8sQ0FBQ0ksbUJBQXBDO0FBQ0gsQ0FKRDtBQU1BLElBQUlDLEtBQUo7QUFDQSwrSEFDQ04sSUFERCxDQUNPQyxPQUFELElBQ047QUFDTUssT0FETixHQUNlTCxPQURmLENBQ01LLEtBRE47QUFFQyxDQUpEOztBQU1BUCxVQUFVLENBQUNRLE9BQVgsR0FBb0JDLFVBQUQsSUFDbkI7QUFDSSxNQUFJQyxnQkFBZ0IsR0FBQ0QsVUFBckI7QUFDQSxNQUFJRSxNQUFNLEdBQUMsRUFBWCxDQUZKLENBR0k7O0FBQ0EsTUFBR0QsZ0JBQWdCLENBQUNFLGVBQWpCLElBQWtDRixnQkFBZ0IsQ0FBQ0csa0JBQWpCLENBQW9DQyxhQUF6RSxFQUNBO0FBQUM7QUFDR0gsVUFBTSxDQUFDSSxJQUFQLENBQVksZ0NBQVo7QUFDQUosVUFBTSxDQUFDSSxJQUFQLENBQVksZ0RBQVo7QUFDQUwsb0JBQWdCLENBQUNFLGVBQWpCLEdBQWlDRixnQkFBZ0IsQ0FBQ0csa0JBQWpCLENBQW9DQyxhQUFyRTtBQUNIOztBQUNELE1BQUdKLGdCQUFnQixDQUFDTSxNQUFqQixJQUF5Qk4sZ0JBQWdCLENBQUNFLGVBQWpCLEdBQWlDLENBQTdELEVBQ0E7QUFBQztBQUNHRCxVQUFNLENBQUNJLElBQVAsQ0FBWSx1QkFBWjtBQUNBSixVQUFNLENBQUNJLElBQVAsQ0FBWSx1Q0FBWjtBQUNBTCxvQkFBZ0IsQ0FBQ00sTUFBakIsR0FBd0JOLGdCQUFnQixDQUFDRSxlQUFqQixHQUFpQyxDQUF6RDtBQUNIOztBQUNELE1BQUlLLE9BQU8sR0FBQ1AsZ0JBQWdCLENBQUNHLGtCQUFqQixDQUFvQ0ssSUFBcEMsR0FBMkNSLGdCQUFnQixDQUFDUyxZQUFqQixDQUE4QkMsS0FBOUIsQ0FBb0NGLElBQTNGO0FBQ0FELFNBQU8sR0FBQ1YsS0FBSyxDQUFDVSxPQUFELEVBQVMsQ0FBVCxDQUFiOztBQUNBLE1BQUdQLGdCQUFnQixDQUFDUSxJQUFqQixJQUF1QkQsT0FBMUIsRUFDQTtBQUFDO0FBQ0dOLFVBQU0sQ0FBQ0ksSUFBUCxDQUFZLHFCQUFaO0FBQ0FKLFVBQU0sQ0FBQ0ksSUFBUCxDQUFZLHFDQUFaO0FBQ0FMLG9CQUFnQixDQUFDUSxJQUFqQixHQUFzQkQsT0FBdEI7QUFDSDs7QUFFRCxTQUFPO0FBQUNJLFFBQUksRUFBQ1gsZ0JBQU47QUFBdUJDLFVBQU0sRUFBQ0E7QUFBOUIsR0FBUDtBQUNILENBM0JEOztBQTZCQSxJQUFJVyxpQkFBaUIsR0FBRWIsVUFBRCxJQUN0QjtBQUNJLE1BQUlDLGdCQUFnQixHQUFDRCxVQUFyQjtBQUNBLE1BQUljLGFBQUo7QUFDQSxNQUFJWixNQUFNLEdBQUMsRUFBWCxDQUhKLENBSUk7O0FBQ0FZLGVBQWEsR0FBQ3ZCLFVBQVUsQ0FBQ0csU0FBWCxDQUFxQixlQUFyQixFQUFxQ08sZ0JBQWdCLENBQUNHLGtCQUF0RCxDQUFkO0FBQ0FGLFFBQU0sR0FBQ0EsTUFBTSxDQUFDYSxNQUFQLENBQWNELGFBQWEsQ0FBQ1osTUFBNUIsQ0FBUDtBQUNBRCxrQkFBZ0IsQ0FBQ0csa0JBQWpCLEdBQW9DVSxhQUFhLENBQUNGLElBQWxEO0FBRUEsTUFBSUksU0FBUyxHQUFDZixnQkFBZ0IsQ0FBQ0csa0JBQWpCLENBQW9DSyxJQUFsRDtBQUNBSyxlQUFhLEdBQUN2QixVQUFVLENBQUNLLGdCQUFYLENBQTRCSyxnQkFBZ0IsQ0FBQ1MsWUFBakIsQ0FBOEJDLEtBQTFELEVBQWlFSyxTQUFqRSxFQUE0RSxlQUE1RSxDQUFkO0FBQ0FkLFFBQU0sR0FBQ0EsTUFBTSxDQUFDYSxNQUFQLENBQWNELGFBQWEsQ0FBQ1osTUFBNUIsQ0FBUDtBQUNBRCxrQkFBZ0IsQ0FBQ1MsWUFBakIsQ0FBOEJDLEtBQTlCLEdBQW9DRyxhQUFhLENBQUNGLElBQWxEO0FBQ0FFLGVBQWEsR0FBQ3ZCLFVBQVUsQ0FBQ1EsT0FBWCxDQUFtQkUsZ0JBQW5CLENBQWQ7QUFDQUEsa0JBQWdCLEdBQUNhLGFBQWEsQ0FBQ0YsSUFBL0I7QUFDQVYsUUFBTSxHQUFDQSxNQUFNLENBQUNhLE1BQVAsQ0FBY0QsYUFBYSxDQUFDWixNQUE1QixDQUFQO0FBRUEsU0FBTztBQUFDVSxRQUFJLEVBQUNYLGdCQUFOO0FBQXdCQyxVQUFNLEVBQUNBO0FBQS9CLEdBQVA7QUFDSCxDQW5CRCIsImZpbGUiOiJiMzc0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IHZhbGlkYXRvcnM9e307XHJcblxyXG5pbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJtZWtfcmVmbGVjdG9yLWRhdGEtbW9kdWxlXCIgKi9cIkAvZGF0YV90YWJsZV9tb2R1bGVzL21la19yZWZsZWN0b3IvbWVrX3JlZmxlY3Rvci1kYXRhLW1vZHVsZVwiKVxyXG4udGhlbigoX21vZHVsZSk9PlxyXG57XHJcbiAgICB2YWxpZGF0b3JzLnJlZmxlY3Rvcj1fbW9kdWxlLmNsZWFuZWRfZmVhdHVyZTtcclxufSk7XHJcblxyXG5pbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJtZWtfc3BhY2UtZWZmaWNpZW5jeS1kYXRhLW1vZHVsZVwiICovXCJAL2RhdGFfdGFibGVfbW9kdWxlcy91bml2ZXJzYWwvbWVrX3NwYWNlLWVmZmljaWVuY3ktZGF0YS1tb2R1bGVcIilcclxuLnRoZW4oKF9tb2R1bGUpPT5cclxue1xyXG4gICAgdmFsaWRhdG9ycy5zcGFjZV9lZmZpY2llbmN5PV9tb2R1bGUudmFsaWRhdGVfZWZmaWNpZW5jeTtcclxufSk7XHJcblxyXG5sZXQgcm91bmQ7XHJcbmltcG9ydCgvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcInZhbGlkYXRvcl9mdW5jdGlvbnNcIiAqL1wiLi92YWxpZGF0b3JfZnVuY3Rpb25zXCIpXHJcbi50aGVuKChfbW9kdWxlKT0+XHJcbntcclxuICAgICh7cm91bmR9ID0gX21vZHVsZSk7XHJcbn0pO1xyXG5cclxudmFsaWRhdG9ycy5kZXJpdmVkPShfY29tcG9uZW50KT0+XHJcbntcclxuICAgIGxldCBjbGVhbmVkQ29tcG9uZW50PV9jb21wb25lbnQ7XHJcbiAgICBsZXQgYWxlcnRzPVtdO1xyXG4gICAgLy91cGRhdGUgc3RhdGljIHZhbHVlc1xyXG4gICAgaWYoY2xlYW5lZENvbXBvbmVudC5kYW1hZ2VfY2FwYWNpdHkhPWNsZWFuZWRDb21wb25lbnQuc2VsZWN0ZWRfcmVmbGVjdG9yLnF1YWxpdHlfdmFsdWUpXHJcbiAgICB7Ly92YWxpZGF0ZSBkYW1hZ2UgY2FwYWNpdHlcclxuICAgICAgICBhbGVydHMucHVzaChcIk1lay1SZWZsZWN0b3I6IGRhbWFnZV9jYXBhY2l0eVwiKTtcclxuICAgICAgICBhbGVydHMucHVzaChcIioqKiogSW52YWxpZCBEYW1hZ2UgQ2FwYWNpdHkuIENvcnJlY3RpbmcuICoqKipcIik7XHJcbiAgICAgICAgY2xlYW5lZENvbXBvbmVudC5kYW1hZ2VfY2FwYWNpdHk9Y2xlYW5lZENvbXBvbmVudC5zZWxlY3RlZF9yZWZsZWN0b3IucXVhbGl0eV92YWx1ZTtcclxuICAgIH1cclxuICAgIGlmKGNsZWFuZWRDb21wb25lbnQud2VpZ2h0IT1jbGVhbmVkQ29tcG9uZW50LmRhbWFnZV9jYXBhY2l0eS8yKVxyXG4gICAgey8vdmFsaWRhdGUgd2VpZ2h0XHJcbiAgICAgICAgYWxlcnRzLnB1c2goXCJNZWstUmVmbGVjdG9yOiB3ZWlnaHRcIik7XHJcbiAgICAgICAgYWxlcnRzLnB1c2goXCIqKioqIEludmFsaWQgV2VpZ2h0LiBDb3JyZWN0aW5nLiAqKioqXCIpO1xyXG4gICAgICAgIGNsZWFuZWRDb21wb25lbnQud2VpZ2h0PWNsZWFuZWRDb21wb25lbnQuZGFtYWdlX2NhcGFjaXR5LzI7XHJcbiAgICB9XHJcbiAgICBsZXQgbmV3Q29zdD1jbGVhbmVkQ29tcG9uZW50LnNlbGVjdGVkX3JlZmxlY3Rvci5jb3N0ICsgY2xlYW5lZENvbXBvbmVudC5lZmZpY2llbmNpZXMuc3BhY2UuY29zdDtcclxuICAgIG5ld0Nvc3Q9cm91bmQobmV3Q29zdCwyKTtcclxuICAgIGlmKGNsZWFuZWRDb21wb25lbnQuY29zdCE9bmV3Q29zdClcclxuICAgIHsvL3ZhbGlkYXRlIHdlaWdodFxyXG4gICAgICAgIGFsZXJ0cy5wdXNoKFwiTWVrLVJlZmxlY3RvcjogY29zdFwiKTtcclxuICAgICAgICBhbGVydHMucHVzaChcIioqKiogSW52YWxpZCBDb3N0LiBDb3JyZWN0aW5nLiAqKioqXCIpO1xyXG4gICAgICAgIGNsZWFuZWRDb21wb25lbnQuY29zdD1uZXdDb3N0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7ZGF0YTpjbGVhbmVkQ29tcG9uZW50LGFsZXJ0czphbGVydHN9O1xyXG59O1xyXG5cclxubGV0IHZhbGlkYXRlQ29tcG9uZW50PShfY29tcG9uZW50KT0+XHJcbntcclxuICAgIGxldCBjbGVhbmVkQ29tcG9uZW50PV9jb21wb25lbnQ7XHJcbiAgICBsZXQgdmFsaWRhdGVkRGF0YTtcclxuICAgIGxldCBhbGVydHM9W107XHJcbiAgICAvL2xvb3AgdGhydSBpbmRlcGVuZGVudCB2YWxpZGF0aW9uc1xyXG4gICAgdmFsaWRhdGVkRGF0YT12YWxpZGF0b3JzLnJlZmxlY3RvcihcInF1YWxpdHlfdmFsdWVcIixjbGVhbmVkQ29tcG9uZW50LnNlbGVjdGVkX3JlZmxlY3Rvcik7XHJcbiAgICBhbGVydHM9YWxlcnRzLmNvbmNhdCh2YWxpZGF0ZWREYXRhLmFsZXJ0cyk7XHJcbiAgICBjbGVhbmVkQ29tcG9uZW50LnNlbGVjdGVkX3JlZmxlY3Rvcj12YWxpZGF0ZWREYXRhLmRhdGE7XHJcblxyXG4gICAgbGV0IGJhc2VfY29zdD1jbGVhbmVkQ29tcG9uZW50LnNlbGVjdGVkX3JlZmxlY3Rvci5jb3N0O1xyXG4gICAgdmFsaWRhdGVkRGF0YT12YWxpZGF0b3JzLnNwYWNlX2VmZmljaWVuY3koY2xlYW5lZENvbXBvbmVudC5lZmZpY2llbmNpZXMuc3BhY2UsIGJhc2VfY29zdCwgXCJNZWstUmVmbGVjdG9yXCIpO1xyXG4gICAgYWxlcnRzPWFsZXJ0cy5jb25jYXQodmFsaWRhdGVkRGF0YS5hbGVydHMpO1xyXG4gICAgY2xlYW5lZENvbXBvbmVudC5lZmZpY2llbmNpZXMuc3BhY2U9dmFsaWRhdGVkRGF0YS5kYXRhO1xyXG4gICAgdmFsaWRhdGVkRGF0YT12YWxpZGF0b3JzLmRlcml2ZWQoY2xlYW5lZENvbXBvbmVudCk7XHJcbiAgICBjbGVhbmVkQ29tcG9uZW50PXZhbGlkYXRlZERhdGEuZGF0YTtcclxuICAgIGFsZXJ0cz1hbGVydHMuY29uY2F0KHZhbGlkYXRlZERhdGEuYWxlcnRzKTtcclxuXHJcbiAgICByZXR1cm4ge2RhdGE6Y2xlYW5lZENvbXBvbmVudCwgYWxlcnRzOmFsZXJ0c307XHJcbn07XHJcblxyXG5leHBvcnQge3ZhbGlkYXRlQ29tcG9uZW50fTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///b374\n')}}]);