{"version":3,"sources":["webpack:///./src/store/modules/validators/mek_energy_pool_validator.js","webpack:///./node_modules/core-js/library/modules/_object-to-array.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/entries.js","webpack:///./node_modules/core-js/library/modules/es7.object.entries.js","webpack:///./node_modules/core-js/library/fn/object/entries.js"],"names":["loopValidators","updateMultipliers","round","validators","__webpack_require__","e","then","bind","_module","size","cleaned_feature","pool","feature","space_efficiency","validate_efficiency","derived","_component","cleanedComponent","alerts","isFragile","feature_array","some","_val","newDamageCapacity","selected_energy_pool","damage_capacity","push","newWeight","weight","newCost","cost","cost_multiplier","efficiencies","space","isMorphable","undefined","selected_morphable","data","validateComponent","validatedData","loopAlerts","updateList","componentsToValidate","validator","pkey","component_prop","_loopValidators","concat","cost_multipliers","F_DEV_Projects_Mekton_Mek_Generator_node_modules_babel_runtime_corejs2_core_js_object_entries__WEBPACK_IMPORTED_MODULE_0___default","reduce","_multi","total_cost","getKeys","toIObject","isEnum","f","module","exports","isEntries","it","key","O","keys","length","i","result","call","$export","$entries","S","entries","Object"],"mappings":"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","file":"js/mek_energy_pool_validator-legacy.12de3387.js","sourcesContent":["let validators={};\r\n\r\nimport(/* webpackChunkName: \"mek_energy_pool-size-data-module\" */\r\n    \"@/data_table_modules/mek_energy_pool/mek_energy_pool-size-data-module\")\r\n.then((_module)=>\r\n{\r\n    validators.size=_module.cleaned_feature;\r\n});\r\n\r\nimport(/* webpackChunkName: \"mek_energy_pool-pool-data-module\" */\r\n    \"@/data_table_modules/mek_energy_pool/mek_energy_pool-pool-data-module\")\r\n.then((_module)=>\r\n{\r\n    validators.pool=_module.cleaned_feature;\r\n});\r\n\r\nimport(/* webpackChunkName: \"mek_energy_pool-feature-data-module\" */\r\n    \"@/data_table_modules/mek_energy_pool/mek_energy_pool-feature-data-module\")\r\n.then((_module)=>\r\n{\r\n    validators.feature=_module.cleaned_feature;\r\n});\r\n\r\nimport(/* webpackChunkName: \"mek_space-efficiency-data-module\" */\"@/data_table_modules/universal/mek_space-efficiency-data-module\")\r\n.then((_module)=>\r\n{\r\n    validators.space_efficiency=_module.validate_efficiency;\r\n});\r\n\r\nlet loopValidators, updateMultipliers, round;\r\nimport(/* webpackChunkName: \"validator_functions\" */\"./validator_functions\")\r\n.then((_module)=>\r\n{\r\n    ({loopValidators, updateMultipliers, round} = _module);\r\n});\r\n\r\nvalidators.derived=(_component)=>\r\n{\r\n    let cleanedComponent=_component;\r\n    let alerts=[];\r\n    //update static values\r\n    let isFragile=cleanedComponent.feature_array.some((_val)=>\r\n    {\r\n        return _val.feature==\"Fragile\";\r\n    });\r\n    let newDamageCapacity=isFragile?1:cleanedComponent.selected_energy_pool.damage_capacity;\r\n    if(cleanedComponent.damage_capacity!=newDamageCapacity)\r\n    {//validate damage capacity\r\n        alerts.push(\"Mek-Energy_Pool: damage_capacity\");\r\n        alerts.push(\"**** Invalid Damage Capacity. Correcting. ****\");\r\n        cleanedComponent.damage_capacity=newDamageCapacity;\r\n    }\r\n    let newWeight=cleanedComponent.selected_energy_pool.damage_capacity/2;\r\n    if(cleanedComponent.weight!=newWeight)\r\n    {//validate weight\r\n        alerts.push(\"Mek-Energy_Pool: weight\");\r\n        alerts.push(\"**** Invalid Weight. Correcting. ****\");\r\n        cleanedComponent.weight=newWeight;\r\n    }\r\n    let newCost=(cleanedComponent.selected_energy_pool.cost * cleanedComponent.cost_multiplier)\r\n            + cleanedComponent.efficiencies.space.cost;\r\n    if(cleanedComponent.cost!=newCost)\r\n    {//validate weight\r\n        alerts.push(\"Mek-Energy_Pool: cost\");\r\n        alerts.push(\"**** Invalid Cost. Correcting. ****\");\r\n        cleanedComponent.cost=newCost;\r\n    }\r\n    let isMorphable=cleanedComponent.feature_array.some((_val)=>\r\n    {\r\n        return _val.feature==\"Morphable\";\r\n    });\r\n    switch(true)\r\n    {\r\n        case isMorphable && (cleanedComponent.selected_morphable===undefined || !cleanedComponent.selected_morphable):\r\n        case !isMorphable && cleanedComponent.selected_morphable:\r\n            alerts.push(\"Mek-Energy_Pool: Morphable\");\r\n            alerts.push(\"**** Invalid Morphable data. Correcting. ****\");\r\n            cleanedComponent.selected_morphable=isMorphable;\r\n    }\r\n\r\n    return {data:cleanedComponent,alerts:alerts};\r\n};\r\n\r\nlet validateComponent=(_component)=>\r\n{\r\n    let cleanedComponent=_component;\r\n    let validatedData;\r\n    let updateList=[\"selected_portfolio_size\",\"feature_array\"];\r\n    let loopAlerts;\r\n    let alerts=[];\r\n    //loop thru independent validations\r\n    let componentsToValidate=\r\n    [\r\n        {validator:validators.pool,pkey:\"power_available\",component_prop:\"selected_energy_pool\"},\r\n        {validator:validators.size,pkey:\"size\",component_prop:\"selected_portfolio_size\"},\r\n        {validator:validators.feature,pkey:\"feature\",component_prop:'feature_array'},\r\n    ];\r\n    ({cleanedComponent, loopAlerts} = loopValidators(componentsToValidate, cleanedComponent));\r\n    alerts=alerts.concat(loopAlerts)\r\n    //update cost_multipliers for components needing update\r\n    validatedData=updateMultipliers(updateList,cleanedComponent,\"Mek-Energy_Pool\");\r\n    cleanedComponent.cost_multipliers=validatedData.data;\r\n    alerts=alerts.concat(validatedData.alerts);\r\n    //validate space efficiency\r\n    let cost_multiplier=Object.entries(cleanedComponent.cost_multipliers).reduce((_multi, _val)=>\r\n    {//calc new cost_multiplier\r\n        return _multi*_val[1];\r\n    },1);\r\n    cleanedComponent.cost_multiplier=round(cost_multiplier,2);\r\n    let total_cost=cleanedComponent.selected_energy_pool.cost * cleanedComponent.cost_multiplier;\r\n    validatedData=validators.space_efficiency(cleanedComponent.efficiencies.space, total_cost, \"Mek-Energy_Pool\");\r\n    alerts=alerts.concat(validatedData.alerts);\r\n    cleanedComponent.efficiencies.space=validatedData.data;\r\n    //update derived values\r\n    validatedData=validators.derived(cleanedComponent);\r\n    cleanedComponent=validatedData.data;\r\n    alerts=alerts.concat(validatedData.alerts);\r\n\r\n    return {data:cleanedComponent,alerts:alerts};\r\n};\r\n\r\nexport {validateComponent};","var getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) if (isEnum.call(O, key = keys[i++])) {\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n","module.exports = require(\"core-js/library/fn/object/entries\");","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $entries = require('./_object-to-array')(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it) {\n    return $entries(it);\n  }\n});\n","require('../../modules/es7.object.entries');\nmodule.exports = require('../../modules/_core').Object.entries;\n"],"sourceRoot":""}