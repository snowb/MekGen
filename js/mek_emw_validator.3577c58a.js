(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mek_emw_validator"],{ffd5:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "validateComponent", function() { return validateComponent; });\n/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("ac6a");\n/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__);\n\nlet validators = {};\n__webpack_require__.e(/* import() | mek_emw-accuracy-data-module */ "mek_emw-accuracy-data-module").then(__webpack_require__.bind(null, "643f")).then(_module => {\n  validators.accuracy = _module.cleaned_feature;\n});\n__webpack_require__.e(/* import() | mek_emw-attack-factor-data-module */ "mek_emw-attack-factor-data-module").then(__webpack_require__.bind(null, "2170")).then(_module => {\n  validators.attack_factor = _module.cleaned_feature;\n});\n__webpack_require__.e(/* import() | mek_emw-damage-data-module */ "mek_emw-damage-data-module").then(__webpack_require__.bind(null, "77b7")).then(_module => {\n  validators.damage = _module.cleaned_feature;\n  validators.update_damage = _module.create_damage_data_table;\n});\n__webpack_require__.e(/* import() | mek_emw-feature-data-module */ "mek_emw-feature-data-module").then(__webpack_require__.bind(null, "e125")).then(_module => {\n  validators.filter_feature = _module.filter_data_table; //filter based on burst_value\n\n  validators.feature = _module.cleaned_feature;\n});\n__webpack_require__.e(/* import() | mek_emw-turns-in-use-data-module */ "mek_emw-turns-in-use-data-module").then(__webpack_require__.bind(null, "9e76")).then(_module => {\n  validators.turns_in_use = _module.cleaned_feature;\n});\n__webpack_require__.e(/* import() | mek_space-efficiency-data-module */ "mek_space-efficiency-data-module").then(__webpack_require__.bind(null, "16e1")).then(_module => {\n  validators.space_efficiency = _module.validate_efficiency;\n});\nlet loopValidators, updateMultipliers, round;\n__webpack_require__.e(/* import() | validator_functions */ "validator_functions").then(__webpack_require__.bind(null, "07de")).then(_module => {\n  loopValidators = _module.loopValidators;\n  updateMultipliers = _module.updateMultipliers;\n  round = _module.round;\n});\n\nvalidators.derived = (_component, _isVarBeamShield, _isBeamShield) => {\n  let cleanedComponent = _component;\n  let alerts = [];\n  let validatedData;\n  let updateList = ["selected_turns_in_use", "selected_accuracy", "selected_attack_factor", "feature_array"]; //update cost_multipliers for components needing update\n\n  validatedData = updateMultipliers(updateList, cleanedComponent, "Mek-EMW");\n  cleanedComponent.cost_multipliers = validatedData.data;\n  alerts = alerts.concat(validatedData.alerts); //update cost_multiplier\n\n  let cost_multiplier = Object.entries(cleanedComponent.cost_multipliers).reduce((_multi, _val) => {\n    //calc new cost_multiplier\n    return _multi * _val[1];\n  }, 1);\n  cost_multiplier = round(cost_multiplier, 2);\n\n  if (cleanedComponent.cost_multiplier != cost_multiplier) {\n    alerts.push("Mek-EMW: cost_multiplier");\n    alerts.push("**** Invalid Cost Multiplier. Correcting. ****");\n    cleanedComponent.cost_multiplier = round(cost_multiplier, 2);\n  }\n\n  let newDamageCapacity = round(cleanedComponent.selected_damage.cost / 4, 2);\n\n  if (cleanedComponent.damage_capacity != newDamageCapacity) {\n    alerts.push("Mek-EMW: damage_capacity");\n    alerts.push("**** Invalid Damage Capacity. Correcting. ****");\n    cleanedComponent.damage_capacity = newDamageCapacity;\n  }\n\n  let newWeight = round(newDamageCapacity / 2, 2);\n\n  if (cleanedComponent.weight != newWeight) {\n    alerts.push("Mek-EMW: weight");\n    alerts.push("**** Invalid Weight. Correcting. ****");\n    cleanedComponent.weight = newWeight;\n  }\n\n  let newCost = cleanedComponent.selected_damage.cost * cost_multiplier + cleanedComponent.efficiencies.space.cost;\n  newCost = round(newCost, 2);\n\n  if (cleanedComponent.cost != newCost) {\n    alerts.push("Mek-EMW: cost");\n    alerts.push("**** Invalid cost. Correcting. ****");\n    cleanedComponent.cost = newCost;\n  }\n\n  let newBeamShield = {\n    stopping_power: cleanedComponent.selected_damage.cost,\n    defense_accuracy: cleanedComponent.selected_accuracy.accuracy - 2,\n    damage: cleanedComponent.selected_damage.damage\n  };\n\n  if (cleanedComponent.beam_shield === undefined && _isBeamShield) {\n    alerts.push("Mek-EMW: beam_shield");\n    alerts.push("**** Beam Shield data missing. Correcting. ****");\n    cleanedComponent.beam_shield = newBeamShield;\n  }\n\n  if (cleanedComponent.beam_shield.stopping_power != newBeamShield.stopping_power) {\n    alerts.push("Mek-EMW: beam_shield.stopping_power");\n    alerts.push("**** Invalid Beam Shield Stopping Power: Correcting. ****");\n    cleanedComponent.beam_shield.stopping_power = newBeamShield.stopping_power;\n  }\n\n  if (cleanedComponent.beam_shield.defense_accuracy != newBeamShield.defense_accuracy) {\n    alerts.push("Mek-EMW: beam_shield.defense_accuracy");\n    alerts.push("**** Invalid Beam Shield Defense Accuracy: Correcting. ****");\n    cleanedComponent.beam_shield.defense_accuracy = newBeamShield.defense_accuracy;\n  }\n\n  if (cleanedComponent.beam_shield.damage != newBeamShield.damage) {\n    alerts.push("Mek-EMW: beam_shield.damage");\n    alerts.push("**** Invalid Beam Shield Damage: Correcting. ****");\n    cleanedComponent.beam_shield.damage = newBeamShield.damage;\n  }\n\n  return {\n    data: cleanedComponent,\n    alerts: alerts\n  };\n};\n\nlet validateComponent = _component => {\n  let cleanedComponent = _component;\n  let validatedData;\n  let loopAlerts;\n  let alerts = []; //validate turns in use as feature array is dependent\n\n  validatedData = validators.turns_in_use("turns", cleanedComponent.selected_turns_in_use);\n  cleanedComponent.selected_turns_in_use = validatedData.data;\n  alerts = alerts.concat(validatedData.alerts); //update feature table\n\n  validators.filter_feature(cleanedComponent.selected_turns_in_use.turns == "__INFINITY__"); //validate feature_array, as selected_damage is dependent\n\n  validatedData = validators.feature(cleanedComponent.feature_array, "feature");\n  cleanedComponent.feature_array = validatedData.cleaned_array;\n  alerts = alerts.concat(validatedData.alerts); //update isBeamShield and isVariableBeamShield\n\n  let isVariableBeamShield = false;\n  let isBeamShield = cleanedComponent.feature_array.some(_feat => {\n    if (/.*variable.*beam.*shield.*/gi.test(_feat.feature)) {\n      isVariableBeamShield = true;\n    }\n\n    return /.*beam.*shield.*/gi.test(_feat.feature);\n  }); //update damage validator\n\n  validators.update_damage(isBeamShield && !isVariableBeamShield); //loop thru other validations\n\n  let componentsToValidate = [{\n    validator: validators.damage,\n    pkey: "cost",\n    component_prop: "selected_damage"\n  }, {\n    validator: validators.accuracy,\n    pkey: "accuracy",\n    component_prop: \'selected_accuracy\'\n  }, {\n    validator: validators.attack_factor,\n    pkey: "attack_factor",\n    component_prop: \'selected_attack_factor\'\n  }];\n\n  var _loopValidators = loopValidators(componentsToValidate, cleanedComponent);\n\n  cleanedComponent = _loopValidators.cleanedComponent;\n  loopAlerts = _loopValidators.loopAlerts;\n  alerts = alerts.concat(loopAlerts); //call validators.derived() here\n\n  validatedData = validators.derived(cleanedComponent, isVariableBeamShield, isBeamShield);\n  cleanedComponent = validatedData.data;\n  alerts = alerts.concat(validatedData.alerts);\n  let total_cost = cleanedComponent.selected_damage.cost * cleanedComponent.cost_multiplier; //update space efficiency\n\n  validatedData = validators.space_efficiency(cleanedComponent.efficiencies.space, total_cost, "Mek-EMW");\n  alerts = alerts.concat(validatedData.alerts);\n  cleanedComponent.efficiencies.space = validatedData.data;\n  return {\n    data: cleanedComponent,\n    alerts: alerts\n  };\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RvcmUvbW9kdWxlcy92YWxpZGF0b3JzL21la19lbXdfdmFsaWRhdG9yLmpzP2ZmZDUiXSwibmFtZXMiOlsidmFsaWRhdG9ycyIsInRoZW4iLCJfbW9kdWxlIiwiYWNjdXJhY3kiLCJjbGVhbmVkX2ZlYXR1cmUiLCJhdHRhY2tfZmFjdG9yIiwiZGFtYWdlIiwidXBkYXRlX2RhbWFnZSIsImNyZWF0ZV9kYW1hZ2VfZGF0YV90YWJsZSIsImZpbHRlcl9mZWF0dXJlIiwiZmlsdGVyX2RhdGFfdGFibGUiLCJmZWF0dXJlIiwidHVybnNfaW5fdXNlIiwic3BhY2VfZWZmaWNpZW5jeSIsInZhbGlkYXRlX2VmZmljaWVuY3kiLCJsb29wVmFsaWRhdG9ycyIsInVwZGF0ZU11bHRpcGxpZXJzIiwicm91bmQiLCJkZXJpdmVkIiwiX2NvbXBvbmVudCIsIl9pc1ZhckJlYW1TaGllbGQiLCJfaXNCZWFtU2hpZWxkIiwiY2xlYW5lZENvbXBvbmVudCIsImFsZXJ0cyIsInZhbGlkYXRlZERhdGEiLCJ1cGRhdGVMaXN0IiwiY29zdF9tdWx0aXBsaWVycyIsImRhdGEiLCJjb25jYXQiLCJjb3N0X211bHRpcGxpZXIiLCJPYmplY3QiLCJlbnRyaWVzIiwicmVkdWNlIiwiX211bHRpIiwiX3ZhbCIsInB1c2giLCJuZXdEYW1hZ2VDYXBhY2l0eSIsInNlbGVjdGVkX2RhbWFnZSIsImNvc3QiLCJkYW1hZ2VfY2FwYWNpdHkiLCJuZXdXZWlnaHQiLCJ3ZWlnaHQiLCJuZXdDb3N0IiwiZWZmaWNpZW5jaWVzIiwic3BhY2UiLCJuZXdCZWFtU2hpZWxkIiwic3RvcHBpbmdfcG93ZXIiLCJkZWZlbnNlX2FjY3VyYWN5Iiwic2VsZWN0ZWRfYWNjdXJhY3kiLCJiZWFtX3NoaWVsZCIsInVuZGVmaW5lZCIsInZhbGlkYXRlQ29tcG9uZW50IiwibG9vcEFsZXJ0cyIsInNlbGVjdGVkX3R1cm5zX2luX3VzZSIsInR1cm5zIiwiZmVhdHVyZV9hcnJheSIsImNsZWFuZWRfYXJyYXkiLCJpc1ZhcmlhYmxlQmVhbVNoaWVsZCIsImlzQmVhbVNoaWVsZCIsInNvbWUiLCJfZmVhdCIsInRlc3QiLCJjb21wb25lbnRzVG9WYWxpZGF0ZSIsInZhbGlkYXRvciIsInBrZXkiLCJjb21wb25lbnRfcHJvcCIsInRvdGFsX2Nvc3QiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBSUEsVUFBVSxHQUFDLEVBQWY7QUFFQSxpSkFDQ0MsSUFERCxDQUNPQyxPQUFELElBQ047QUFDSUYsWUFBVSxDQUFDRyxRQUFYLEdBQW9CRCxPQUFPLENBQUNFLGVBQTVCO0FBQ0gsQ0FKRDtBQU1BLDJKQUNDSCxJQURELENBQ09DLE9BQUQsSUFDTjtBQUNJRixZQUFVLENBQUNLLGFBQVgsR0FBeUJILE9BQU8sQ0FBQ0UsZUFBakM7QUFDSCxDQUpEO0FBTUEsNklBQ0NILElBREQsQ0FDT0MsT0FBRCxJQUNOO0FBQ0lGLFlBQVUsQ0FBQ00sTUFBWCxHQUFrQkosT0FBTyxDQUFDRSxlQUExQjtBQUNBSixZQUFVLENBQUNPLGFBQVgsR0FBeUJMLE9BQU8sQ0FBQ00sd0JBQWpDO0FBQ0gsQ0FMRDtBQU9BLCtJQUNDUCxJQURELENBQ09DLE9BQUQsSUFDTjtBQUNJRixZQUFVLENBQUNTLGNBQVgsR0FBMEJQLE9BQU8sQ0FBQ1EsaUJBQWxDLENBREosQ0FDd0Q7O0FBQ3BEVixZQUFVLENBQUNXLE9BQVgsR0FBbUJULE9BQU8sQ0FBQ0UsZUFBM0I7QUFDSCxDQUxEO0FBT0EseUpBQ0NILElBREQsQ0FDT0MsT0FBRCxJQUNOO0FBQ0lGLFlBQVUsQ0FBQ1ksWUFBWCxHQUF3QlYsT0FBTyxDQUFDRSxlQUFoQztBQUNILENBSkQ7QUFNQSx5SkFDQ0gsSUFERCxDQUNPQyxPQUFELElBQ047QUFDSUYsWUFBVSxDQUFDYSxnQkFBWCxHQUE0QlgsT0FBTyxDQUFDWSxtQkFBcEM7QUFDSCxDQUpEO0FBTUEsSUFBSUMsY0FBSixFQUFvQkMsaUJBQXBCLEVBQXVDQyxLQUF2QztBQUNBLCtIQUNDaEIsSUFERCxDQUNPQyxPQUFELElBQ047QUFDTWEsZ0JBRE4sR0FDa0RiLE9BRGxELENBQ01hLGNBRE47QUFDc0JDLG1CQUR0QixHQUNrRGQsT0FEbEQsQ0FDc0JjLGlCQUR0QjtBQUN5Q0MsT0FEekMsR0FDa0RmLE9BRGxELENBQ3lDZSxLQUR6QztBQUVDLENBSkQ7O0FBTUFqQixVQUFVLENBQUNrQixPQUFYLEdBQW1CLENBQUNDLFVBQUQsRUFBYUMsZ0JBQWIsRUFBK0JDLGFBQS9CLEtBQ25CO0FBQ0ksTUFBSUMsZ0JBQWdCLEdBQUNILFVBQXJCO0FBQ0EsTUFBSUksTUFBTSxHQUFDLEVBQVg7QUFDQSxNQUFJQyxhQUFKO0FBQ0EsTUFBSUMsVUFBVSxHQUFDLENBQUMsdUJBQUQsRUFBeUIsbUJBQXpCLEVBQTZDLHdCQUE3QyxFQUFzRSxlQUF0RSxDQUFmLENBSkosQ0FLSTs7QUFDQUQsZUFBYSxHQUFDUixpQkFBaUIsQ0FBQ1MsVUFBRCxFQUFZSCxnQkFBWixFQUE2QixTQUE3QixDQUEvQjtBQUNBQSxrQkFBZ0IsQ0FBQ0ksZ0JBQWpCLEdBQWtDRixhQUFhLENBQUNHLElBQWhEO0FBQ0FKLFFBQU0sR0FBQ0EsTUFBTSxDQUFDSyxNQUFQLENBQWNKLGFBQWEsQ0FBQ0QsTUFBNUIsQ0FBUCxDQVJKLENBU0k7O0FBQ0EsTUFBSU0sZUFBZSxHQUFDQyxNQUFNLENBQUNDLE9BQVAsQ0FBZVQsZ0JBQWdCLENBQUNJLGdCQUFoQyxFQUFrRE0sTUFBbEQsQ0FBeUQsQ0FBQ0MsTUFBRCxFQUFTQyxJQUFULEtBQzdFO0FBQUM7QUFDRyxXQUFPRCxNQUFNLEdBQUNDLElBQUksQ0FBQyxDQUFELENBQWxCO0FBQ0gsR0FIbUIsRUFHbEIsQ0FIa0IsQ0FBcEI7QUFJQUwsaUJBQWUsR0FBQ1osS0FBSyxDQUFDWSxlQUFELEVBQWlCLENBQWpCLENBQXJCOztBQUNBLE1BQUdQLGdCQUFnQixDQUFDTyxlQUFqQixJQUFrQ0EsZUFBckMsRUFDQTtBQUNJTixVQUFNLENBQUNZLElBQVAsQ0FBWSwwQkFBWjtBQUNBWixVQUFNLENBQUNZLElBQVAsQ0FBWSxnREFBWjtBQUNBYixvQkFBZ0IsQ0FBQ08sZUFBakIsR0FBaUNaLEtBQUssQ0FBQ1ksZUFBRCxFQUFpQixDQUFqQixDQUF0QztBQUNIOztBQUNELE1BQUlPLGlCQUFpQixHQUFDbkIsS0FBSyxDQUFDSyxnQkFBZ0IsQ0FBQ2UsZUFBakIsQ0FBaUNDLElBQWpDLEdBQXNDLENBQXZDLEVBQXlDLENBQXpDLENBQTNCOztBQUNBLE1BQUdoQixnQkFBZ0IsQ0FBQ2lCLGVBQWpCLElBQWtDSCxpQkFBckMsRUFDQTtBQUNJYixVQUFNLENBQUNZLElBQVAsQ0FBWSwwQkFBWjtBQUNBWixVQUFNLENBQUNZLElBQVAsQ0FBWSxnREFBWjtBQUNBYixvQkFBZ0IsQ0FBQ2lCLGVBQWpCLEdBQWlDSCxpQkFBakM7QUFDSDs7QUFDRCxNQUFJSSxTQUFTLEdBQUN2QixLQUFLLENBQUNtQixpQkFBaUIsR0FBQyxDQUFuQixFQUFxQixDQUFyQixDQUFuQjs7QUFDQSxNQUFHZCxnQkFBZ0IsQ0FBQ21CLE1BQWpCLElBQXlCRCxTQUE1QixFQUNBO0FBQ0lqQixVQUFNLENBQUNZLElBQVAsQ0FBWSxpQkFBWjtBQUNBWixVQUFNLENBQUNZLElBQVAsQ0FBWSx1Q0FBWjtBQUNBYixvQkFBZ0IsQ0FBQ21CLE1BQWpCLEdBQXdCRCxTQUF4QjtBQUNIOztBQUNELE1BQUlFLE9BQU8sR0FBRXBCLGdCQUFnQixDQUFDZSxlQUFqQixDQUFpQ0MsSUFBakMsR0FBd0NULGVBQXpDLEdBQTREUCxnQkFBZ0IsQ0FBQ3FCLFlBQWpCLENBQThCQyxLQUE5QixDQUFvQ04sSUFBNUc7QUFDQUksU0FBTyxHQUFDekIsS0FBSyxDQUFDeUIsT0FBRCxFQUFTLENBQVQsQ0FBYjs7QUFDQSxNQUFHcEIsZ0JBQWdCLENBQUNnQixJQUFqQixJQUF1QkksT0FBMUIsRUFDQTtBQUNJbkIsVUFBTSxDQUFDWSxJQUFQLENBQVksZUFBWjtBQUNBWixVQUFNLENBQUNZLElBQVAsQ0FBWSxxQ0FBWjtBQUNBYixvQkFBZ0IsQ0FBQ2dCLElBQWpCLEdBQXNCSSxPQUF0QjtBQUNIOztBQUNELE1BQUlHLGFBQWEsR0FBQztBQUNWQyxrQkFBYyxFQUFDeEIsZ0JBQWdCLENBQUNlLGVBQWpCLENBQWlDQyxJQUR0QztBQUVWUyxvQkFBZ0IsRUFBQ3pCLGdCQUFnQixDQUFDMEIsaUJBQWpCLENBQW1DN0MsUUFBbkMsR0FBNEMsQ0FGbkQ7QUFHVkcsVUFBTSxFQUFFZ0IsZ0JBQWdCLENBQUNlLGVBQWpCLENBQWlDL0I7QUFIL0IsR0FBbEI7O0FBS0EsTUFBR2dCLGdCQUFnQixDQUFDMkIsV0FBakIsS0FBK0JDLFNBQS9CLElBQTRDN0IsYUFBL0MsRUFDQTtBQUNJRSxVQUFNLENBQUNZLElBQVAsQ0FBWSxzQkFBWjtBQUNBWixVQUFNLENBQUNZLElBQVAsQ0FBWSxpREFBWjtBQUNBYixvQkFBZ0IsQ0FBQzJCLFdBQWpCLEdBQTZCSixhQUE3QjtBQUNIOztBQUNELE1BQUd2QixnQkFBZ0IsQ0FBQzJCLFdBQWpCLENBQTZCSCxjQUE3QixJQUE2Q0QsYUFBYSxDQUFDQyxjQUE5RCxFQUNBO0FBQ0l2QixVQUFNLENBQUNZLElBQVAsQ0FBWSxxQ0FBWjtBQUNBWixVQUFNLENBQUNZLElBQVAsQ0FBWSwyREFBWjtBQUNBYixvQkFBZ0IsQ0FBQzJCLFdBQWpCLENBQTZCSCxjQUE3QixHQUE0Q0QsYUFBYSxDQUFDQyxjQUExRDtBQUNIOztBQUNELE1BQUd4QixnQkFBZ0IsQ0FBQzJCLFdBQWpCLENBQTZCRixnQkFBN0IsSUFBK0NGLGFBQWEsQ0FBQ0UsZ0JBQWhFLEVBQ0E7QUFDSXhCLFVBQU0sQ0FBQ1ksSUFBUCxDQUFZLHVDQUFaO0FBQ0FaLFVBQU0sQ0FBQ1ksSUFBUCxDQUFZLDZEQUFaO0FBQ0FiLG9CQUFnQixDQUFDMkIsV0FBakIsQ0FBNkJGLGdCQUE3QixHQUE4Q0YsYUFBYSxDQUFDRSxnQkFBNUQ7QUFDSDs7QUFDRCxNQUFHekIsZ0JBQWdCLENBQUMyQixXQUFqQixDQUE2QjNDLE1BQTdCLElBQXFDdUMsYUFBYSxDQUFDdkMsTUFBdEQsRUFDQTtBQUNJaUIsVUFBTSxDQUFDWSxJQUFQLENBQVksNkJBQVo7QUFDQVosVUFBTSxDQUFDWSxJQUFQLENBQVksbURBQVo7QUFDQWIsb0JBQWdCLENBQUMyQixXQUFqQixDQUE2QjNDLE1BQTdCLEdBQW9DdUMsYUFBYSxDQUFDdkMsTUFBbEQ7QUFDSDs7QUFFRCxTQUFPO0FBQUNxQixRQUFJLEVBQUNMLGdCQUFOO0FBQXdCQyxVQUFNLEVBQUNBO0FBQS9CLEdBQVA7QUFDSCxDQTNFRDs7QUE2RUEsSUFBSTRCLGlCQUFpQixHQUFFaEMsVUFBRCxJQUN0QjtBQUNJLE1BQUlHLGdCQUFnQixHQUFDSCxVQUFyQjtBQUNBLE1BQUlLLGFBQUo7QUFDQSxNQUFJNEIsVUFBSjtBQUNBLE1BQUk3QixNQUFNLEdBQUMsRUFBWCxDQUpKLENBS0k7O0FBQ0FDLGVBQWEsR0FBQ3hCLFVBQVUsQ0FBQ1ksWUFBWCxDQUF3QixPQUF4QixFQUFnQ1UsZ0JBQWdCLENBQUMrQixxQkFBakQsQ0FBZDtBQUNBL0Isa0JBQWdCLENBQUMrQixxQkFBakIsR0FBdUM3QixhQUFhLENBQUNHLElBQXJEO0FBQ0FKLFFBQU0sR0FBQ0EsTUFBTSxDQUFDSyxNQUFQLENBQWNKLGFBQWEsQ0FBQ0QsTUFBNUIsQ0FBUCxDQVJKLENBU0k7O0FBQ0F2QixZQUFVLENBQUNTLGNBQVgsQ0FBMEJhLGdCQUFnQixDQUFDK0IscUJBQWpCLENBQXVDQyxLQUF2QyxJQUE4QyxjQUF4RSxFQVZKLENBV0k7O0FBQ0E5QixlQUFhLEdBQUN4QixVQUFVLENBQUNXLE9BQVgsQ0FBbUJXLGdCQUFnQixDQUFDaUMsYUFBcEMsRUFBa0QsU0FBbEQsQ0FBZDtBQUNBakMsa0JBQWdCLENBQUNpQyxhQUFqQixHQUErQi9CLGFBQWEsQ0FBQ2dDLGFBQTdDO0FBQ0FqQyxRQUFNLEdBQUNBLE1BQU0sQ0FBQ0ssTUFBUCxDQUFjSixhQUFhLENBQUNELE1BQTVCLENBQVAsQ0FkSixDQWVJOztBQUNBLE1BQUlrQyxvQkFBb0IsR0FBQyxLQUF6QjtBQUNBLE1BQUlDLFlBQVksR0FBQ3BDLGdCQUFnQixDQUFDaUMsYUFBakIsQ0FBK0JJLElBQS9CLENBQXFDQyxLQUFELElBQ3JEO0FBQ0ksUUFBRywrQkFBK0JDLElBQS9CLENBQW9DRCxLQUFLLENBQUNqRCxPQUExQyxDQUFILEVBQ0E7QUFDSThDLDBCQUFvQixHQUFDLElBQXJCO0FBQ0g7O0FBQ0QsV0FBTyxxQkFBcUJJLElBQXJCLENBQTBCRCxLQUFLLENBQUNqRCxPQUFoQyxDQUFQO0FBQ0gsR0FQZ0IsQ0FBakIsQ0FqQkosQ0F5Qkk7O0FBQ0FYLFlBQVUsQ0FBQ08sYUFBWCxDQUF5Qm1ELFlBQVksSUFBSSxDQUFDRCxvQkFBMUMsRUExQkosQ0EyQkk7O0FBQ0EsTUFBSUssb0JBQW9CLEdBQ3hCLENBQ0k7QUFBQ0MsYUFBUyxFQUFDL0QsVUFBVSxDQUFDTSxNQUF0QjtBQUE2QjBELFFBQUksRUFBQyxNQUFsQztBQUF5Q0Msa0JBQWMsRUFBQztBQUF4RCxHQURKLEVBRUk7QUFBQ0YsYUFBUyxFQUFDL0QsVUFBVSxDQUFDRyxRQUF0QjtBQUErQjZELFFBQUksRUFBQyxVQUFwQztBQUErQ0Msa0JBQWMsRUFBQztBQUE5RCxHQUZKLEVBR0k7QUFBQ0YsYUFBUyxFQUFDL0QsVUFBVSxDQUFDSyxhQUF0QjtBQUFvQzJELFFBQUksRUFBQyxlQUF6QztBQUF5REMsa0JBQWMsRUFBQztBQUF4RSxHQUhKLENBREE7O0FBNUJKLHdCQWtDc0NsRCxjQUFjLENBQUMrQyxvQkFBRCxFQUF1QnhDLGdCQUF2QixDQWxDcEQ7O0FBa0NNQSxrQkFsQ04sbUJBa0NNQSxnQkFsQ047QUFrQ3dCOEIsWUFsQ3hCLG1CQWtDd0JBLFVBbEN4QjtBQW1DSTdCLFFBQU0sR0FBQ0EsTUFBTSxDQUFDSyxNQUFQLENBQWN3QixVQUFkLENBQVAsQ0FuQ0osQ0FxQ0k7O0FBQ0E1QixlQUFhLEdBQUN4QixVQUFVLENBQUNrQixPQUFYLENBQW1CSSxnQkFBbkIsRUFBcUNtQyxvQkFBckMsRUFBMkRDLFlBQTNELENBQWQ7QUFDQXBDLGtCQUFnQixHQUFDRSxhQUFhLENBQUNHLElBQS9CO0FBQ0FKLFFBQU0sR0FBQ0EsTUFBTSxDQUFDSyxNQUFQLENBQWNKLGFBQWEsQ0FBQ0QsTUFBNUIsQ0FBUDtBQUVBLE1BQUkyQyxVQUFVLEdBQUM1QyxnQkFBZ0IsQ0FBQ2UsZUFBakIsQ0FBaUNDLElBQWpDLEdBQXdDaEIsZ0JBQWdCLENBQUNPLGVBQXhFLENBMUNKLENBMkNJOztBQUNBTCxlQUFhLEdBQUN4QixVQUFVLENBQUNhLGdCQUFYLENBQTRCUyxnQkFBZ0IsQ0FBQ3FCLFlBQWpCLENBQThCQyxLQUExRCxFQUFpRXNCLFVBQWpFLEVBQTZFLFNBQTdFLENBQWQ7QUFDQTNDLFFBQU0sR0FBQ0EsTUFBTSxDQUFDSyxNQUFQLENBQWNKLGFBQWEsQ0FBQ0QsTUFBNUIsQ0FBUDtBQUNBRCxrQkFBZ0IsQ0FBQ3FCLFlBQWpCLENBQThCQyxLQUE5QixHQUFvQ3BCLGFBQWEsQ0FBQ0csSUFBbEQ7QUFFQSxTQUFPO0FBQUNBLFFBQUksRUFBQ0wsZ0JBQU47QUFBdUJDLFVBQU0sRUFBQ0E7QUFBOUIsR0FBUDtBQUNILENBbEREIiwiZmlsZSI6ImZmZDUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgdmFsaWRhdG9ycz17fTtcclxuXHJcbmltcG9ydCgvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcIm1la19lbXctYWNjdXJhY3ktZGF0YS1tb2R1bGVcIiAqL1wiQC9kYXRhX3RhYmxlX21vZHVsZXMvbWVrX2Vtdy9tZWtfZW13LWFjY3VyYWN5LWRhdGEtbW9kdWxlXCIpXHJcbi50aGVuKChfbW9kdWxlKT0+XHJcbntcclxuICAgIHZhbGlkYXRvcnMuYWNjdXJhY3k9X21vZHVsZS5jbGVhbmVkX2ZlYXR1cmU7XHJcbn0pO1xyXG5cclxuaW1wb3J0KC8qIHdlYnBhY2tDaHVua05hbWU6IFwibWVrX2Vtdy1hdHRhY2stZmFjdG9yLWRhdGEtbW9kdWxlXCIgKi9cIkAvZGF0YV90YWJsZV9tb2R1bGVzL21la19lbXcvbWVrX2Vtdy1hdHRhY2stZmFjdG9yLWRhdGEtbW9kdWxlXCIpXHJcbi50aGVuKChfbW9kdWxlKT0+XHJcbntcclxuICAgIHZhbGlkYXRvcnMuYXR0YWNrX2ZhY3Rvcj1fbW9kdWxlLmNsZWFuZWRfZmVhdHVyZTtcclxufSk7XHJcblxyXG5pbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJtZWtfZW13LWRhbWFnZS1kYXRhLW1vZHVsZVwiICovXCJAL2RhdGFfdGFibGVfbW9kdWxlcy9tZWtfZW13L21la19lbXctZGFtYWdlLWRhdGEtbW9kdWxlXCIpXHJcbi50aGVuKChfbW9kdWxlKT0+XHJcbntcclxuICAgIHZhbGlkYXRvcnMuZGFtYWdlPV9tb2R1bGUuY2xlYW5lZF9mZWF0dXJlO1xyXG4gICAgdmFsaWRhdG9ycy51cGRhdGVfZGFtYWdlPV9tb2R1bGUuY3JlYXRlX2RhbWFnZV9kYXRhX3RhYmxlO1xyXG59KTtcclxuXHJcbmltcG9ydCgvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcIm1la19lbXctZmVhdHVyZS1kYXRhLW1vZHVsZVwiICovXCJAL2RhdGFfdGFibGVfbW9kdWxlcy9tZWtfZW13L21la19lbXctZmVhdHVyZS1kYXRhLW1vZHVsZVwiKVxyXG4udGhlbigoX21vZHVsZSk9PlxyXG57XHJcbiAgICB2YWxpZGF0b3JzLmZpbHRlcl9mZWF0dXJlPV9tb2R1bGUuZmlsdGVyX2RhdGFfdGFibGU7Ly9maWx0ZXIgYmFzZWQgb24gYnVyc3RfdmFsdWVcclxuICAgIHZhbGlkYXRvcnMuZmVhdHVyZT1fbW9kdWxlLmNsZWFuZWRfZmVhdHVyZTtcclxufSk7XHJcblxyXG5pbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJtZWtfZW13LXR1cm5zLWluLXVzZS1kYXRhLW1vZHVsZVwiICovXCJAL2RhdGFfdGFibGVfbW9kdWxlcy9tZWtfZW13L21la19lbXctdHVybnMtaW4tdXNlLWRhdGEtbW9kdWxlXCIpXHJcbi50aGVuKChfbW9kdWxlKT0+XHJcbntcclxuICAgIHZhbGlkYXRvcnMudHVybnNfaW5fdXNlPV9tb2R1bGUuY2xlYW5lZF9mZWF0dXJlO1xyXG59KTtcclxuXHJcbmltcG9ydCgvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcIm1la19zcGFjZS1lZmZpY2llbmN5LWRhdGEtbW9kdWxlXCIgKi9cIkAvZGF0YV90YWJsZV9tb2R1bGVzL3VuaXZlcnNhbC9tZWtfc3BhY2UtZWZmaWNpZW5jeS1kYXRhLW1vZHVsZVwiKVxyXG4udGhlbigoX21vZHVsZSk9PlxyXG57XHJcbiAgICB2YWxpZGF0b3JzLnNwYWNlX2VmZmljaWVuY3k9X21vZHVsZS52YWxpZGF0ZV9lZmZpY2llbmN5O1xyXG59KTtcclxuXHJcbmxldCBsb29wVmFsaWRhdG9ycywgdXBkYXRlTXVsdGlwbGllcnMsIHJvdW5kO1xyXG5pbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJ2YWxpZGF0b3JfZnVuY3Rpb25zXCIgKi9cIi4vdmFsaWRhdG9yX2Z1bmN0aW9uc1wiKVxyXG4udGhlbigoX21vZHVsZSk9PlxyXG57XHJcbiAgICAoe2xvb3BWYWxpZGF0b3JzLCB1cGRhdGVNdWx0aXBsaWVycywgcm91bmR9ID0gX21vZHVsZSk7XHJcbn0pO1xyXG5cclxudmFsaWRhdG9ycy5kZXJpdmVkPShfY29tcG9uZW50LCBfaXNWYXJCZWFtU2hpZWxkLCBfaXNCZWFtU2hpZWxkKT0+XHJcbntcclxuICAgIGxldCBjbGVhbmVkQ29tcG9uZW50PV9jb21wb25lbnQ7XHJcbiAgICBsZXQgYWxlcnRzPVtdO1xyXG4gICAgbGV0IHZhbGlkYXRlZERhdGE7XHJcbiAgICBsZXQgdXBkYXRlTGlzdD1bXCJzZWxlY3RlZF90dXJuc19pbl91c2VcIixcInNlbGVjdGVkX2FjY3VyYWN5XCIsXCJzZWxlY3RlZF9hdHRhY2tfZmFjdG9yXCIsXCJmZWF0dXJlX2FycmF5XCJdO1xyXG4gICAgLy91cGRhdGUgY29zdF9tdWx0aXBsaWVycyBmb3IgY29tcG9uZW50cyBuZWVkaW5nIHVwZGF0ZVxyXG4gICAgdmFsaWRhdGVkRGF0YT11cGRhdGVNdWx0aXBsaWVycyh1cGRhdGVMaXN0LGNsZWFuZWRDb21wb25lbnQsXCJNZWstRU1XXCIpO1xyXG4gICAgY2xlYW5lZENvbXBvbmVudC5jb3N0X211bHRpcGxpZXJzPXZhbGlkYXRlZERhdGEuZGF0YTtcclxuICAgIGFsZXJ0cz1hbGVydHMuY29uY2F0KHZhbGlkYXRlZERhdGEuYWxlcnRzKTtcclxuICAgIC8vdXBkYXRlIGNvc3RfbXVsdGlwbGllclxyXG4gICAgbGV0IGNvc3RfbXVsdGlwbGllcj1PYmplY3QuZW50cmllcyhjbGVhbmVkQ29tcG9uZW50LmNvc3RfbXVsdGlwbGllcnMpLnJlZHVjZSgoX211bHRpLCBfdmFsKT0+XHJcbiAgICB7Ly9jYWxjIG5ldyBjb3N0X211bHRpcGxpZXJcclxuICAgICAgICByZXR1cm4gX211bHRpKl92YWxbMV07XHJcbiAgICB9LDEpO1xyXG4gICAgY29zdF9tdWx0aXBsaWVyPXJvdW5kKGNvc3RfbXVsdGlwbGllciwyKTtcclxuICAgIGlmKGNsZWFuZWRDb21wb25lbnQuY29zdF9tdWx0aXBsaWVyIT1jb3N0X211bHRpcGxpZXIpXHJcbiAgICB7XHJcbiAgICAgICAgYWxlcnRzLnB1c2goXCJNZWstRU1XOiBjb3N0X211bHRpcGxpZXJcIik7XHJcbiAgICAgICAgYWxlcnRzLnB1c2goXCIqKioqIEludmFsaWQgQ29zdCBNdWx0aXBsaWVyLiBDb3JyZWN0aW5nLiAqKioqXCIpO1xyXG4gICAgICAgIGNsZWFuZWRDb21wb25lbnQuY29zdF9tdWx0aXBsaWVyPXJvdW5kKGNvc3RfbXVsdGlwbGllciwyKTtcclxuICAgIH1cclxuICAgIGxldCBuZXdEYW1hZ2VDYXBhY2l0eT1yb3VuZChjbGVhbmVkQ29tcG9uZW50LnNlbGVjdGVkX2RhbWFnZS5jb3N0LzQsMik7XHJcbiAgICBpZihjbGVhbmVkQ29tcG9uZW50LmRhbWFnZV9jYXBhY2l0eSE9bmV3RGFtYWdlQ2FwYWNpdHkpXHJcbiAgICB7XHJcbiAgICAgICAgYWxlcnRzLnB1c2goXCJNZWstRU1XOiBkYW1hZ2VfY2FwYWNpdHlcIik7XHJcbiAgICAgICAgYWxlcnRzLnB1c2goXCIqKioqIEludmFsaWQgRGFtYWdlIENhcGFjaXR5LiBDb3JyZWN0aW5nLiAqKioqXCIpO1xyXG4gICAgICAgIGNsZWFuZWRDb21wb25lbnQuZGFtYWdlX2NhcGFjaXR5PW5ld0RhbWFnZUNhcGFjaXR5O1xyXG4gICAgfVxyXG4gICAgbGV0IG5ld1dlaWdodD1yb3VuZChuZXdEYW1hZ2VDYXBhY2l0eS8yLDIpO1xyXG4gICAgaWYoY2xlYW5lZENvbXBvbmVudC53ZWlnaHQhPW5ld1dlaWdodClcclxuICAgIHtcclxuICAgICAgICBhbGVydHMucHVzaChcIk1lay1FTVc6IHdlaWdodFwiKTtcclxuICAgICAgICBhbGVydHMucHVzaChcIioqKiogSW52YWxpZCBXZWlnaHQuIENvcnJlY3RpbmcuICoqKipcIik7XHJcbiAgICAgICAgY2xlYW5lZENvbXBvbmVudC53ZWlnaHQ9bmV3V2VpZ2h0O1xyXG4gICAgfVxyXG4gICAgbGV0IG5ld0Nvc3Q9KGNsZWFuZWRDb21wb25lbnQuc2VsZWN0ZWRfZGFtYWdlLmNvc3QgKiBjb3N0X211bHRpcGxpZXIpICsgY2xlYW5lZENvbXBvbmVudC5lZmZpY2llbmNpZXMuc3BhY2UuY29zdDtcclxuICAgIG5ld0Nvc3Q9cm91bmQobmV3Q29zdCwyKTtcclxuICAgIGlmKGNsZWFuZWRDb21wb25lbnQuY29zdCE9bmV3Q29zdClcclxuICAgIHtcclxuICAgICAgICBhbGVydHMucHVzaChcIk1lay1FTVc6IGNvc3RcIik7XHJcbiAgICAgICAgYWxlcnRzLnB1c2goXCIqKioqIEludmFsaWQgY29zdC4gQ29ycmVjdGluZy4gKioqKlwiKTtcclxuICAgICAgICBjbGVhbmVkQ29tcG9uZW50LmNvc3Q9bmV3Q29zdDtcclxuICAgIH1cclxuICAgIGxldCBuZXdCZWFtU2hpZWxkPXtcclxuICAgICAgICAgICAgc3RvcHBpbmdfcG93ZXI6Y2xlYW5lZENvbXBvbmVudC5zZWxlY3RlZF9kYW1hZ2UuY29zdCwgXHJcbiAgICAgICAgICAgIGRlZmVuc2VfYWNjdXJhY3k6Y2xlYW5lZENvbXBvbmVudC5zZWxlY3RlZF9hY2N1cmFjeS5hY2N1cmFjeS0yLFxyXG4gICAgICAgICAgICBkYW1hZ2U6IGNsZWFuZWRDb21wb25lbnQuc2VsZWN0ZWRfZGFtYWdlLmRhbWFnZVxyXG4gICAgICAgIH07XHJcbiAgICBpZihjbGVhbmVkQ29tcG9uZW50LmJlYW1fc2hpZWxkPT09dW5kZWZpbmVkICYmIF9pc0JlYW1TaGllbGQpXHJcbiAgICB7XHJcbiAgICAgICAgYWxlcnRzLnB1c2goXCJNZWstRU1XOiBiZWFtX3NoaWVsZFwiKTtcclxuICAgICAgICBhbGVydHMucHVzaChcIioqKiogQmVhbSBTaGllbGQgZGF0YSBtaXNzaW5nLiBDb3JyZWN0aW5nLiAqKioqXCIpO1xyXG4gICAgICAgIGNsZWFuZWRDb21wb25lbnQuYmVhbV9zaGllbGQ9bmV3QmVhbVNoaWVsZDtcclxuICAgIH1cclxuICAgIGlmKGNsZWFuZWRDb21wb25lbnQuYmVhbV9zaGllbGQuc3RvcHBpbmdfcG93ZXIhPW5ld0JlYW1TaGllbGQuc3RvcHBpbmdfcG93ZXIpXHJcbiAgICB7XHJcbiAgICAgICAgYWxlcnRzLnB1c2goXCJNZWstRU1XOiBiZWFtX3NoaWVsZC5zdG9wcGluZ19wb3dlclwiKTtcclxuICAgICAgICBhbGVydHMucHVzaChcIioqKiogSW52YWxpZCBCZWFtIFNoaWVsZCBTdG9wcGluZyBQb3dlcjogQ29ycmVjdGluZy4gKioqKlwiKTtcclxuICAgICAgICBjbGVhbmVkQ29tcG9uZW50LmJlYW1fc2hpZWxkLnN0b3BwaW5nX3Bvd2VyPW5ld0JlYW1TaGllbGQuc3RvcHBpbmdfcG93ZXI7XHJcbiAgICB9XHJcbiAgICBpZihjbGVhbmVkQ29tcG9uZW50LmJlYW1fc2hpZWxkLmRlZmVuc2VfYWNjdXJhY3khPW5ld0JlYW1TaGllbGQuZGVmZW5zZV9hY2N1cmFjeSlcclxuICAgIHtcclxuICAgICAgICBhbGVydHMucHVzaChcIk1lay1FTVc6IGJlYW1fc2hpZWxkLmRlZmVuc2VfYWNjdXJhY3lcIik7XHJcbiAgICAgICAgYWxlcnRzLnB1c2goXCIqKioqIEludmFsaWQgQmVhbSBTaGllbGQgRGVmZW5zZSBBY2N1cmFjeTogQ29ycmVjdGluZy4gKioqKlwiKTtcclxuICAgICAgICBjbGVhbmVkQ29tcG9uZW50LmJlYW1fc2hpZWxkLmRlZmVuc2VfYWNjdXJhY3k9bmV3QmVhbVNoaWVsZC5kZWZlbnNlX2FjY3VyYWN5O1xyXG4gICAgfVxyXG4gICAgaWYoY2xlYW5lZENvbXBvbmVudC5iZWFtX3NoaWVsZC5kYW1hZ2UhPW5ld0JlYW1TaGllbGQuZGFtYWdlKVxyXG4gICAge1xyXG4gICAgICAgIGFsZXJ0cy5wdXNoKFwiTWVrLUVNVzogYmVhbV9zaGllbGQuZGFtYWdlXCIpO1xyXG4gICAgICAgIGFsZXJ0cy5wdXNoKFwiKioqKiBJbnZhbGlkIEJlYW0gU2hpZWxkIERhbWFnZTogQ29ycmVjdGluZy4gKioqKlwiKTtcclxuICAgICAgICBjbGVhbmVkQ29tcG9uZW50LmJlYW1fc2hpZWxkLmRhbWFnZT1uZXdCZWFtU2hpZWxkLmRhbWFnZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge2RhdGE6Y2xlYW5lZENvbXBvbmVudCwgYWxlcnRzOmFsZXJ0c307XHJcbn07XHJcblxyXG5sZXQgdmFsaWRhdGVDb21wb25lbnQ9KF9jb21wb25lbnQpPT5cclxue1xyXG4gICAgbGV0IGNsZWFuZWRDb21wb25lbnQ9X2NvbXBvbmVudDtcclxuICAgIGxldCB2YWxpZGF0ZWREYXRhO1xyXG4gICAgbGV0IGxvb3BBbGVydHM7XHJcbiAgICBsZXQgYWxlcnRzPVtdO1xyXG4gICAgLy92YWxpZGF0ZSB0dXJucyBpbiB1c2UgYXMgZmVhdHVyZSBhcnJheSBpcyBkZXBlbmRlbnRcclxuICAgIHZhbGlkYXRlZERhdGE9dmFsaWRhdG9ycy50dXJuc19pbl91c2UoXCJ0dXJuc1wiLGNsZWFuZWRDb21wb25lbnQuc2VsZWN0ZWRfdHVybnNfaW5fdXNlKTtcclxuICAgIGNsZWFuZWRDb21wb25lbnQuc2VsZWN0ZWRfdHVybnNfaW5fdXNlPXZhbGlkYXRlZERhdGEuZGF0YTtcclxuICAgIGFsZXJ0cz1hbGVydHMuY29uY2F0KHZhbGlkYXRlZERhdGEuYWxlcnRzKTtcclxuICAgIC8vdXBkYXRlIGZlYXR1cmUgdGFibGVcclxuICAgIHZhbGlkYXRvcnMuZmlsdGVyX2ZlYXR1cmUoY2xlYW5lZENvbXBvbmVudC5zZWxlY3RlZF90dXJuc19pbl91c2UudHVybnM9PVwiX19JTkZJTklUWV9fXCIpO1xyXG4gICAgLy92YWxpZGF0ZSBmZWF0dXJlX2FycmF5LCBhcyBzZWxlY3RlZF9kYW1hZ2UgaXMgZGVwZW5kZW50XHJcbiAgICB2YWxpZGF0ZWREYXRhPXZhbGlkYXRvcnMuZmVhdHVyZShjbGVhbmVkQ29tcG9uZW50LmZlYXR1cmVfYXJyYXksXCJmZWF0dXJlXCIpO1xyXG4gICAgY2xlYW5lZENvbXBvbmVudC5mZWF0dXJlX2FycmF5PXZhbGlkYXRlZERhdGEuY2xlYW5lZF9hcnJheTtcclxuICAgIGFsZXJ0cz1hbGVydHMuY29uY2F0KHZhbGlkYXRlZERhdGEuYWxlcnRzKTtcclxuICAgIC8vdXBkYXRlIGlzQmVhbVNoaWVsZCBhbmQgaXNWYXJpYWJsZUJlYW1TaGllbGRcclxuICAgIGxldCBpc1ZhcmlhYmxlQmVhbVNoaWVsZD1mYWxzZTtcclxuICAgIGxldCBpc0JlYW1TaGllbGQ9Y2xlYW5lZENvbXBvbmVudC5mZWF0dXJlX2FycmF5LnNvbWUoKF9mZWF0KT0+XHJcbiAgICB7XHJcbiAgICAgICAgaWYoLy4qdmFyaWFibGUuKmJlYW0uKnNoaWVsZC4qL2dpLnRlc3QoX2ZlYXQuZmVhdHVyZSkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpc1ZhcmlhYmxlQmVhbVNoaWVsZD10cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gLy4qYmVhbS4qc2hpZWxkLiovZ2kudGVzdChfZmVhdC5mZWF0dXJlKTtcclxuICAgIH0pO1xyXG4gICAgLy91cGRhdGUgZGFtYWdlIHZhbGlkYXRvclxyXG4gICAgdmFsaWRhdG9ycy51cGRhdGVfZGFtYWdlKGlzQmVhbVNoaWVsZCAmJiAhaXNWYXJpYWJsZUJlYW1TaGllbGQpO1xyXG4gICAgLy9sb29wIHRocnUgb3RoZXIgdmFsaWRhdGlvbnNcclxuICAgIGxldCBjb21wb25lbnRzVG9WYWxpZGF0ZT1cclxuICAgIFtcclxuICAgICAgICB7dmFsaWRhdG9yOnZhbGlkYXRvcnMuZGFtYWdlLHBrZXk6XCJjb3N0XCIsY29tcG9uZW50X3Byb3A6XCJzZWxlY3RlZF9kYW1hZ2VcIn0sXHJcbiAgICAgICAge3ZhbGlkYXRvcjp2YWxpZGF0b3JzLmFjY3VyYWN5LHBrZXk6XCJhY2N1cmFjeVwiLGNvbXBvbmVudF9wcm9wOidzZWxlY3RlZF9hY2N1cmFjeSd9LFxyXG4gICAgICAgIHt2YWxpZGF0b3I6dmFsaWRhdG9ycy5hdHRhY2tfZmFjdG9yLHBrZXk6XCJhdHRhY2tfZmFjdG9yXCIsY29tcG9uZW50X3Byb3A6J3NlbGVjdGVkX2F0dGFja19mYWN0b3InfSxcclxuICAgIF07XHJcbiAgICAoe2NsZWFuZWRDb21wb25lbnQsIGxvb3BBbGVydHN9ID0gbG9vcFZhbGlkYXRvcnMoY29tcG9uZW50c1RvVmFsaWRhdGUsIGNsZWFuZWRDb21wb25lbnQpKTtcclxuICAgIGFsZXJ0cz1hbGVydHMuY29uY2F0KGxvb3BBbGVydHMpXHJcbiAgICBcclxuICAgIC8vY2FsbCB2YWxpZGF0b3JzLmRlcml2ZWQoKSBoZXJlXHJcbiAgICB2YWxpZGF0ZWREYXRhPXZhbGlkYXRvcnMuZGVyaXZlZChjbGVhbmVkQ29tcG9uZW50LCBpc1ZhcmlhYmxlQmVhbVNoaWVsZCwgaXNCZWFtU2hpZWxkKTtcclxuICAgIGNsZWFuZWRDb21wb25lbnQ9dmFsaWRhdGVkRGF0YS5kYXRhO1xyXG4gICAgYWxlcnRzPWFsZXJ0cy5jb25jYXQodmFsaWRhdGVkRGF0YS5hbGVydHMpO1xyXG4gICAgXHJcbiAgICBsZXQgdG90YWxfY29zdD1jbGVhbmVkQ29tcG9uZW50LnNlbGVjdGVkX2RhbWFnZS5jb3N0ICogY2xlYW5lZENvbXBvbmVudC5jb3N0X211bHRpcGxpZXI7XHJcbiAgICAvL3VwZGF0ZSBzcGFjZSBlZmZpY2llbmN5XHJcbiAgICB2YWxpZGF0ZWREYXRhPXZhbGlkYXRvcnMuc3BhY2VfZWZmaWNpZW5jeShjbGVhbmVkQ29tcG9uZW50LmVmZmljaWVuY2llcy5zcGFjZSwgdG90YWxfY29zdCwgXCJNZWstRU1XXCIpO1xyXG4gICAgYWxlcnRzPWFsZXJ0cy5jb25jYXQodmFsaWRhdGVkRGF0YS5hbGVydHMpO1xyXG4gICAgY2xlYW5lZENvbXBvbmVudC5lZmZpY2llbmNpZXMuc3BhY2U9dmFsaWRhdGVkRGF0YS5kYXRhO1xyXG5cclxuICAgIHJldHVybiB7ZGF0YTpjbGVhbmVkQ29tcG9uZW50LGFsZXJ0czphbGVydHN9O1xyXG59O1xyXG5cclxuZXhwb3J0IHt2YWxpZGF0ZUNvbXBvbmVudH07Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///ffd5\n')}}]);