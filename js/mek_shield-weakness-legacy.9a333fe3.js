(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mek_shield-weakness","mek_shield-weakness-data-module"],{5237:function(e,s,n){"use strict";n.r(s);var t=function(){var e=this,s=e.$createElement,n=e._self._c||s;return n("mek-sub-component-table",{attrs:{items:e.weakness_table,pkey:e.pkey,"selected-keys":e.selected_keys,headers:{weakness:"Weakness",monicker:"Monicker",cost:"Cost"},name:"Weakness",flow:"pkey-col","show-headers":!0,format:{cost:"multiplier"}},on:{"update-selected-data":e.select_weakness}})},r=[],a=(n("ac6a"),n("d866")),i=n("cf03"),u={name:"mek_shield_weakness",props:["weaknessArray"],mixins:[a["a"]],components:{"mek-sub-component-table":function(){return n.e("mek_sub-component-table").then(n.bind(null,"09c0"))}},data:function(){var e={alerts:[],pkey:"weakness",suppressAlerts:!1,selected_weakness_array:[{weakness:"All",monicker:"Shield",cost:1}]};return e},methods:{select_weakness:function(e){var s=this;this.suppressAlerts=!0;var n=this.toggleWeakness(this.selected_weakness_array,e),t=Object(i["cleaned_weakness"])(n,this.pkey);n=t.cleaned_array,t.alerts.length>0&&!this.suppressAlerts&&(t.alerts.forEach(function(e){s.addAlert(e)}),this.publishAlerts()),this.$set(this,"selected_weakness_array",n),this.$emit("update-weakness",n),this.suppressAlerts=!1},toggleWeakness:function(e,s){var n=this,t=JSON.parse(JSON.stringify(e)),r=t.some(function(e){return e[n.pkey]==s[n.pkey]},this);return r?t.filter(function(e){return e[n.pkey]!=s[n.pkey]},this):(t.push(s),t)}},computed:{weakness_table:function(){return i["weakness_data_table"]},selected_keys:function(){var e=this,s=Object(i["cleaned_weakness"])(this.weaknessArray,this.pkey);return s.alerts.length>0&&!this.suppressAlerts&&(s.alerts.forEach(function(s){e.addAlert(s)}),this.publishAlerts()),s.update&&(this.$emit("alert-generated",!0),this.$emit("update-weakness",s.cleaned_array)),this.$set(this,"selected_weakness_array",s.cleaned_array),s.key_list}}},l=u,c=n("2877"),o=Object(c["a"])(l,t,r,!1,null,null,null);s["default"]=o.exports},"706d":function(e,s,n){"use strict";n.d(s,"d",function(){return r}),n.d(s,"c",function(){return a}),n.d(s,"b",function(){return i}),n.d(s,"a",function(){return u});var t=void 0,r=function(e,s){return function(n){if("undefined"===typeof n||!Array.isArray(s)||0==s.length)return!1;var t=e.some(function(e){return s.every(function(s){return n[s]==e[s]})});return t}},a=function(e){return function(s,n){return e.some(function(e){return void 0!==e[s]&&e[s]==n})}},i=function(e,s){return function(n,r){var a=null;return s(n,r)&&e.some(function(e){if(e[n]==r)return a=e,!0},t),a}},u=function(e,s,n,t,r){return function(a,i){var u=void 0,l=[],c=!1,o=[],d=JSON.stringify(i);return void 0!==i&&s(a,i[a])?e(i)?(u=JSON.parse(JSON.stringify(i)),l=[u[a]],c=!1):(u=JSON.parse(JSON.stringify(n(a,i[a]))),l=[u[a]],c=!0,o.push(r+": "+d),o.push("**** Invalid data. Reseting. ****")):(u=t,l=[u[a]],c=!0,o.push(r+": "+d),o.push("**** Invalid data. Reseting to default. ****")),{data:u,key_list:l,update:c,alerts:o}}}},cf03:function(e,s,n){"use strict";n.r(s),n.d(s,"weakness_data_table",function(){return r}),n.d(s,"weakness_validate",function(){return c}),n.d(s,"has_weakness",function(){return o}),n.d(s,"get_weakness",function(){return d}),n.d(s,"cleaned_weakness",function(){return h});n("6762"),n("2fdb");var t=n("706d"),r=[{weakness:"All",monicker:"Shield",cost:1},{weakness:"Ablative",monicker:"Screen",cost:1},{weakness:"Energy Only",monicker:"Interference",cost:.75,only_exclusive:!0},{weakness:"Matter Only",monicker:"Kinetic",cost:.75,only_exclusive:!0},{weakness:"Ranged Only",monicker:"Swashbuckling",cost:.75,only_exclusive:!0},{weakness:"Enclosing",monicker:"Mirror",cost:.5},{weakness:"Surge",monicker:"Surge",cost:2.5}],a=r.filter(function(e){return"undefined"!==typeof e.only_exclusive}),i=["weakness","monicker","only_exclusive","cost"],u={weakness:"All",monicker:"Shield",cost:1},l=[u],c=Object(t["d"])(r,i),o=Object(t["c"])(r),d=Object(t["b"])(r,o),k=function(e,s,n){var t=null;switch(e.toLowerCase()){case"only_exclusive":t=a;break;case"all_exclusive":t=l;break}return null!==t&&t.some(function(e){return e[s]==n})},h=function(e,s){var n=!1,t=!1,r=!1,a=[],i=[];if(void 0===e||void 0===s){i.push("Mek_Shield-Weakness: ");var l=void 0===e?"**** Missing weakness array. Returning blank. ****":"**** No primary key provided. Returning blank. ****";return i.push(l),{cleaned_array:[u],update:!0,key_list:["All"],alerts:i}}var o=e.reduceRight(function(e,l){if(t)return a=["All"],[u];var o=k("all_exclusive",s,l[s]);if(o&&0==e.length)return t=!0,a=["All"],[u];if(o)return e;if(void 0===l[s])return i.push("Mek_Shield-Weakness: "+JSON.stringify(l)),i.push("**** Missing primary key. Ignoring. ****"),e;var h=l;if(c(l)||(i.push("Mek_Shield-Weakness: "+JSON.stringify(l)),i.push("**** Invalid data, attempting to reset. ****"),h=d(s,l[s]),l=h,r=!0),null===h)return i.push("**** Unable to reset. No matching data. ****"),r=!0,e;var f=k("only_exclusive",s,l[s]);return f&&!n?(e.push(l),n=!0,a.push(l[s]),e):f&&n?(i.push("Mek_Shield-Weakness: "+l),i.push("**** Duplicate exclusive Shield data. Ignoring. ****"),r=!0,e):(a.includes(l[s])||(e.push(l),a.push(l[s])),e)},[]);return o.reverse(),0==o.length&&(o=[JSON.parse(JSON.stringify(u))],r=!0,a=["All"],i.push("Mek_Shield-Weakness: "),i.push("**** Reseting to default ****")),{cleaned_array:o,update:r,key_list:a,alerts:i}}},d866:function(e,s,n){"use strict";s["a"]={methods:{addAlert:function(e){this.alerts.push(e)},publishAlerts:function(){this.alerts.length>0&&this.$store.commit("alertMessage",this.alerts),this.$set(this,"alerts",[])}}}}}]);
//# sourceMappingURL=mek_shield-weakness-legacy.9a333fe3.js.map