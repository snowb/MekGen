(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mek_emw_validator"],{"504c":function(e,a,t){var c=t("9e1e"),n=t("0d58"),r=t("6821"),i=t("52a7").f;e.exports=function(e){return function(a){var t,d=r(a),s=n(d),u=s.length,l=0,o=[];while(u>l)t=s[l++],c&&!i.call(d,t)||o.push(e?[t,d[t]]:d[t]);return o}}},ffc1:function(e,a,t){var c=t("5ca1"),n=t("504c")(!0);c(c.S,"Object",{entries:function(e){return n(e)}})},ffd5:function(e,a,t){"use strict";t.r(a),t.d(a,"validateComponent",function(){return d});t("ac6a"),t("ffc1");var c,n,r,i={};t.e("mek_emw-accuracy-data-module").then(t.bind(null,"643f")).then(function(e){i.accuracy=e.cleaned_feature}),t.e("mek_emw-attack-factor-data-module").then(t.bind(null,"2170")).then(function(e){i.attack_factor=e.cleaned_feature}),t.e("mek_emw-damage-data-module").then(t.bind(null,"77b7")).then(function(e){i.damage=e.cleaned_feature,i.update_damage=e.create_damage_data_table}),t.e("mek_emw-feature-data-module").then(t.bind(null,"e125")).then(function(e){i.filter_feature=e.filter_data_table,i.feature=e.cleaned_feature}),t.e("mek_emw-turns-in-use-data-module").then(t.bind(null,"9e76")).then(function(e){i.turns_in_use=e.cleaned_feature}),t.e("mek_space-efficiency-data-module").then(t.bind(null,"16e1")).then(function(e){i.space_efficiency=e.validate_efficiency}),t.e("validator_functions").then(t.bind(null,"07de")).then(function(e){c=e.loopValidators,n=e.updateMultipliers,r=e.round}),i.derived=function(e,a,t){var c,i=e,d=[],s=["selected_turns_in_use","selected_accuracy","selected_attack_factor","feature_array"];c=n(s,i,"Mek-EMW"),i.cost_multipliers=c.data,d=d.concat(c.alerts);var u=Object.entries(i.cost_multipliers).reduce(function(e,a){return e*a[1]},1);u=r(u,2),i.cost_multiplier!=u&&(d.push("Mek-EMW: cost_multiplier"),d.push("**** Invalid Cost Multiplier. Correcting. ****"),i.cost_multiplier=r(u,2));var l=r(i.selected_damage.cost/4,2);i.damage_capacity!=l&&(d.push("Mek-EMW: damage_capacity"),d.push("**** Invalid Damage Capacity. Correcting. ****"),i.damage_capacity=l);var o=r(l/2,2);i.weight!=o&&(d.push("Mek-EMW: weight"),d.push("**** Invalid Weight. Correcting. ****"),i.weight=o);var _=i.selected_damage.cost*u+i.efficiencies.space.cost;_=r(_,2),i.cost!=_&&(d.push("Mek-EMW: cost"),d.push("**** Invalid cost. Correcting. ****"),i.cost=_);var p={stopping_power:i.selected_damage.cost,defense_accuracy:i.selected_accuracy.accuracy-2,damage:i.selected_damage.damage};return void 0===i.beam_shield&&t&&(d.push("Mek-EMW: beam_shield"),d.push("**** Beam Shield data missing. Correcting. ****"),i.beam_shield=p),i.beam_shield.stopping_power!=p.stopping_power&&(d.push("Mek-EMW: beam_shield.stopping_power"),d.push("**** Invalid Beam Shield Stopping Power: Correcting. ****"),i.beam_shield.stopping_power=p.stopping_power),i.beam_shield.defense_accuracy!=p.defense_accuracy&&(d.push("Mek-EMW: beam_shield.defense_accuracy"),d.push("**** Invalid Beam Shield Defense Accuracy: Correcting. ****"),i.beam_shield.defense_accuracy=p.defense_accuracy),i.beam_shield.damage!=p.damage&&(d.push("Mek-EMW: beam_shield.damage"),d.push("**** Invalid Beam Shield Damage: Correcting. ****"),i.beam_shield.damage=p.damage),{data:i,alerts:d}};var d=function(e){var a,t,n=e,r=[];a=i.turns_in_use("turns",n.selected_turns_in_use),n.selected_turns_in_use=a.data,r=r.concat(a.alerts),i.filter_feature("__INFINITY__"==n.selected_turns_in_use.turns),a=i.feature(n.feature_array,"feature"),n.feature_array=a.cleaned_array,r=r.concat(a.alerts);var d=!1,s=n.feature_array.some(function(e){return/.*variable.*beam.*shield.*/gi.test(e.feature)&&(d=!0),/.*beam.*shield.*/gi.test(e.feature)});i.update_damage(s&&!d);var u=[{validator:i.damage,pkey:"cost",component_prop:"selected_damage"},{validator:i.accuracy,pkey:"accuracy",component_prop:"selected_accuracy"},{validator:i.attack_factor,pkey:"attack_factor",component_prop:"selected_attack_factor"}],l=c(u,n);n=l.cleanedComponent,t=l.loopAlerts,r=r.concat(t),a=i.derived(n,d,s),n=a.data,r=r.concat(a.alerts);var o=n.selected_damage.cost*n.cost_multiplier;return a=i.space_efficiency(n.efficiencies.space,o,"Mek-EMW"),r=r.concat(a.alerts),n.efficiencies.space=a.data,{data:n,alerts:r}}}}]);
//# sourceMappingURL=mek_emw_validator-legacy.554727ba.js.map