(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mek_missile-feature","mek_missile-feature-data-module"],{"706d":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return partial_validate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return partial_has_feature; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return partial_get_feature; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return partial_cleaned_feature; });\n//data table module, raw data output for re-use in non-vue-component formats\n//ATTEMPT: make validators and has_feat and get_feat and cleaned_feat functions \n//          neutral and reusable across all data modules\n//partial data validator\n//called with data_table and validation_keys in data-module\nlet partial_validate = (_data_table, _validation_keys) => _data => {\n  //_data_table: Array, array of data to validate against\n  //_validation_keys: Array, keys to be compared between passed in data and data_table\n  //_data: Object, data to be compared to data table \n  if (typeof _data === "undefined" || !Array.isArray(_validation_keys) || _validation_keys.length == 0) {\n    return false;\n  }\n\n  let valid = _data_table.some(_val => {\n    return _validation_keys.every(_keys => {\n      //return true if all validation_keys in _data match an element in _data_table\n      return _data[_keys] == _val[_keys];\n    });\n  });\n\n  return valid;\n}; //partial_has_feature, determine if provided data table has matching element with provided key and val\n//called in data module to generate full function with local data\n\n\nlet partial_has_feature = _data_table => (_key, _val) => {\n  return _data_table.some(_data => {\n    return _data[_key] !== undefined && _data[_key] == _val;\n  });\n}; //partial get_feature, returns full function for data module\n//requires data_table (array) and module\'s has_feature function\n//returns full matching element in provided data table\n//has_feature must exist in data table module\n\n\nlet partial_get_feature = (_data_table, _has_feature) => (_key, _val) => {\n  let found_feature = null;\n\n  if (_has_feature(_key, _val)) {\n    _data_table.some(_table_val => {\n      if (_table_val[_key] == _val) {\n        found_feature = _table_val;\n        return true;\n      }\n    }, undefined);\n  }\n\n  return found_feature;\n};\n\nlet partial_cleaned_feature = (_validator, _has_feature, _get_feature, _default_data, _name) => (_pkey, _feature) => {\n  //input: primary key, selected feature, filtered data table\n  let data = undefined;\n  let key_list = [];\n  let update = false;\n  let alerts = [];\n  let json_data = JSON.stringify(_feature);\n\n  if (_feature === undefined || !_has_feature(_pkey, _feature[_pkey])) {\n    data = _default_data;\n    key_list = [data[_pkey]];\n    update = true;\n    alerts.push(_name + ": " + json_data);\n    alerts.push("**** Invalid data. Reseting to default. ****");\n  } else if (!_validator(_feature)) {\n    data = JSON.parse(JSON.stringify(_get_feature(_pkey, _feature[_pkey])));\n    key_list = [data[_pkey]];\n    update = true;\n    alerts.push(_name + ": " + json_data);\n    alerts.push("**** Invalid data. Reseting. ****");\n  } else {\n    data = JSON.parse(JSON.stringify(_feature));\n    key_list = [data[_pkey]];\n    update = false;\n  }\n\n  return {\n    data: data,\n    key_list: key_list,\n    update: update,\n    alerts: alerts\n  };\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZGF0YV90YWJsZV9tb2R1bGVzL3VuaXZlcnNhbC9tZWtfcGFydGlhbC1mdW5jdGlvbi1kYXRhLW1vZHVsZS5qcz83MDZkIl0sIm5hbWVzIjpbInBhcnRpYWxfdmFsaWRhdGUiLCJfZGF0YV90YWJsZSIsIl92YWxpZGF0aW9uX2tleXMiLCJfZGF0YSIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsInZhbGlkIiwic29tZSIsIl92YWwiLCJldmVyeSIsIl9rZXlzIiwicGFydGlhbF9oYXNfZmVhdHVyZSIsIl9rZXkiLCJ1bmRlZmluZWQiLCJwYXJ0aWFsX2dldF9mZWF0dXJlIiwiX2hhc19mZWF0dXJlIiwiZm91bmRfZmVhdHVyZSIsIl90YWJsZV92YWwiLCJwYXJ0aWFsX2NsZWFuZWRfZmVhdHVyZSIsIl92YWxpZGF0b3IiLCJfZ2V0X2ZlYXR1cmUiLCJfZGVmYXVsdF9kYXRhIiwiX25hbWUiLCJfcGtleSIsIl9mZWF0dXJlIiwiZGF0YSIsImtleV9saXN0IiwidXBkYXRlIiwiYWxlcnRzIiwianNvbl9kYXRhIiwiSlNPTiIsInN0cmluZ2lmeSIsInB1c2giLCJwYXJzZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0EsSUFBSUEsZ0JBQWdCLEdBQUMsQ0FBQ0MsV0FBRCxFQUFhQyxnQkFBYixLQUFpQ0MsS0FBRCxJQUNyRDtBQUFDO0FBQ0c7QUFDQTtBQUNBLE1BQUcsT0FBT0EsS0FBUCxLQUFlLFdBQWYsSUFBOEIsQ0FBQ0MsS0FBSyxDQUFDQyxPQUFOLENBQWNILGdCQUFkLENBQS9CLElBQWtFQSxnQkFBZ0IsQ0FBQ0ksTUFBakIsSUFBeUIsQ0FBOUYsRUFDQTtBQUNJLFdBQU8sS0FBUDtBQUNIOztBQUNELE1BQUlDLEtBQUssR0FBQ04sV0FBVyxDQUFDTyxJQUFaLENBQWtCQyxJQUFELElBQzNCO0FBQ0ksV0FBT1AsZ0JBQWdCLENBQUNRLEtBQWpCLENB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LFFBQUksRUFBQ0EsSUFBTjtBQUFZQyxZQUFRLEVBQUNBLFFBQXJCO0FBQStCQyxVQUFNLEVBQUNBLE1BQXRDO0FBQThDQyxVQUFNLEVBQUNBO0FBQXJELEdBQVA7QUFDSCxDQS9CRCIsImZpbGUiOiI3MDZkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy9kYXRhIHRhYmxlIG1vZHVsZSwgcmF3IGRhdGEgb3V0cHV0IGZvciByZS11c2UgaW4gbm9uLXZ1ZS1jb21wb25lbnQgZm9ybWF0c1xyXG5cclxuLy9BVFRFTVBUOiBtYWtlIHZhbGlkYXRvcnMgYW5kIGhhc19mZWF0IGFuZCBnZXRfZmVhdCBhbmQgY2xlYW5lZF9mZWF0IGZ1bmN0aW9ucyBcclxuLy8gICAgICAgICAgbmV1dHJhbCBhbmQgcmV1c2FibGUgYWNyb3NzIGFsbCBkYXRhIG1vZHVsZXNcclxuXHJcbi8vcGFydGlhbCBkYXRhIHZhbGlkYXRvclxyXG4vL2NhbGxlZCB3aXRoIGRhdGFfdGFibGUgYW5kIHZhbGlkYXRpb25fa2V5cyBpbiBkYXRhLW1vZHVsZVxyXG5sZXQgcGFydGlhbF92YWxpZGF0ZT0oX2RhdGFfdGFibGUsX3ZhbGlkYXRpb25fa2V5cyk9PihfZGF0YSk9PlxyXG57Ly9fZGF0YV90YWJsZTogQXJyYXksIGFycmF5IG9mIGRhdGEgdG8gdmFsaWRhdGUgYWdhaW5zdFxyXG4gICAgLy9fdmFsaWRhdGlvbl9rZXlzOiBBcnJheSwga2V5cyB0byBiZSBjb21wYXJlZCBiZXR3ZWVuIHBhc3NlZCBpbiBkYXRhIGFuZCBkYXRhX3RhYmxlXHJcbiAgICAvL19kYXRhOiBPYmplY3QsIGRhdGEgdG8gYmUgY29tcGFyZWQgdG8gZGF0YSB0YWJsZSBcclxuICAgIGlmKHR5cGVvZiBfZGF0YT09PVwidW5kZWZpbmVkXCIgfHwgIUFycmF5LmlzQXJyYXkoX3ZhbGlkYXRpb25fa2V5cykgfHwgX3ZhbGlkYXRpb25fa2V5cy5sZW5ndGg9PTApXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgbGV0IHZhbGlkPV9kYXRhX3RhYmxlLnNvbWUoKF92YWwpPT5cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gX3ZhbGlkYXRpb25fa2V5cy5ldmVyeSgoX2tleXMpPT5cclxuICAgICAgICB7Ly9yZXR1cm4gdHJ1ZSBpZiBhbGwgdmFsaWRhdGlvbl9rZXlzIGluIF9kYXRhIG1hdGNoIGFuIGVsZW1lbnQgaW4gX2RhdGFfdGFibGVcclxuICAgICAgICAgICAgcmV0dXJuIF9kYXRhW19rZXlzXT09X3ZhbFtfa2V5c107XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB2YWxpZDtcclxufVxyXG5cclxuLy9wYXJ0aWFsX2hhc19mZWF0dXJlLCBkZXRlcm1pbmUgaWYgcHJvdmlkZWQgZGF0YSB0YWJsZSBoYXMgbWF0Y2hpbmcgZWxlbWVudCB3aXRoIHByb3ZpZGVkIGtleSBhbmQgdmFsXHJcbi8vY2FsbGVkIGluIGRhdGEgbW9kdWxlIHRvIGdlbmVyYXRlIGZ1bGwgZnVuY3Rpb24gd2l0aCBsb2NhbCBkYXRhXHJcbmxldCBwYXJ0aWFsX2hhc19mZWF0dXJlPShfZGF0YV90YWJsZSk9Pihfa2V5LCBfdmFsKT0+XHJcbntcclxuICAgIHJldHVybiBfZGF0YV90YWJsZS5zb21lKChfZGF0YSk9PlxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBfZGF0YVtfa2V5XSE9PXVuZGVmaW5lZCAmJiBfZGF0YVtfa2V5XT09X3ZhbDtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuLy9wYXJ0aWFsIGdldF9mZWF0dXJlLCByZXR1cm5zIGZ1bGwgZnVuY3Rpb24gZm9yIGRhdGEgbW9kdWxlXHJcbi8vcmVxdWlyZXMgZGF0YV90YWJsZSAoYXJyYXkpIGFuZCBtb2R1bGUncyBoYXNfZmVhdHVyZSBmdW5jdGlvblxyXG4vL3JldHVybnMgZnVsbCBtYXRjaGluZyBlbGVtZW50IGluIHByb3ZpZGVkIGRhdGEgdGFibGVcclxuLy9oYXNfZmVhdHVyZSBtdXN0IGV4aXN0IGluIGRhdGEgdGFibGUgbW9kdWxlXHJcbmxldCBwYXJ0aWFsX2dldF9mZWF0dXJlPShfZGF0YV90YWJsZSwgX2hhc19mZWF0dXJlKT0+KF9rZXksIF92YWwpPT5cclxue1xyXG4gICAgbGV0IGZvdW5kX2ZlYXR1cmU9bnVsbDtcclxuICAgIGlmKF9oYXNfZmVhdHVyZShfa2V5LF92YWwpKVxyXG4gICAge1xyXG4gICAgICAgIF9kYXRhX3RhYmxlLnNvbWUoKF90YWJsZV92YWwpPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKF90YWJsZV92YWxbX2tleV09PV92YWwpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGZvdW5kX2ZlYXR1cmU9X3RhYmxlX3ZhbDtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSx0aGlzKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmb3VuZF9mZWF0dXJlO1xyXG59XHJcblxyXG5sZXQgcGFydGlhbF9jbGVhbmVkX2ZlYXR1cmU9KF92YWxpZGF0b3IsIF9oYXNfZmVhdHVyZSwgX2dldF9mZWF0dXJlLCBfZGVmYXVsdF9kYXRhLCBfbmFtZSk9PihfcGtleSwgX2ZlYXR1cmUpPT5cclxuey8vaW5wdXQ6IHByaW1hcnkga2V5LCBzZWxlY3RlZCBmZWF0dXJlLCBmaWx0ZXJlZCBkYXRhIHRhYmxlXHJcbiAgICBsZXQgZGF0YT11bmRlZmluZWQ7XHJcbiAgICBsZXQga2V5X2xpc3Q9W107XHJcbiAgICBsZXQgdXBkYXRlPWZhbHNlO1xyXG4gICAgbGV0IGFsZXJ0cz1bXTtcclxuICAgIGxldCBqc29uX2RhdGE9SlNPTi5zdHJpbmdpZnkoX2ZlYXR1cmUpO1xyXG5cclxuICAgIGlmKF9mZWF0dXJlPT09dW5kZWZpbmVkIHx8ICFfaGFzX2ZlYXR1cmUoX3BrZXksX2ZlYXR1cmVbX3BrZXldKSlcclxuICAgIHtcclxuICAgICAgICBkYXRhPV9kZWZhdWx0X2RhdGE7XHJcbiAgICAgICAga2V5X2xpc3Q9W2RhdGFbX3BrZXldXTtcclxuICAgICAgICB1cGRhdGU9dHJ1ZTtcclxuICAgICAgICBhbGVydHMucHVzaChfbmFtZStcIjogXCIranNvbl9kYXRhKTtcclxuICAgICAgICBhbGVydHMucHVzaChcIioqKiogSW52YWxpZCBkYXRhLiBSZXNldGluZyB0byBkZWZhdWx0LiAqKioqXCIpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZighX3ZhbGlkYXRvcihfZmVhdHVyZSkpXHJcbiAgICB7XHJcbiAgICAgICAgZGF0YT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF9nZXRfZmVhdHVyZShfcGtleSxfZmVhdHVyZVtfcGtleV0pKSk7XHJcbiAgICAgICAga2V5X2xpc3Q9W2RhdGFbX3BrZXldXTtcclxuICAgICAgICB1cGRhdGU9dHJ1ZTtcclxuICAgICAgICBhbGVydHMucHVzaChfbmFtZStcIjogXCIranNvbl9kYXRhKTtcclxuICAgICAgICBhbGVydHMucHVzaChcIioqKiogSW52YWxpZCBkYXRhLiBSZXNldGluZy4gKioqKlwiKTtcclxuICAgIH1cclxuICAgIGVsc2VcclxuICAgIHtcclxuICAgICAgICBkYXRhPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX2ZlYXR1cmUpKTtcclxuICAgICAgICBrZXlfbGlzdD1bZGF0YVtfcGtleV1dO1xyXG4gICAgICAgIHVwZGF0ZT1mYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB7ZGF0YTpkYXRhLCBrZXlfbGlzdDprZXlfbGlzdCwgdXBkYXRlOnVwZGF0ZSwgYWxlcnRzOmFsZXJ0c307XHJcbn1cclxuXHJcbmV4cG9ydCB7cGFydGlhbF92YWxpZGF0ZSwgcGFydGlhbF9oYXNfZmVhdHVyZSwgcGFydGlhbF9nZXRfZmVhdHVyZSwgcGFydGlhbF9jbGVhbmVkX2ZlYXR1cmV9O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///706d\n')},c257:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "feature_data_table", function() { return feature_data_table; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "feature_validate", function() { return feature_validate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "has_feature", function() { return has_feature; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "get_feature", function() { return get_feature; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cleaned_feature", function() { return cleaned_feature; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "filter_data_table", function() { return filter_data_table; });\n/* harmony import */ var _data_table_modules_universal_mek_partial_function_data_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("706d");\n//data table module, raw data output for re-use in non-vue-component formats\n //create new feature_data_table\n\nlet raw_feature_data_table = [{\n  feature: "Long Range",\n  cost: 1.33\n}, {\n  feature: "Hypervelocity",\n  cost: 1.25\n}, {\n  feature: "Tunneling",\n  cost: 1.3\n}, {\n  feature: "Home On Jam",\n  cost: 2\n}, {\n  feature: "Fuse",\n  cost: 1.1\n}, {\n  feature: "Foam",\n  cost: 1.33\n}, {\n  feature: "Flare",\n  cost: 0.5\n}, {\n  feature: "Smoke",\n  cost: 0.5,\n  exclusive_smoke_scatter: true\n}, {\n  feature: "Scatter",\n  cost: 0.5,\n  exclusive_smoke_scatter: true\n}, {\n  feature: "Countermissile",\n  cost: 1,\n  exclusive_counter: true\n}, {\n  feature: "Variable Countermissile",\n  cost: 1.8,\n  exclusive_counter: true\n}, {\n  feature: "Smoke-Scatter",\n  cost: 1,\n  exclusive_smoke_scatter: true\n}, {\n  feature: "Nuclear",\n  cost: 1000\n}];\nlet exclusive_smoke_scatter = raw_feature_data_table.filter(_el => {\n  return typeof _el.exclusive_smoke_scatter !== "undefined";\n});\nlet exclusive_counter = raw_feature_data_table.filter(_el => {\n  return typeof _el.exclusive_counter !== "undefined";\n});\nlet data_table_keys = ["feature", "cost", "exclusive_smoke_scatter", "exclusive_counter"];\nlet feature_data_table = raw_feature_data_table;\nlet data_cached = false;\n\nlet filter_data_table = (_blast_radius, _smart) => {\n  data_cached = false;\n\n  if (_blast_radius != "__NIL__" && _smart) {\n    feature_data_table = raw_feature_data_table;\n    return;\n  }\n\n  feature_data_table = raw_feature_data_table.filter(_val => {\n    if (_blast_radius == "__NIL__" && ["nuclear", "scatter", "smoke", "smoke-scatter"].includes(_val.feature.toLowerCase())) {\n      //filter out some features if no blast radius\n      return false;\n    }\n\n    if (!_smart && _val.feature.toLowerCase() == "home on jam") {\n      //filtered out home-on-jam for dumb missiles\n      return false;\n    }\n\n    return true;\n  });\n};\n\nlet cached_validate = Object(_data_table_modules_universal_mek_partial_function_data_module__WEBPACK_IMPORTED_MODULE_0__[/* partial_validate */ "d"])(raw_feature_data_table, data_table_keys); //data validator for feature_data_table\n//call partial_validate with appropriate data for full validate\n\nlet feature_validate = _data => {\n  if (data_cached) {\n    return cached_validate(_data);\n  }\n\n  data_cached = true;\n  cached_validate = Object(_data_table_modules_universal_mek_partial_function_data_module__WEBPACK_IMPORTED_MODULE_0__[/* partial_validate */ "d"])(feature_data_table, data_table_keys);\n  return cached_validate(_data);\n}; //completed function for checking if data has data\n\n\nlet has_feature = (_pkey, _data) => {\n  return Object(_data_table_modules_universal_mek_partial_function_data_module__WEBPACK_IMPORTED_MODULE_0__[/* partial_has_feature */ "c"])(feature_data_table)(_pkey, _data);\n}; //completed function for returning matching data\n\n\nlet get_feature = (_pkey, _data) => {\n  return Object(_data_table_modules_universal_mek_partial_function_data_module__WEBPACK_IMPORTED_MODULE_0__[/* partial_get_feature */ "b"])(feature_data_table, has_feature)(_pkey, _data);\n};\n\nlet is_exclusive_feature = function is_exclusive_feature(_exclusive_target, _pkey, _pkey_value) {\n  let exclusive_target_array = null;\n\n  switch (_exclusive_target.toLowerCase()) {\n    case "exclusive_smoke_scatter":\n      exclusive_target_array = exclusive_smoke_scatter;\n      break;\n\n    case "exclusive_counter":\n      exclusive_target_array = exclusive_counter;\n      break;\n  }\n\n  if (exclusive_target_array === null) {\n    return false;\n  }\n\n  return exclusive_target_array.some(_val => {\n    return _val[_pkey] == _pkey_value;\n  });\n};\n/*****\r\n * *\r\n * *    likely need to setup create_feature_data_table taking Blast_Radius and Smart as input\r\n * *    so claned_feature will remove invalid features\r\n * *\r\n *****/\n\n/*** \r\n * \r\n * find way to switch to partial function\r\n * \r\n * ***/\n\n\nlet cleaned_feature = function cleaned_feature(_feature_array, _pkey) {\n  //takes feature_array, returns cleaned array removing multiple exclusive values\n  let hasExclusiveSmokeScatter = false;\n  let hasExclusiveCounter = false;\n  let update = false;\n  let key_list = [];\n  let alerts = [];\n\n  if (_feature_array.length === 0) {\n    return {\n      cleaned_array: [],\n      update: false,\n      key_list: [],\n      alerts: alerts\n    };\n  }\n\n  if (_feature_array === undefined || _pkey === undefined) {\n    alerts.push("Mek_Missile-Feature: ");\n    let error = _feature_array === undefined ? "**** Missing feature array. Returning default. ****" : "**** No primary key provided. Returning default. ****";\n    alerts.push(error);\n    return {\n      cleaned_array: [],\n      update: true,\n      key_list: [],\n      alerts: alerts\n    };\n  }\n\n  let temp_selected_feature_array = _feature_array.reduceRight((_cleaned_array, _val) => {\n    if (_val[_pkey] === undefined) {\n      //if feature with pkey doesn\'t exist in data table, ignore\n      alerts.push("Mek_Missile-Feature: " + JSON.stringify(_val));\n      alerts.push("**** Missing primary key. Ignoring. ****");\n      return _cleaned_array;\n    }\n\n    let clean_feature = _val;\n\n    if (!feature_validate(_val)) {\n      //invalid data\n      alerts.push("Mek_Missile-Feature: " + JSON.stringify(_val));\n      alerts.push("**** Invalid data, attempting to reset. ****");\n      clean_feature = get_feature(_pkey, _val[_pkey]);\n      _val = clean_feature; //replace current value with correct value\n\n      update = true; //attempt to set to corrected feature\n    }\n\n    if (clean_feature === null) {\n      //no matching feature\n      alerts.push("**** Unable to reset. No matching data. ****");\n      update = true;\n      return _cleaned_array; //ignore element\n    }\n\n    let isSmokeScatter = is_exclusive_feature("exclusive_smoke_scatter", _pkey, _val[_pkey]);\n    let isCounter = is_exclusive_feature("exclusive_counter", _pkey, _val[_pkey]);\n\n    if (isSmokeScatter && !hasExclusiveSmokeScatter) {\n      _cleaned_array.push(_val);\n\n      hasExclusiveSmokeScatter = true;\n      key_list.push(_val[_pkey]);\n      return _cleaned_array;\n    } else if (isSmokeScatter && hasExclusiveSmokeScatter) {\n      alerts.push("Mek_Missile-Feature: " + _val);\n      alerts.push("**** Duplicate Exclusive SmokeScatter data. Ignoring. ****");\n      update = true;\n      return _cleaned_array;\n    }\n\n    if (isCounter && !hasExclusiveCounter) {\n      _cleaned_array.push(_val);\n\n      hasExclusiveCounter = true;\n      key_list.push(_val[_pkey]);\n      return _cleaned_array;\n    } else if (isCounter && hasExclusiveCounter) {\n      alerts.push("Mek_Missile-Feature: " + _val);\n      alerts.push("**** Duplicate Exclusive Counter data. Ignoring. ****");\n      update = true;\n      return _cleaned_array;\n    }\n\n    if (!key_list.includes(_val[_pkey])) {\n      _cleaned_array.push(_val);\n\n      key_list.push(_val[_pkey]);\n    }\n\n    return _cleaned_array;\n  }, []);\n\n  temp_selected_feature_array = temp_selected_feature_array.reverse();\n\n  if (temp_selected_feature_array.length == 0) {\n    //empty, reset to default\n    temp_selected_feature_array = [];\n    update = true;\n    key_list = [];\n    alerts.push("Mek_Missile-Feature: ");\n    alerts.push("**** Reseting to default ****");\n  }\n\n  return {\n    cleaned_array: temp_selected_feature_array,\n    update: update,\n    key_list: key_list,\n    alerts: alerts\n  }; //returns an object with the pruned feature array, whether it was updated, and the key_list\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZGF0YV90YWJsZV9tb2R1bGVzL21la19taXNzaWxlL21la19taXNzaWxlLWZlYXR1cmUtZGF0YS1tb2R1bGUuanM/YzI1NyJdLCJuYW1lcyI6WyJyYXdfZmVhdHVyZV9kYXRhX3RhYmxlIiwiZmVhdHVyZSIsImNvc3QiLCJleGNsdXNpdmVfc21va2Vfc2NhdHRlciIsImV4Y2x1c2l2ZV9jb3VudGVyIiwiZmlsdGVyIiwiX2VsIiwiZGF0YV90YWJsZV9rZXlzIiwiZmVhdHVyZV9kYXRhX3RhYmxlIiwiZGF0YV9jYWNoZWQiLCJmaWx0ZXJfZGF0YV90YWJsZSIsIl9ibGFzdF9yYWRpdXMiLCJfc21hcnQiLCJfdmFsIiwiaW5jbHVkZXMiLCJ0b0xvd2VyQ2FzZSIsImNhY2hlZF92YWxpZGF0ZSIsInBhcnRpYWxfdmFsaWRhdGUiLCJmZWF0dXJlX3ZhbGlkYXRlIiwiX2RhdGEiLCJoYXNfZmVhdHVyZSIsIl9wa2V5IiwicGFydGlhbF9oYXNfZmVhdHVyZSIsImdldF9mZWF0dXJlIiwicGFydGlhbF9nZXRfZmVhdHVyZSIsImlzX2V4Y2x1c2l2ZV9mZWF0dXJlIiwiX2V4Y2x1c2l2ZV90YXJnZXQiLCJfcGtleV92YWx1ZSIsImV4Y2x1c2l2ZV90YXJnZXRfYXJyYXkiLCJzb21lIiwiY2xlYW5lZF9mZWF0dXJlIiwiX2ZlYXR1cmVfYXJyYXkiLCJoYXNFeGNsdXNpdmVTbW9rZVNjYXR0ZXIiLCJoYXNFeGNsdXNpdmVDb3VudGVyIiwidXBkYXRlIiwia2V5X2xpc3QiLCJhbGVydHMiLCJsZW5ndGgiLCJjbGVhbmVkX2FycmF5IiwidW5kZWZpbmVkIiwicHVzaCIsImVycm9yIiwidGVtcF9zZWxlY3RlZF9mZWF0dXJlX2FycmF5IiwicmVkdWNlUmlnaHQiLCJfY2xlYW5lZF9hcnJheSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjbGVhbl9mZWF0dXJlIiwiaXNTbW9rZVNjYXR0ZXIiLCJpc0NvdW50ZXIiLCJyZXZlcnNlIl0sIm1hcHBpbmdz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QU0sR0FBQyxJQUFQO0FBQ0FDLFlBQVEsR0FBQyxFQUFUO0FBQ0FDLFVBQU0sQ0FBQ0ksSUFBUCxDQUFZLHVCQUFaO0FBQ0FKLFVBQU0sQ0FBQ0ksSUFBUCxDQUFZLCtCQUFaO0FBQ0g7O0FBQ0QsU0FBTztBQUFDRixpQkFBYSxFQUFDSSwyQkFBZjtBQUEyQ1IsVUFBTSxFQUFDQSxNQUFsRDtBQUF5REMsWUFBUSxFQUFDQSxRQUFsRTtBQUEyRUMsVUFBTSxFQUFDQTtBQUFsRixHQUFQLENBM0ZKLENBNEZJO0FBQ0gsQ0E5RkQiLCJmaWxlIjoiYzI1Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vZGF0YSB0YWJsZSBtb2R1bGUsIHJhdyBkYXRhIG91dHB1dCBmb3IgcmUtdXNlIGluIG5vbi12dWUtY29tcG9uZW50IGZvcm1hdHNcclxuaW1wb3J0IHtwYXJ0aWFsX3ZhbGlkYXRlLCBwYXJ0aWFsX2hhc19mZWF0dXJlLCBwYXJ0aWFsX2dldF9mZWF0dXJlfSBcclxuICAgIGZyb20gXCJAL2RhdGFfdGFibGVfbW9kdWxlcy91bml2ZXJzYWwvbWVrX3BhcnRpYWwtZnVuY3Rpb24tZGF0YS1tb2R1bGVcIjtcclxuXHJcbi8vY3JlYXRlIG5ldyBmZWF0dXJlX2RhdGFfdGFibGVcclxubGV0IHJhd19mZWF0dXJlX2RhdGFfdGFibGU9XHJcbltcclxuICAgIHtmZWF0dXJlOlwiTG9uZyBSYW5nZVwiLGNvc3Q6MS4zM30sXHJcbiAgICB7ZmVhdHVyZTpcIkh5cGVydmVsb2NpdHlcIixjb3N0OjEuMjV9LFxyXG4gICAge2ZlYXR1cmU6XCJUdW5uZWxpbmdcIixjb3N0OjEuM30sXHJcbiAgICB7ZmVhdHVyZTpcIkhvbWUgT24gSmFtXCIsY29zdDoyfSxcclxuICAgIHtmZWF0dXJlOlwiRnVzZVwiLGNvc3Q6MS4xfSxcclxuICAgIHtmZWF0dXJlOlwiRm9hbVwiLGNvc3Q6MS4zM30sXHJcbiAgICB7ZmVhdHVyZTpcIkZsYXJlXCIsY29zdDowLjV9LFxyXG4gICAge2ZlYXR1cmU6XCJTbW9rZVwiLGNvc3Q6MC41LCBleGNsdXNpdmVfc21va2Vfc2NhdHRlcjp0cnVlfSxcclxuICAgIHtmZWF0dXJlOlwiU2NhdHRlclwiLGNvc3Q6MC41LCBleGNsdXNpdmVfc21va2Vfc2NhdHRlcjp0cnVlfSxcclxuICAgIHtmZWF0dXJlOlwiQ291bnRlcm1pc3NpbGVcIixjb3N0OjEsIGV4Y2x1c2l2ZV9jb3VudGVyOnRydWV9LFxyXG4gICAge2ZlYXR1cmU6XCJWYXJpYWJsZSBDb3VudGVybWlzc2lsZVwiLGNvc3Q6MS44LCBleGNsdXNpdmVfY291bnRlcjp0cnVlfSxcclxuICAgIHtmZWF0dXJlOlwiU21va2UtU2NhdHRlclwiLGNvc3Q6MSxleGNsdXNpdmVfc21va2Vfc2NhdHRlcjp0cnVlfSxcclxuICAgIHtmZWF0dXJlOlwiTnVjbGVhclwiLGNvc3Q6MTAwMH0sXHJcbl07XHJcbmxldCBleGNsdXNpdmVfc21va2Vfc2NhdHRlcj1yYXdfZmVhdHVyZV9kYXRhX3RhYmxlLmZpbHRlcigoX2VsKT0+e3JldHVybiB0eXBlb2YgX2VsLmV4Y2x1c2l2ZV9zbW9rZV9zY2F0dGVyIT09XCJ1bmRlZmluZWRcIjt9KTtcclxubGV0IGV4Y2x1c2l2ZV9jb3VudGVyPXJhd19mZWF0dXJlX2RhdGFfdGFibGUuZmlsdGVyKChfZWwpPT57cmV0dXJuIHR5cGVvZiBfZWwuZXhjbHVzaXZlX2NvdW50ZXIhPT1cInVuZGVmaW5lZFwiO30pO1xyXG5sZXQgZGF0YV90YWJsZV9rZXlzPVtcImZlYXR1cmVcIixcImNvc3RcIixcImV4Y2x1c2l2ZV9zbW9rZV9zY2F0dGVyXCIsXCJleGNsdXNpdmVfY291bnRlclwiXTtcclxuXHJcbmxldCBmZWF0dXJlX2RhdGFfdGFibGU9cmF3X2ZlYXR1cmVfZGF0YV90YWJsZTtcclxubGV0IGRhdGFfY2FjaGVkPWZhbHNlO1xyXG5cclxubGV0IGZpbHRlcl9kYXRhX3RhYmxlPShfYmxhc3RfcmFkaXVzLCBfc21hcnQpPT5cclxue1xyXG4gICAgZGF0YV9jYWNoZWQ9ZmFsc2U7XHJcbiAgICBpZihfYmxhc3RfcmFkaXVzIT1cIl9fTklMX19cIiAmJiBfc21hcnQpXHJcbiAgICB7XHJcbiAgICAgICAgZmVhdHVyZV9kYXRhX3RhYmxlPXJhd19mZWF0dXJlX2RhdGFfdGFibGU7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgZmVhdHVyZV9kYXRhX3RhYmxlPXJhd19mZWF0dXJlX2RhdGFfdGFibGUuZmlsdGVyKChfdmFsKT0+XHJcbiAgICB7XHJcbiAgICAgICAgaWYoX2JsYXN0X3JhZGl1cz09XCJfX05JTF9fXCIgJiYgW1wibnVjbGVhclwiLFwic2NhdHRlclwiLFwic21va2VcIixcInNtb2tlLXNjYXR0ZXJcIl0uaW5jbHVkZXMoX3ZhbC5mZWF0dXJlLnRvTG93ZXJDYXNlKCkpKVxyXG4gICAgICAgIHsvL2ZpbHRlciBvdXQgc29tZSBmZWF0dXJlcyBpZiBubyBibGFzdCByYWRpdXNcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZighX3NtYXJ0ICYmIF92YWwuZmVhdHVyZS50b0xvd2VyQ2FzZSgpPT1cImhvbWUgb24gamFtXCIpXHJcbiAgICAgICAgey8vZmlsdGVyZWQgb3V0IGhvbWUtb24tamFtIGZvciBkdW1iIG1pc3NpbGVzXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbmxldCBjYWNoZWRfdmFsaWRhdGU9cGFydGlhbF92YWxpZGF0ZShyYXdfZmVhdHVyZV9kYXRhX3RhYmxlLCBkYXRhX3RhYmxlX2tleXMpO1xyXG4vL2RhdGEgdmFsaWRhdG9yIGZvciBmZWF0dXJlX2RhdGFfdGFibGVcclxuLy9jYWxsIHBhcnRpYWxfdmFsaWRhdGUgd2l0aCBhcHByb3ByaWF0ZSBkYXRhIGZvciBmdWxsIHZhbGlkYXRlXHJcbmxldCBmZWF0dXJlX3ZhbGlkYXRlPShfZGF0YSk9PlxyXG57XHJcbiAgICBpZihkYXRhX2NhY2hlZClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gY2FjaGVkX3ZhbGlkYXRlKF9kYXRhKTtcclxuICAgIH1cclxuICAgIGRhdGFfY2FjaGVkPXRydWU7XHJcbiAgICBjYWNoZWRfdmFsaWRhdGU9cGFydGlhbF92YWxpZGF0ZShmZWF0dXJlX2RhdGFfdGFibGUsIGRhdGFfdGFibGVfa2V5cyk7XHJcbiAgICByZXR1cm4gY2FjaGVkX3ZhbGlkYXRlKF9kYXRhKTtcclxufTtcclxuXHJcbi8vY29tcGxldGVkIGZ1bmN0aW9uIGZvciBjaGVja2luZyBpZiBkYXRhIGhhcyBkYXRhXHJcbmxldCBoYXNfZmVhdHVyZT0oX3BrZXksX2RhdGEpPT5cclxue1xyXG4gICAgcmV0dXJuIHBhcnRpYWxfaGFzX2ZlYXR1cmUoZmVhdHVyZV9kYXRhX3RhYmxlKShfcGtleSxfZGF0YSk7XHJcbn07XHJcblxyXG4vL2NvbXBsZXRlZCBmdW5jdGlvbiBmb3IgcmV0dXJuaW5nIG1hdGNoaW5nIGRhdGFcclxubGV0IGdldF9mZWF0dXJlPShfcGtleSxfZGF0YSk9PlxyXG57XHJcbiAgICByZXR1cm4gcGFydGlhbF9nZXRfZmVhdHVyZShmZWF0dXJlX2RhdGFfdGFibGUsIGhhc19mZWF0dXJlKShfcGtleSxfZGF0YSk7XHJcbn07XHJcblxyXG5sZXQgaXNfZXhjbHVzaXZlX2ZlYXR1cmU9ZnVuY3Rpb24oX2V4Y2x1c2l2ZV90YXJnZXQsIF9wa2V5LCBfcGtleV92YWx1ZSlcclxue1xyXG4gICAgbGV0IGV4Y2x1c2l2ZV90YXJnZXRfYXJyYXk9bnVsbDtcclxuICAgIHN3aXRjaChfZXhjbHVzaXZlX3RhcmdldC50b0xvd2VyQ2FzZSgpKVxyXG4gICAge1xyXG4gICAgICAgIGNhc2UgXCJleGNsdXNpdmVfc21va2Vfc2NhdHRlclwiOlxyXG4gICAgICAgICAgICBleGNsdXNpdmVfdGFyZ2V0X2FycmF5PWV4Y2x1c2l2ZV9zbW9rZV9zY2F0dGVyO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiZXhjbHVzaXZlX2NvdW50ZXJcIjpcclxuICAgICAgICAgICAgZXhjbHVzaXZlX3RhcmdldF9hcnJheT1leGNsdXNpdmVfY291bnRlcjtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICBpZihleGNsdXNpdmVfdGFyZ2V0X2FycmF5PT09bnVsbClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZXhjbHVzaXZlX3RhcmdldF9hcnJheS5zb21lKChfdmFsKT0+XHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIF92YWxbX3BrZXldPT1fcGtleV92YWx1ZTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuLyoqKioqXHJcbiAqICpcclxuICogKiAgICBsaWtlbHkgbmVlZCB0byBzZXR1cCBjcmVhdGVfZmVhdHVyZV9kYXRhX3RhYmxlIHRha2luZyBCbGFzdF9SYWRpdXMgYW5kIFNtYXJ0IGFzIGlucHV0XHJcbiAqICogICAgc28gY2xhbmVkX2ZlYXR1cmUgd2lsbCByZW1vdmUgaW52YWxpZCBmZWF0dXJlc1xyXG4gKiAqXHJcbiAqKioqKi9cclxuXHJcblxyXG4vKioqIFxyXG4gKiBcclxuICogZmluZCB3YXkgdG8gc3dpdGNoIHRvIHBhcnRpYWwgZnVuY3Rpb25cclxuICogXHJcbiAqICoqKi9cclxubGV0IGNsZWFuZWRfZmVhdHVyZT1mdW5jdGlvbihfZmVhdHVyZV9hcnJheSwgX3BrZXkpXHJcbnsvL3Rha2VzIGZlYXR1cmVfYXJyYXksIHJldHVybnMgY2xlYW5lZCBhcnJheSByZW1vdmluZyBtdWx0aXBsZSBleGNsdXNpdmUgdmFsdWVzXHJcbiAgICBsZXQgaGFzRXhjbHVzaXZlU21va2VTY2F0dGVyPWZhbHNlO1xyXG4gICAgbGV0IGhhc0V4Y2x1c2l2ZUNvdW50ZXI9ZmFsc2U7XHJcbiAgICBsZXQgdXBkYXRlPWZhbHNlO1xyXG4gICAgbGV0IGtleV9saXN0PVtdO1xyXG4gICAgbGV0IGFsZXJ0cz1bXTtcclxuICAgIGlmKF9mZWF0dXJlX2FycmF5Lmxlbmd0aD09PTApXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHtjbGVhbmVkX2FycmF5OltdLHVwZGF0ZTpmYWxzZSxrZXlfbGlzdDpbXSxhbGVydHM6YWxlcnRzfTtcclxuICAgIH1cclxuICAgIGlmKF9mZWF0dXJlX2FycmF5PT09dW5kZWZpbmVkIHx8IF9wa2V5PT09dW5kZWZpbmVkKVxyXG4gICAge1xyXG4gICAgICAgIGFsZXJ0cy5wdXNoKFwiTWVrX01pc3NpbGUtRmVhdHVyZTogXCIpO1xyXG4gICAgICAgIGxldCBlcnJvcj1fZmVhdHVyZV9hcnJheT09PXVuZGVmaW5lZFxyXG4gICAgICAgICAgICA/IFwiKioqKiBNaXNzaW5nIGZlYXR1cmUgYXJyYXkuIFJldHVybmluZyBkZWZhdWx0LiAqKioqXCJcclxuICAgICAgICAgICAgOiBcIioqKiogTm8gcHJpbWFyeSBrZXkgcHJvdmlkZWQuIFJldHVybmluZyBkZWZhdWx0LiAqKioqXCI7XHJcbiAgICAgICAgYWxlcnRzLnB1c2goZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiB7Y2xlYW5lZF9hcnJheTpbXSx1cGRhdGU6dHJ1ZSxrZXlfbGlzdDpbXSxhbGVydHM6YWxlcnRzfTtcclxuICAgIH1cclxuICAgIGxldCB0ZW1wX3NlbGVjdGVkX2ZlYXR1cmVfYXJyYXk9X2ZlYXR1cmVfYXJyYXkucmVkdWNlUmlnaHQoKF9jbGVhbmVkX2FycmF5LCBfdmFsKT0+XHJcbiAgICB7XHJcbiAgICAgICAgaWYoX3ZhbFtfcGtleV09PT11bmRlZmluZWQpXHJcbiAgICAgICAgey8vaWYgZmVhdHVyZSB3aXRoIHBrZXkgZG9lc24ndCBleGlzdCBpbiBkYXRhIHRhYmxlLCBpZ25vcmVcclxuICAgICAgICAgICAgYWxlcnRzLnB1c2goXCJNZWtfTWlzc2lsZS1GZWF0dXJlOiBcIitKU09OLnN0cmluZ2lmeShfdmFsKSk7XHJcbiAgICAgICAgICAgIGFsZXJ0cy5wdXNoKFwiKioqKiBNaXNzaW5nIHByaW1hcnkga2V5LiBJZ25vcmluZy4gKioqKlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIF9jbGVhbmVkX2FycmF5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY2xlYW5fZmVhdHVyZT1fdmFsO1xyXG4gICAgICAgIGlmKCFmZWF0dXJlX3ZhbGlkYXRlKF92YWwpKVxyXG4gICAgICAgIHsvL2ludmFsaWQgZGF0YVxyXG4gICAgICAgICAgICBhbGVydHMucHVzaChcIk1la19NaXNzaWxlLUZlYXR1cmU6IFwiK0pTT04uc3RyaW5naWZ5KF92YWwpKVxyXG4gICAgICAgICAgICBhbGVydHMucHVzaChcIioqKiogSW52YWxpZCBkYXRhLCBhdHRlbXB0aW5nIHRvIHJlc2V0LiAqKioqXCIpXHJcbiAgICAgICAgICAgIGNsZWFuX2ZlYXR1cmU9Z2V0X2ZlYXR1cmUoX3BrZXksX3ZhbFtfcGtleV0pO1xyXG4gICAgICAgICAgICBfdmFsPWNsZWFuX2ZlYXR1cmU7Ly9yZXBsYWNlIGN1cnJlbnQgdmFsdWUgd2l0aCBjb3JyZWN0IHZhbHVlXHJcbiAgICAgICAgICAgIHVwZGF0ZT10cnVlO1xyXG4gICAgICAgICAgICAvL2F0dGVtcHQgdG8gc2V0IHRvIGNvcnJlY3RlZCBmZWF0dXJlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGNsZWFuX2ZlYXR1cmU9PT1udWxsKVxyXG4gICAgICAgIHsvL25vIG1hdGNoaW5nIGZlYXR1cmVcclxuICAgICAgICAgICAgYWxlcnRzLnB1c2goXCIqKioqIFVuYWJsZSB0byByZXNldC4gTm8gbWF0Y2hpbmcgZGF0YS4gKioqKlwiKVxyXG4gICAgICAgICAgICB1cGRhdGU9dHJ1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIF9jbGVhbmVkX2FycmF5O1xyXG4gICAgICAgICAgICAvL2lnbm9yZSBlbGVtZW50XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBpc1Ntb2tlU2NhdHRlcj1pc19leGNsdXNpdmVfZmVhdHVyZShcImV4Y2x1c2l2ZV9zbW9rZV9zY2F0dGVyXCIsX3BrZXksX3ZhbFtfcGtleV0pO1xyXG4gICAgICAgIGxldCBpc0NvdW50ZXI9aXNfZXhjbHVzaXZlX2ZlYXR1cmUoXCJleGNsdXNpdmVfY291bnRlclwiLF9wa2V5LF92YWxbX3BrZXldKTtcclxuICAgICAgICBcclxuICAgICAgICBpZihpc1Ntb2tlU2NhdHRlciAmJiAhaGFzRXhjbHVzaXZlU21va2VTY2F0dGVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgX2NsZWFuZWRfYXJyYXkucHVzaChfdmFsKTtcclxuICAgICAgICAgICAgaGFzRXhjbHVzaXZlU21va2VTY2F0dGVyPXRydWU7XHJcbiAgICAgICAgICAgIGtleV9saXN0LnB1c2goX3ZhbFtfcGtleV0pO1xyXG4gICAgICAgICAgICByZXR1cm4gX2NsZWFuZWRfYXJyYXk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoaXNTbW9rZVNjYXR0ZXIgJiYgaGFzRXhjbHVzaXZlU21va2VTY2F0dGVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYWxlcnRzLnB1c2goXCJNZWtfTWlzc2lsZS1GZWF0dXJlOiBcIitfdmFsKTtcclxuICAgICAgICAgICAgYWxlcnRzLnB1c2goXCIqKioqIER1cGxpY2F0ZSBFeGNsdXNpdmUgU21va2VTY2F0dGVyIGRhdGEuIElnbm9yaW5nLiAqKioqXCIpO1xyXG4gICAgICAgICAgICB1cGRhdGU9dHJ1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIF9jbGVhbmVkX2FycmF5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihpc0NvdW50ZXIgJiYgIWhhc0V4Y2x1c2l2ZUNvdW50ZXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBfY2xlYW5lZF9hcnJheS5wdXNoKF92YWwpO1xyXG4gICAgICAgICAgICBoYXNFeGNsdXNpdmVDb3VudGVyPXRydWU7XHJcbiAgICAgICAgICAgIGtleV9saXN0LnB1c2goX3ZhbFtfcGtleV0pO1xyXG4gICAgICAgICAgICByZXR1cm4gX2NsZWFuZWRfYXJyYXk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoaXNDb3VudGVyICYmIGhhc0V4Y2x1c2l2ZUNvdW50ZXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBhbGVydHMucHVzaChcIk1la19NaXNzaWxlLUZlYXR1cmU6IFwiK192YWwpO1xyXG4gICAgICAgICAgICBhbGVydHMucHVzaChcIioqKiogRHVwbGljYXRlIEV4Y2x1c2l2ZSBDb3VudGVyIGRhdGEuIElnbm9yaW5nLiAqKioqXCIpO1xyXG4gICAgICAgICAgICB1cGRhdGU9dHJ1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIF9jbGVhbmVkX2FycmF5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZigha2V5X2xpc3QuaW5jbHVkZXMoX3ZhbFtfcGtleV0pKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgX2NsZWFuZWRfYXJyYXkucHVzaChfdmFsKTtcclxuICAgICAgICAgICAga2V5X2xpc3QucHVzaChfdmFsW19wa2V5XSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBfY2xlYW5lZF9hcnJheTtcclxuICAgIH0sW10pO1xyXG4gICAgdGVtcF9zZWxlY3RlZF9mZWF0dXJlX2FycmF5PXRlbXBfc2VsZWN0ZWRfZmVhdHVyZV9hcnJheS5yZXZlcnNlKCk7XHJcbiAgICBpZih0ZW1wX3NlbGVjdGVkX2ZlYXR1cmVfYXJyYXkubGVuZ3RoPT0wKVxyXG4gICAgey8vZW1wdHksIHJlc2V0IHRvIGRlZmF1bHRcclxuICAgICAgICB0ZW1wX3NlbGVjdGVkX2ZlYXR1cmVfYXJyYXk9W107XHJcbiAgICAgICAgdXBkYXRlPXRydWU7XHJcbiAgICAgICAga2V5X2xpc3Q9W107XHJcbiAgICAgICAgYWxlcnRzLnB1c2goXCJNZWtfTWlzc2lsZS1GZWF0dXJlOiBcIik7XHJcbiAgICAgICAgYWxlcnRzLnB1c2goXCIqKioqIFJlc2V0aW5nIHRvIGRlZmF1bHQgKioqKlwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7Y2xlYW5lZF9hcnJheTp0ZW1wX3NlbGVjdGVkX2ZlYXR1cmVfYXJyYXksdXBkYXRlOnVwZGF0ZSxrZXlfbGlzdDprZXlfbGlzdCxhbGVydHM6YWxlcnRzfTtcclxuICAgIC8vcmV0dXJucyBhbiBvYmplY3Qgd2l0aCB0aGUgcHJ1bmVkIGZlYXR1cmUgYXJyYXksIHdoZXRoZXIgaXQgd2FzIHVwZGF0ZWQsIGFuZCB0aGUga2V5X2xpc3RcclxufTtcclxuXHJcbmV4cG9ydCB7ZmVhdHVyZV9kYXRhX3RhYmxlLCBmZWF0dXJlX3ZhbGlkYXRlLCBoYXNfZmVhdHVyZSwgZ2V0X2ZlYXR1cmUsIGNsZWFuZWRfZmVhdHVyZSwgZmlsdGVyX2RhdGFfdGFibGV9O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///c257\n')},d866:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony default export */ __webpack_exports__["a"] = ({\n  methods: {\n    addAlert(_alert_string) {\n      this.alerts.push(_alert_string);\n    },\n\n    publishAlerts() {\n      if (this.alerts.length > 0) {\n        this.$store.commit("alertMessage", this.alerts);\n      }\n\n      this.$set(this, "alerts", []);\n    }\n\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWl4aW5zL2FsZXJ0c19taXhpbi5qcz9kODY2Il0sIm5hbWVzIjpbIm1ldGhvZHMiLCJhZGRBbGVydCIsIl9hbGVydF9zdHJpbmciLCJhbGVydHMiLCJwdXNoIiwicHVibGlzaEFsZXJ0cyIsImxlbmd0aCIsIiRzdG9yZSIsImNvbW1pdCIsIiRzZXQiXSwibWFwcGluZ3MiOiJBQUNBO0FBQ0lBLFNBQU8sRUFDUDtBQUNJQyxZQUFRLENBQUNDLGFBQUQsRUFDUjtBQUNJLFdBQUtDLE1BQUwsQ0FBWUMsSUFBWixDQUFpQkYsYUFBakI7QUFDSCxLQUpMOztBQUtJRyxpQkFBYSxHQUNiO0FBQ0ksVUFBRyxLQUFLRixNQUFMLENBQVlHLE1BQVosR0FBbUIsQ0FBdEIsRUFDQTtBQUNJLGFBQUtDLE1BQUwsQ0FBWUMsTUFBWixDQUFtQixjQUFuQixFQUFrQyxLQUFLTCxNQUF2QztBQUNIOztBQUNELFdBQUtNLElBQUwsQ0FBVSxJQUFWLEVBQWUsUUFBZixFQUF3QixFQUF4QjtBQUNIOztBQVpMO0FBRkosQ0FEQSIsImZpbGUiOiJkODY2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHRcclxue1xyXG4gICAgbWV0aG9kczpcclxuICAgIHtcclxuICAgICAgICBhZGRBbGVydChfYWxlcnRfc3RyaW5nKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5hbGVydHMucHVzaChfYWxlcnRfc3RyaW5nKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHB1Ymxpc2hBbGVydHMoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYodGhpcy5hbGVydHMubGVuZ3RoPjApXHJcbiAgICAgICAgICAgIHsgICBcclxuICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdChcImFsZXJ0TWVzc2FnZVwiLHRoaXMuYWxlcnRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLiRzZXQodGhpcyxcImFsZXJ0c1wiLFtdKTtcclxuICAgICAgICB9LFxyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///d866\n')},deb2:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"47c91943-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/design_components/mek_missile/subcomponents/mek_missile-feature.vue?vue&type=template&id=3aac5cff&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'mek-sub-component-table\',{attrs:{"items":_vm.filteredFeatureTable,"pkey":_vm.pkey,"selected-keys":_vm.selected_keys,"headers":{feature:\'Feature\',cost:\'Cost\'},"show-headers":true,"format":{cost:\'multiplier\'},"name":"Features","flow":"pkey-col"},on:{"update-selected-data":_vm.select_feature}})}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/design_components/mek_missile/subcomponents/mek_missile-feature.vue?vue&type=template&id=3aac5cff&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom.iterable.js\nvar web_dom_iterable = __webpack_require__("ac6a");\n\n// EXTERNAL MODULE: ./src/mixins/alerts_mixin.js\nvar alerts_mixin = __webpack_require__("d866");\n\n// EXTERNAL MODULE: ./src/data_table_modules/mek_missile/mek_missile-feature-data-module.js\nvar mek_missile_feature_data_module = __webpack_require__("c257");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/design_components/mek_missile/subcomponents/mek_missile-feature.vue?vue&type=script&lang=js&\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var mek_missile_featurevue_type_script_lang_js_ = ({\n  name: "mek_beam_feature",\n  props: ["featureArray", "blastRadius", "smartMissile"],\n  mixins: [alerts_mixin["a" /* default */]],\n  components: {\n    "mek-sub-component-table": () => __webpack_require__.e(/* import() | mek_sub-component-table */ "mek_sub-component-table").then(__webpack_require__.bind(null, "a949"))\n  },\n  data: function data() {\n    let obj = {};\n    obj.pkey = "feature";\n    obj.alerts = [];\n    obj.suppressAlerts = false;\n    obj.selected_feature_array = [];\n    return obj;\n  },\n  methods: {\n    select_feature: function select_feature(_selected_feature) {\n      //refactor to external feature array cleaner\n      this.suppressAlerts = true; //suppress alerts, for exclusive switching\n\n      let new_selected_feature_array = this.toggleFeature(this.selected_feature_array, _selected_feature);\n      let cleaned_data = Object(mek_missile_feature_data_module["cleaned_feature"])(new_selected_feature_array, this.pkey);\n      new_selected_feature_array = cleaned_data.cleaned_array;\n\n      if (cleaned_data.alerts.length > 0 && !this.suppressAlerts) {\n        cleaned_data.alerts.forEach(_alert => {\n          this.addAlert(_alert);\n        });\n        this.publishAlerts();\n      }\n\n      this.$set(this, "selected_feature_array", new_selected_feature_array);\n      this.$emit("update-feature", new_selected_feature_array);\n      this.suppressAlerts = false;\n    },\n\n    toggleFeature(_feature_array, _feature) {\n      let feature_array = JSON.parse(JSON.stringify(_feature_array));\n      let remove_feature = feature_array.some(_val => {\n        //if _feature matches already existing feature, flag for deletion\n        return _val[this.pkey] == _feature[this.pkey];\n      }, this);\n\n      if (remove_feature) {\n        //if flagged for removal, filter out\n        return feature_array.filter(_val => {\n          return _val[this.pkey] != _feature[this.pkey];\n        }, this);\n      }\n\n      feature_array.push(_feature); //otherwise add feature and return\n\n      return feature_array;\n    }\n\n  },\n  computed: {\n    filteredFeatureTable() {\n      Object(mek_missile_feature_data_module["filter_data_table"])(this.blastRadius, this.smartMissile);\n      return mek_missile_feature_data_module["feature_data_table"];\n    },\n\n    selected_keys() {\n      this.blastRadius;\n      this.smartMissile;\n      let cleaned_data = Object(mek_missile_feature_data_module["cleaned_feature"])(this.featureArray, this.pkey);\n\n      if (cleaned_data.alerts.length > 0 && !this.suppressAlerts) {\n        cleaned_data.alerts.forEach(_alert => {\n          this.addAlert(_alert);\n        });\n        this.publishAlerts();\n      }\n\n      if (cleaned_data.update) {\n        this.$emit("alert-generated", true);\n        this.$emit("update-feature", cleaned_data.cleaned_array);\n      }\n\n      this.$set(this, "selected_feature_array", cleaned_data.cleaned_array);\n      return cleaned_data.key_list;\n    }\n\n  },\n  watch: {\n    "blastRadius": function blastRadius(_newval, _oldval) {\n      //must track changes in blastRadius to disable alerts for removed features on cleaned_feat\n      if (_newval != _oldval) {\n        this.suppressAlerts = true;\n      }\n    },\n    "smartMissile": function smartMissile(_newval, _oldval) {\n      //must track changes in smartMissile to disable alerts for removed features on cleaned_feat\n      if (_newval != _oldval) {\n        this.suppressAlerts = true;\n      }\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/design_components/mek_missile/subcomponents/mek_missile-feature.vue?vue&type=script&lang=js&\n /* harmony default export */ var subcomponents_mek_missile_featurevue_type_script_lang_js_ = (mek_missile_featurevue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__("2877");\n\n// CONCATENATED MODULE: ./src/design_components/mek_missile/subcomponents/mek_missile-feature.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer["a" /* default */])(\n  subcomponents_mek_missile_featurevue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var mek_missile_feature = __webpack_exports__["default"] = (component.exports);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZGVzaWduX2NvbXBvbmVudHMvbWVrX21pc3NpbGUvc3ViY29tcG9uZW50cy9tZWtfbWlzc2lsZS1mZWF0dXJlLnZ1ZT9iYjVlIiwid2VicGFjazovLy9zcmMvZGVzaWduX2NvbXBvbmVudHMvbWVrX21pc3NpbGUvc3ViY29tcG9uZW50cy9tZWtfbWlzc2lsZS1mZWF0dXJlLnZ1ZT83MDEyIiwid2VicGFjazovLy8uL3NyYy9kZXNpZ25fY29tcG9uZW50cy9tZWtfbWlzc2lsZS9zdWJjb21wb25lbnRzL21la19taXNzaWxlLWZlYXR1cmUudnVlPzUxMmUiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Rlc2lnbl9jb21wb25lbnRzL21la19taXNzaWxlL3N1YmNvbXBvbmVudHMvbWVrX21pc3NpbGUtZmVhdHVyZS52dWU/NTkyYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSwwQkFBMEIsYUFBYSwwQkFBMEIsd0JBQXdCLHFDQUFxQyxPQUFPLDhGQUE4Riw4QkFBOEIsK0JBQStCLGtCQUFrQixxQ0FBcUMsS0FBSywyQ0FBMkM7QUFDdlk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNTQTtBQUVBO0FBSUE7QUFDQSwwQkFEQTtBQUVBLHdEQUZBO0FBR0EsMkNBSEE7QUFJQSxjQUNBO0FBQ0E7QUFEQSxHQUxBO0FBUUEsd0JBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQWhCQTtBQWlCQSxXQUNBO0FBQ0EsK0RBQ0E7QUFBQTtBQUNBLGlDQURBLENBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBLGtFQUNBO0FBQ0EsOENBQ0E7QUFDQTtBQUNBLFNBSEE7QUFJQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBbEJBOztBQW1CQSw0Q0FDQTtBQUNBO0FBRUEsc0RBQ0E7QUFBQTtBQUNBO0FBQ0EsT0FIQSxFQUdBLElBSEE7O0FBS0EsMEJBQ0E7QUFBQTtBQUNBLDRDQUNBO0FBQ0E7QUFDQSxTQUhBLEVBR0EsSUFIQTtBQUlBOztBQUNBLG1DQWZBLENBZ0JBOztBQUNBO0FBQ0E7O0FBdENBLEdBbEJBO0FBMERBLFlBQ0E7QUFDQSwyQkFDQTtBQUNBO0FBQ0E7QUFDQSxLQUxBOztBQU1BLG9CQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLGtFQUNBO0FBQ0EsOENBQ0E7QUFDQTtBQUNBLFNBSEE7QUFJQTtBQUNBOztBQUNBLCtCQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUExQkEsR0EzREE7QUF1RkEsU0FDQTtBQUNBLDBEQUNBO0FBQUE7QUFDQSw4QkFDQTtBQUNBO0FBQ0E7QUFDQSxLQVBBO0FBUUEsNERBQ0E7QUFBQTtBQUNBLDhCQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZEE7QUF4RkEsQ0FEQSxFOztBQ2YyVyxDQUFnQix5SUFBRyxFQUFDLEM7Ozs7O0FDQTdSO0FBQzNCO0FBQ0w7OztBQUdsRTtBQUNnRztBQUNoRyxnQkFBZ0IsOENBQVU7QUFDMUIsRUFBRSx5REFBTTtBQUNSLEVBQUUsTUFBTTtBQUNSLEVBQUUsZUFBZTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFZSwwRyIsImZpbGUiOiJkZWIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ21lay1zdWItY29tcG9uZW50LXRhYmxlJyx7YXR0cnM6e1wiaXRlbXNcIjpfdm0uZmlsdGVyZWRGZWF0dXJlVGFibGUsXCJwa2V5XCI6X3ZtLnBrZXksXCJzZWxlY3RlZC1rZXlzXCI6X3ZtLnNlbGVjdGVkX2tleXMsXCJoZWFkZXJzXCI6e2ZlYXR1cmU6J0ZlYXR1cmUnLGNvc3Q6J0Nvc3QnfSxcInNob3ctaGVhZGVyc1wiOnRydWUsXCJmb3JtYXRcIjp7Y29zdDonbXVsdGlwbGllcid9LFwibmFtZVwiOlwiRmVhdHVyZXNcIixcImZsb3dcIjpcInBrZXktY29sXCJ9LG9uOntcInVwZGF0ZS1zZWxlY3RlZC1kYXRhXCI6X3ZtLnNlbGVjdF9mZWF0dXJlfX0pfVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCI8dGVtcGxhdGU+XHJcbiAgICA8bWVrLXN1Yi1jb21wb25lbnQtdGFibGVcclxuICAgICAgICA6aXRlbXM9XCJmaWx0ZXJlZEZlYXR1cmVUYWJsZVwiIDpwa2V5PVwicGtleVwiIDpzZWxlY3RlZC1rZXlzPVwic2VsZWN0ZWRfa2V5c1wiXHJcbiAgICAgICAgOmhlYWRlcnM9XCJ7ZmVhdHVyZTonRmVhdHVyZScsY29zdDonQ29zdCd9XCJcclxuICAgICAgICA6c2hvdy1oZWFkZXJzPVwidHJ1ZVwiIDpmb3JtYXQ9XCJ7Y29zdDonbXVsdGlwbGllcid9XCJcclxuICAgICAgICBAdXBkYXRlLXNlbGVjdGVkLWRhdGE9XCJzZWxlY3RfZmVhdHVyZVwiXHJcbiAgICAgICAgbmFtZT1cIkZlYXR1cmVzXCIgZmxvdz1cInBrZXktY29sXCJcclxuICAgID48L21lay1zdWItY29tcG9uZW50LXRhYmxlPlxyXG48L3RlbXBsYXRlPlxyXG48c2NyaXB0PlxyXG5pbXBvcnQgYWxlcnRzX21peGluIGZyb20gXCJAL21peGlucy9hbGVydHNfbWl4aW5cIjtcclxuXHJcbmltcG9ydCB7ZmVhdHVyZV9kYXRhX3RhYmxlLCBjbGVhbmVkX2ZlYXR1cmUsIGZpbHRlcl9kYXRhX3RhYmxlfSBcclxuICAgIGZyb20gXCJAL2RhdGFfdGFibGVfbW9kdWxlcy9tZWtfbWlzc2lsZS9tZWtfbWlzc2lsZS1mZWF0dXJlLWRhdGEtbW9kdWxlLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBcclxue1xyXG4gICAgbmFtZTpcIm1la19iZWFtX2ZlYXR1cmVcIixcclxuICAgIHByb3BzOltcImZlYXR1cmVBcnJheVwiLFwiYmxhc3RSYWRpdXNcIixcInNtYXJ0TWlzc2lsZVwiXSxcclxuICAgIG1peGluczpbYWxlcnRzX21peGluXSxcclxuICAgIGNvbXBvbmVudHM6XHJcbiAgICB7XHJcbiAgICAgICAgIFwibWVrLXN1Yi1jb21wb25lbnQtdGFibGVcIjooKT0+aW1wb3J0KC8qIHdlYnBhY2tDaHVua05hbWU6IFwibWVrX3N1Yi1jb21wb25lbnQtdGFibGVcIiAqL1wiQC9hcHBfY29tcG9uZW50cy91bml2ZXJzYWwvbWVrX3N1Yi1jb21wb25lbnQtdGFibGUudnVlXCIpXHJcbiAgICB9LFxyXG4gICAgZGF0YTpmdW5jdGlvbigpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IG9iaj17fTtcclxuICAgICAgICBvYmoucGtleT1cImZlYXR1cmVcIjtcclxuICAgICAgICBvYmouYWxlcnRzPVtdO1xyXG4gICAgICAgIG9iai5zdXBwcmVzc0FsZXJ0cz1mYWxzZTtcclxuICAgICAgICBvYmouc2VsZWN0ZWRfZmVhdHVyZV9hcnJheT1bXTtcclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6XHJcbiAgICB7XHJcbiAgICAgICAgc2VsZWN0X2ZlYXR1cmU6ZnVuY3Rpb24oX3NlbGVjdGVkX2ZlYXR1cmUpXHJcbiAgICAgICAgey8vcmVmYWN0b3IgdG8gZXh0ZXJuYWwgZmVhdHVyZSBhcnJheSBjbGVhbmVyXHJcbiAgICAgICAgICAgIHRoaXMuc3VwcHJlc3NBbGVydHM9dHJ1ZTsvL3N1cHByZXNzIGFsZXJ0cywgZm9yIGV4Y2x1c2l2ZSBzd2l0Y2hpbmdcclxuICAgICAgICAgICAgbGV0IG5ld19zZWxlY3RlZF9mZWF0dXJlX2FycmF5PXRoaXMudG9nZ2xlRmVhdHVyZSh0aGlzLnNlbGVjdGVkX2ZlYXR1cmVfYXJyYXksX3NlbGVjdGVkX2ZlYXR1cmUpO1xyXG4gICAgICAgICAgICBsZXQgY2xlYW5lZF9kYXRhPWNsZWFuZWRfZmVhdHVyZShuZXdfc2VsZWN0ZWRfZmVhdHVyZV9hcnJheSwgdGhpcy5wa2V5KTtcclxuICAgICAgICAgICAgbmV3X3NlbGVjdGVkX2ZlYXR1cmVfYXJyYXk9Y2xlYW5lZF9kYXRhLmNsZWFuZWRfYXJyYXk7XHJcbiAgICAgICAgICAgIGlmKGNsZWFuZWRfZGF0YS5hbGVydHMubGVuZ3RoPjAgJiYgIXRoaXMuc3VwcHJlc3NBbGVydHMpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNsZWFuZWRfZGF0YS5hbGVydHMuZm9yRWFjaCgoX2FsZXJ0KT0+XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRBbGVydChfYWxlcnQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnB1Ymxpc2hBbGVydHMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLiRzZXQodGhpcyxcInNlbGVjdGVkX2ZlYXR1cmVfYXJyYXlcIixuZXdfc2VsZWN0ZWRfZmVhdHVyZV9hcnJheSk7XHJcbiAgICAgICAgICAgIHRoaXMuJGVtaXQoXCJ1cGRhdGUtZmVhdHVyZVwiLG5ld19zZWxlY3RlZF9mZWF0dXJlX2FycmF5KTtcclxuICAgICAgICAgICAgdGhpcy5zdXBwcmVzc0FsZXJ0cz1mYWxzZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRvZ2dsZUZlYXR1cmUoX2ZlYXR1cmVfYXJyYXksX2ZlYXR1cmUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgZmVhdHVyZV9hcnJheT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF9mZWF0dXJlX2FycmF5KSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgcmVtb3ZlX2ZlYXR1cmU9ZmVhdHVyZV9hcnJheS5zb21lKChfdmFsKT0+XHJcbiAgICAgICAgICAgIHsvL2lmIF9mZWF0dXJlIG1hdGNoZXMgYWxyZWFkeSBleGlzdGluZyBmZWF0dXJlLCBmbGFnIGZvciBkZWxldGlvblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF92YWxbdGhpcy5wa2V5XT09X2ZlYXR1cmVbdGhpcy5wa2V5XTtcclxuICAgICAgICAgICAgfSx0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIGlmKHJlbW92ZV9mZWF0dXJlKVxyXG4gICAgICAgICAgICB7Ly9pZiBmbGFnZ2VkIGZvciByZW1vdmFsLCBmaWx0ZXIgb3V0XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmVhdHVyZV9hcnJheS5maWx0ZXIoKF92YWwpPT5cclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZhbFt0aGlzLnBrZXldIT1fZmVhdHVyZVt0aGlzLnBrZXldO1xyXG4gICAgICAgICAgICAgICAgfSx0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmZWF0dXJlX2FycmF5LnB1c2goX2ZlYXR1cmUpO1xyXG4gICAgICAgICAgICAvL290aGVyd2lzZSBhZGQgZmVhdHVyZSBhbmQgcmV0dXJuXHJcbiAgICAgICAgICAgIHJldHVybiBmZWF0dXJlX2FycmF5O1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjb21wdXRlZDpcclxuICAgIHtcclxuICAgICAgICBmaWx0ZXJlZEZlYXR1cmVUYWJsZSgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBmaWx0ZXJfZGF0YV90YWJsZSh0aGlzLmJsYXN0UmFkaXVzLHRoaXMuc21hcnRNaXNzaWxlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZlYXR1cmVfZGF0YV90YWJsZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNlbGVjdGVkX2tleXMoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5ibGFzdFJhZGl1cztcclxuICAgICAgICAgICAgdGhpcy5zbWFydE1pc3NpbGU7XHJcbiAgICAgICAgICAgIGxldCBjbGVhbmVkX2RhdGE9Y2xlYW5lZF9mZWF0dXJlKHRoaXMuZmVhdHVyZUFycmF5LHRoaXMucGtleSk7XHJcbiAgICAgICAgICAgIGlmKGNsZWFuZWRfZGF0YS5hbGVydHMubGVuZ3RoPjAgJiYgIXRoaXMuc3VwcHJlc3NBbGVydHMpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNsZWFuZWRfZGF0YS5hbGVydHMuZm9yRWFjaCgoX2FsZXJ0KT0+XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRBbGVydChfYWxlcnQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnB1Ymxpc2hBbGVydHMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihjbGVhbmVkX2RhdGEudXBkYXRlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KFwiYWxlcnQtZ2VuZXJhdGVkXCIsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KFwidXBkYXRlLWZlYXR1cmVcIixjbGVhbmVkX2RhdGEuY2xlYW5lZF9hcnJheSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMsXCJzZWxlY3RlZF9mZWF0dXJlX2FycmF5XCIsY2xlYW5lZF9kYXRhLmNsZWFuZWRfYXJyYXkpO1xyXG4gICAgICAgICAgICByZXR1cm4gY2xlYW5lZF9kYXRhLmtleV9saXN0O1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB3YXRjaDpcclxuICAgIHtcclxuICAgICAgICBcImJsYXN0UmFkaXVzXCI6ZnVuY3Rpb24oX25ld3ZhbCxfb2xkdmFsKVxyXG4gICAgICAgIHsvL211c3QgdHJhY2sgY2hhbmdlcyBpbiBibGFzdFJhZGl1cyB0byBkaXNhYmxlIGFsZXJ0cyBmb3IgcmVtb3ZlZCBmZWF0dXJlcyBvbiBjbGVhbmVkX2ZlYXRcclxuICAgICAgICAgICAgaWYoX25ld3ZhbCE9X29sZHZhbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdXBwcmVzc0FsZXJ0cz10cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcInNtYXJ0TWlzc2lsZVwiOmZ1bmN0aW9uKF9uZXd2YWwsX29sZHZhbClcclxuICAgICAgICB7Ly9tdXN0IHRyYWNrIGNoYW5nZXMgaW4gc21hcnRNaXNzaWxlIHRvIGRpc2FibGUgYWxlcnRzIGZvciByZW1vdmVkIGZlYXR1cmVzIG9uIGNsZWFuZWRfZmVhdFxyXG4gICAgICAgICAgICBpZihfbmV3dmFsIT1fb2xkdmFsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN1cHByZXNzQWxlcnRzPXRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuPC9zY3JpcHQ+IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9tZWtfbWlzc2lsZS1mZWF0dXJlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9tZWtfbWlzc2lsZS1mZWF0dXJlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vbWVrX21pc3NpbGUtZmVhdHVyZS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9M2FhYzVjZmYmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vbWVrX21pc3NpbGUtZmVhdHVyZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL21la19taXNzaWxlLWZlYXR1cmUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///deb2\n')}}]);