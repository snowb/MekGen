(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mek_beam-feature-data-module"],{"706d":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return partial_validate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return partial_has_feature; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return partial_get_feature; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return partial_cleaned_feature; });\n//data table module, raw data output for re-use in non-vue-component formats\n//ATTEMPT: make validators and has_feat and get_feat and cleaned_feat functions \n//          neutral and reusable across all data modules\n//partial data validator\n//called with data_table and validation_keys in data-module\nlet partial_validate = (_data_table, _validation_keys) => _data => {\n  //_data_table: Array, array of data to validate against\n  //_validation_keys: Array, keys to be compared between passed in data and data_table\n  //_data: Object, data to be compared to data table \n  if (typeof _data === "undefined" || !Array.isArray(_validation_keys) || _validation_keys.length == 0) {\n    return false;\n  }\n\n  let valid = _data_table.some(_val => {\n    return _validation_keys.every(_keys => {\n      //return true if all validation_keys in _data match an element in _data_table\n      return _data[_keys] == _val[_keys];\n    });\n  });\n\n  return valid;\n}; //partial_has_feature, determine if provided data table has matching element with provided key and val\n//called in data module to generate full function with local data\n\n\nlet partial_has_feature = _data_table => (_key, _val) => {\n  return _data_table.some(_data => {\n    return _data[_key] !== undefined && _data[_key] == _val;\n  });\n}; //partial get_feature, returns full function for data module\n//requires data_table (array) and module\'s has_feature function\n//returns full matching element in provided data table\n//has_feature must exist in data table module\n\n\nlet partial_get_feature = (_data_table, _has_feature) => (_key, _val) => {\n  let found_feature = null;\n\n  if (_has_feature(_key, _val)) {\n    _data_table.some(_table_val => {\n      if (_table_val[_key] == _val) {\n        found_feature = _table_val;\n        return true;\n      }\n    }, undefined);\n  }\n\n  return found_feature;\n};\n\nlet partial_cleaned_feature = (_validator, _has_feature, _get_feature, _default_data, _name) => (_pkey, _feature) => {\n  //input: primary key, selected feature, filtered data table\n  let data = undefined;\n  let key_list = [];\n  let update = false;\n  let alerts = [];\n  let json_data = JSON.stringify(_feature);\n\n  if (_feature === undefined || !_has_feature(_pkey, _feature[_pkey])) {\n    data = _default_data;\n    key_list = [data[_pkey]];\n    update = true;\n    alerts.push(_name + ": " + json_data);\n    alerts.push("**** Invalid data. Reseting to default. ****");\n  } else if (!_validator(_feature)) {\n    data = JSON.parse(JSON.stringify(_get_feature(_pkey, _feature[_pkey])));\n    key_list = [data[_pkey]];\n    update = true;\n    alerts.push(_name + ": " + json_data);\n    alerts.push("**** Invalid data. Reseting. ****");\n  } else {\n    data = JSON.parse(JSON.stringify(_feature));\n    key_list = [data[_pkey]];\n    update = false;\n  }\n\n  return {\n    data: data,\n    key_list: key_list,\n    update: update,\n    alerts: alerts\n  };\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZGF0YV90YWJsZV9tb2R1bGVzL3VuaXZlcnNhbC9tZWtfcGFydGlhbC1mdW5jdGlvbi1kYXRhLW1vZHVsZS5qcz83MDZkIl0sIm5hbWVzIjpbInBhcnRpYWxfdmFsaWRhdGUiLCJfZGF0YV90YWJsZSIsIl92YWxpZGF0aW9uX2tleXMiLCJfZGF0YSIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsInZhbGlkIiwic29tZSIsIl92YWwiLCJldmVyeSIsIl9rZXlzIiwicGFydGlhbF9oYXNfZmVhdHVyZSIsIl9rZXkiLCJ1bmRlZmluZWQiLCJwYXJ0aWFsX2dldF9mZWF0dXJlIiwiX2hhc19mZWF0dXJlIiwiZm91bmRfZmVhdHVyZSIsIl90YWJsZV92YWwiLCJwYXJ0aWFsX2NsZWFuZWRfZmVhdHVyZSIsIl92YWxpZGF0b3IiLCJfZ2V0X2ZlYXR1cmUiLCJfZGVmYXVsdF9kYXRhIiwiX25hbWUiLCJfcGtleSIsIl9mZWF0dXJlIiwiZGF0YSIsImtleV9saXN0IiwidXBkYXRlIiwiYWxlcnRzIiwianNvbl9kYXRhIiwiSlNPTiIsInN0cmluZ2lmeSIsInB1c2giLCJwYXJzZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0EsSUFBSUEsZ0JBQWdCLEdBQUMsQ0FBQ0MsV0FBRCxFQUFhQyxnQkFBYixLQUFpQ0MsS0FBRCxJQUNyRDtBQUFDO0FBQ0c7QUFDQTtBQUNBLE1BQUcsT0FBT0EsS0FBUCxLQUFlLFdBQWYsSUFBOEIsQ0FBQ0MsS0FBSyxDQUFDQyxPQUFOLENBQWNILGdCQUFkLENBQS9CLElBQWtFQSxnQkFBZ0IsQ0FBQ0ksTUFBakIsSUFBeUIsQ0FBOUYsRUFDQTtBQUNJLFdBQU8sS0FBUDtBQUNIOztBQUNELE1BQUlDLEtBQUssR0FBQ04sV0FBVyxDQUFDTyxJQUFaLENBQWtCQyxJQUFELElBQzNCO0FBQ0ksV0FBT1AsZ0JBQWdCLENBQUNRLEtBQWpCLENB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LFFBQUksRUFBQ0EsSUFBTjtBQUFZQyxZQUFRLEVBQUNBLFFBQXJCO0FBQStCQyxVQUFNLEVBQUNBLE1BQXRDO0FBQThDQyxVQUFNLEVBQUNBO0FBQXJELEdBQVA7QUFDSCxDQS9CRCIsImZpbGUiOiI3MDZkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy9kYXRhIHRhYmxlIG1vZHVsZSwgcmF3IGRhdGEgb3V0cHV0IGZvciByZS11c2UgaW4gbm9uLXZ1ZS1jb21wb25lbnQgZm9ybWF0c1xyXG5cclxuLy9BVFRFTVBUOiBtYWtlIHZhbGlkYXRvcnMgYW5kIGhhc19mZWF0IGFuZCBnZXRfZmVhdCBhbmQgY2xlYW5lZF9mZWF0IGZ1bmN0aW9ucyBcclxuLy8gICAgICAgICAgbmV1dHJhbCBhbmQgcmV1c2FibGUgYWNyb3NzIGFsbCBkYXRhIG1vZHVsZXNcclxuXHJcbi8vcGFydGlhbCBkYXRhIHZhbGlkYXRvclxyXG4vL2NhbGxlZCB3aXRoIGRhdGFfdGFibGUgYW5kIHZhbGlkYXRpb25fa2V5cyBpbiBkYXRhLW1vZHVsZVxyXG5sZXQgcGFydGlhbF92YWxpZGF0ZT0oX2RhdGFfdGFibGUsX3ZhbGlkYXRpb25fa2V5cyk9PihfZGF0YSk9PlxyXG57Ly9fZGF0YV90YWJsZTogQXJyYXksIGFycmF5IG9mIGRhdGEgdG8gdmFsaWRhdGUgYWdhaW5zdFxyXG4gICAgLy9fdmFsaWRhdGlvbl9rZXlzOiBBcnJheSwga2V5cyB0byBiZSBjb21wYXJlZCBiZXR3ZWVuIHBhc3NlZCBpbiBkYXRhIGFuZCBkYXRhX3RhYmxlXHJcbiAgICAvL19kYXRhOiBPYmplY3QsIGRhdGEgdG8gYmUgY29tcGFyZWQgdG8gZGF0YSB0YWJsZSBcclxuICAgIGlmKHR5cGVvZiBfZGF0YT09PVwidW5kZWZpbmVkXCIgfHwgIUFycmF5LmlzQXJyYXkoX3ZhbGlkYXRpb25fa2V5cykgfHwgX3ZhbGlkYXRpb25fa2V5cy5sZW5ndGg9PTApXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgbGV0IHZhbGlkPV9kYXRhX3RhYmxlLnNvbWUoKF92YWwpPT5cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gX3ZhbGlkYXRpb25fa2V5cy5ldmVyeSgoX2tleXMpPT5cclxuICAgICAgICB7Ly9yZXR1cm4gdHJ1ZSBpZiBhbGwgdmFsaWRhdGlvbl9rZXlzIGluIF9kYXRhIG1hdGNoIGFuIGVsZW1lbnQgaW4gX2RhdGFfdGFibGVcclxuICAgICAgICAgICAgcmV0dXJuIF9kYXRhW19rZXlzXT09X3ZhbFtfa2V5c107XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB2YWxpZDtcclxufVxyXG5cclxuLy9wYXJ0aWFsX2hhc19mZWF0dXJlLCBkZXRlcm1pbmUgaWYgcHJvdmlkZWQgZGF0YSB0YWJsZSBoYXMgbWF0Y2hpbmcgZWxlbWVudCB3aXRoIHByb3ZpZGVkIGtleSBhbmQgdmFsXHJcbi8vY2FsbGVkIGluIGRhdGEgbW9kdWxlIHRvIGdlbmVyYXRlIGZ1bGwgZnVuY3Rpb24gd2l0aCBsb2NhbCBkYXRhXHJcbmxldCBwYXJ0aWFsX2hhc19mZWF0dXJlPShfZGF0YV90YWJsZSk9Pihfa2V5LCBfdmFsKT0+XHJcbntcclxuICAgIHJldHVybiBfZGF0YV90YWJsZS5zb21lKChfZGF0YSk9PlxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBfZGF0YVtfa2V5XSE9PXVuZGVmaW5lZCAmJiBfZGF0YVtfa2V5XT09X3ZhbDtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuLy9wYXJ0aWFsIGdldF9mZWF0dXJlLCByZXR1cm5zIGZ1bGwgZnVuY3Rpb24gZm9yIGRhdGEgbW9kdWxlXHJcbi8vcmVxdWlyZXMgZGF0YV90YWJsZSAoYXJyYXkpIGFuZCBtb2R1bGUncyBoYXNfZmVhdHVyZSBmdW5jdGlvblxyXG4vL3JldHVybnMgZnVsbCBtYXRjaGluZyBlbGVtZW50IGluIHByb3ZpZGVkIGRhdGEgdGFibGVcclxuLy9oYXNfZmVhdHVyZSBtdXN0IGV4aXN0IGluIGRhdGEgdGFibGUgbW9kdWxlXHJcbmxldCBwYXJ0aWFsX2dldF9mZWF0dXJlPShfZGF0YV90YWJsZSwgX2hhc19mZWF0dXJlKT0+KF9rZXksIF92YWwpPT5cclxue1xyXG4gICAgbGV0IGZvdW5kX2ZlYXR1cmU9bnVsbDtcclxuICAgIGlmKF9oYXNfZmVhdHVyZShfa2V5LF92YWwpKVxyXG4gICAge1xyXG4gICAgICAgIF9kYXRhX3RhYmxlLnNvbWUoKF90YWJsZV92YWwpPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKF90YWJsZV92YWxbX2tleV09PV92YWwpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGZvdW5kX2ZlYXR1cmU9X3RhYmxlX3ZhbDtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSx0aGlzKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmb3VuZF9mZWF0dXJlO1xyXG59XHJcblxyXG5sZXQgcGFydGlhbF9jbGVhbmVkX2ZlYXR1cmU9KF92YWxpZGF0b3IsIF9oYXNfZmVhdHVyZSwgX2dldF9mZWF0dXJlLCBfZGVmYXVsdF9kYXRhLCBfbmFtZSk9PihfcGtleSwgX2ZlYXR1cmUpPT5cclxuey8vaW5wdXQ6IHByaW1hcnkga2V5LCBzZWxlY3RlZCBmZWF0dXJlLCBmaWx0ZXJlZCBkYXRhIHRhYmxlXHJcbiAgICBsZXQgZGF0YT11bmRlZmluZWQ7XHJcbiAgICBsZXQga2V5X2xpc3Q9W107XHJcbiAgICBsZXQgdXBkYXRlPWZhbHNlO1xyXG4gICAgbGV0IGFsZXJ0cz1bXTtcclxuICAgIGxldCBqc29uX2RhdGE9SlNPTi5zdHJpbmdpZnkoX2ZlYXR1cmUpO1xyXG5cclxuICAgIGlmKF9mZWF0dXJlPT09dW5kZWZpbmVkIHx8ICFfaGFzX2ZlYXR1cmUoX3BrZXksX2ZlYXR1cmVbX3BrZXldKSlcclxuICAgIHtcclxuICAgICAgICBkYXRhPV9kZWZhdWx0X2RhdGE7XHJcbiAgICAgICAga2V5X2xpc3Q9W2RhdGFbX3BrZXldXTtcclxuICAgICAgICB1cGRhdGU9dHJ1ZTtcclxuICAgICAgICBhbGVydHMucHVzaChfbmFtZStcIjogXCIranNvbl9kYXRhKTtcclxuICAgICAgICBhbGVydHMucHVzaChcIioqKiogSW52YWxpZCBkYXRhLiBSZXNldGluZyB0byBkZWZhdWx0LiAqKioqXCIpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZighX3ZhbGlkYXRvcihfZmVhdHVyZSkpXHJcbiAgICB7XHJcbiAgICAgICAgZGF0YT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF9nZXRfZmVhdHVyZShfcGtleSxfZmVhdHVyZVtfcGtleV0pKSk7XHJcbiAgICAgICAga2V5X2xpc3Q9W2RhdGFbX3BrZXldXTtcclxuICAgICAgICB1cGRhdGU9dHJ1ZTtcclxuICAgICAgICBhbGVydHMucHVzaChfbmFtZStcIjogXCIranNvbl9kYXRhKTtcclxuICAgICAgICBhbGVydHMucHVzaChcIioqKiogSW52YWxpZCBkYXRhLiBSZXNldGluZy4gKioqKlwiKTtcclxuICAgIH1cclxuICAgIGVsc2VcclxuICAgIHtcclxuICAgICAgICBkYXRhPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX2ZlYXR1cmUpKTtcclxuICAgICAgICBrZXlfbGlzdD1bZGF0YVtfcGtleV1dO1xyXG4gICAgICAgIHVwZGF0ZT1mYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB7ZGF0YTpkYXRhLCBrZXlfbGlzdDprZXlfbGlzdCwgdXBkYXRlOnVwZGF0ZSwgYWxlcnRzOmFsZXJ0c307XHJcbn1cclxuXHJcbmV4cG9ydCB7cGFydGlhbF92YWxpZGF0ZSwgcGFydGlhbF9oYXNfZmVhdHVyZSwgcGFydGlhbF9nZXRfZmVhdHVyZSwgcGFydGlhbF9jbGVhbmVkX2ZlYXR1cmV9O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///706d\n')},b8e7:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "feature_data_table", function() { return feature_data_table; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "feature_validate", function() { return feature_validate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "has_feature", function() { return has_feature; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "get_feature", function() { return get_feature; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cleaned_feature", function() { return cleaned_feature; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "filter_data_table", function() { return filter_data_table; });\n/* harmony import */ var _data_table_modules_universal_mek_partial_function_data_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("706d");\n//data table module, raw data output for re-use in non-vue-component formats\n //create new feature_data_table\n\nlet raw_feature_data_table = [{\n  feature: "Mag-Fed",\n  cost: 0.9\n}, {\n  feature: "Anti-Missile",\n  cost: 1,\n  exclusive_anti_missile: true\n}, {\n  feature: "Variable Anti-Missile",\n  cost: 1.8,\n  exclusive_anti_missile: true\n}, {\n  feature: "Anti-Personnel",\n  cost: 1.0,\n  exclusive_personnel: true\n}, {\n  feature: "Variable Anti-Personnel",\n  cost: 1.8,\n  exclusive_personnel: true\n}, {\n  feature: "Anti-Missile Anti-Personnel",\n  cost: 1.6,\n  exclusive_personnel: true,\n  exclusive_anti_missile: true\n}, {\n  feature: "All Purpose",\n  cost: 2.6,\n  exclusive_personnel: true,\n  exclusive_anti_missile: true\n}, {\n  feature: "Fragile",\n  cost: 1\n}, {\n  feature: "Long Range",\n  cost: 1.33\n}, {\n  feature: "Hydro",\n  cost: 0.2\n}, {\n  feature: "Mega-Beam",\n  cost: 10\n}, {\n  feature: "Disruptor",\n  cost: 2\n}];\nlet exclusive_anti_missile = raw_feature_data_table.filter(_el => {\n  return _el.exclusive_anti_missile !== undefined;\n});\nlet exclusive_personnel = raw_feature_data_table.filter(_el => {\n  return _el.exclusive_personnel !== undefined;\n});\nlet exclusive_personnel_missile = raw_feature_data_table.filter(_el => {\n  return _el.exclusive_personnel !== undefined && _el.exclusive_anti_missile !== undefined;\n});\nlet data_table_keys = ["feature", "cost", "exclusive_anti_missile", "exclusive_personnel"];\nlet feature_data_table = raw_feature_data_table;\nlet data_cached = false;\n\nlet filter_data_table = _burst_value => {\n  data_cached = false;\n\n  if (_burst_value > 1 || _burst_value == "__INFINITY__") {\n    feature_data_table = raw_feature_data_table;\n    return;\n  }\n\n  feature_data_table = raw_feature_data_table.filter(_val => {\n    return !_val.exclusive_anti_missile;\n  });\n};\n\nlet cached_validate = Object(_data_table_modules_universal_mek_partial_function_data_module__WEBPACK_IMPORTED_MODULE_0__[/* partial_validate */ "d"])(raw_feature_data_table, data_table_keys); //data validator for feature_data_table\n//call partial_validate with appropriate data for full validate\n\nlet feature_validate = _data => {\n  if (data_cached) {\n    return cached_validate(_data);\n  }\n\n  data_cached = true;\n  cached_validate = Object(_data_table_modules_universal_mek_partial_function_data_module__WEBPACK_IMPORTED_MODULE_0__[/* partial_validate */ "d"])(feature_data_table, data_table_keys);\n  return cached_validate(_data);\n}; //completed function for checking if data has data\n\n\nlet has_feature = (_pkey, _data) => {\n  return Object(_data_table_modules_universal_mek_partial_function_data_module__WEBPACK_IMPORTED_MODULE_0__[/* partial_has_feature */ "c"])(feature_data_table)(_pkey, _data);\n}; //completed function for returning matching data\n\n\nlet get_feature = (_pkey, _data) => {\n  return Object(_data_table_modules_universal_mek_partial_function_data_module__WEBPACK_IMPORTED_MODULE_0__[/* partial_get_feature */ "b"])(feature_data_table, has_feature)(_pkey, _data);\n};\n\nlet is_exclusive_feature = function is_exclusive_feature(_exclusive_target, _pkey, _pkey_value) {\n  let exclusive_target_array = null;\n\n  switch (_exclusive_target.toLowerCase()) {\n    case "exclusive_anti_missile":\n      exclusive_target_array = JSON.parse(JSON.stringify(exclusive_anti_missile));\n      break;\n\n    case "exclusive_personnel":\n      exclusive_target_array = JSON.parse(JSON.stringify(exclusive_personnel));\n      break;\n\n    case "exclusive_personnel_missile":\n      exclusive_target_array = JSON.parse(JSON.stringify(exclusive_personnel_missile));\n      break;\n  }\n\n  if (exclusive_target_array === null) {\n    return false;\n  }\n\n  return exclusive_target_array.some(_val => {\n    return _val[_pkey] == _pkey_value;\n  });\n};\n/*****\r\n * *\r\n * *    likely need to setup create_feature_data_table taking Blast_Radius and Smart as input\r\n * *    so claned_feature will remove invalid features\r\n * *\r\n *****/\n\n/*** \r\n * \r\n * find way to switch to partial function\r\n * \r\n * ***/\n\n\nlet cleaned_feature = function cleaned_feature(_feature_array, _pkey) {\n  //takes feature_array, returns cleaned array removing multiple exclusive values\n  let hasExclusivemissile = false;\n  let hasExclusivePersonnel = false;\n  let hasExclusivePersonnelmissile = false;\n  let update = false;\n  let key_list = [];\n  let alerts = [];\n\n  if (_feature_array.length === 0) {\n    return {\n      cleaned_array: [],\n      update: false,\n      key_list: [],\n      alerts: alerts\n    };\n  }\n\n  if (_feature_array === undefined || _pkey === undefined) {\n    alerts.push("Mek_Beam-Feature: ");\n    let error = _feature_array === undefined ? "**** Missing feature array. Returning default. ****" : "**** No primary key provided. Returning default. ****";\n    alerts.push(error);\n    return {\n      cleaned_array: [],\n      update: true,\n      key_list: [],\n      alerts: alerts\n    };\n  }\n\n  let temp_selected_feature_array = _feature_array.reduceRight((_cleaned_array, _val) => {\n    if (_val[_pkey] === undefined) {\n      //if feature with pkey doesn\'t exist in data table, ignore\n      alerts.push("Mek_Beam-Feature: " + JSON.stringify(_val));\n      alerts.push("**** Missing primary key. Ignoring. ****");\n      return _cleaned_array;\n    }\n\n    let clean_feature = _val;\n\n    if (!feature_validate(_val)) {\n      //invalid data\n      alerts.push("Mek_Beam-Feature: " + JSON.stringify(_val));\n      alerts.push("**** Invalid data, attempting to reset. ****");\n      clean_feature = get_feature(_pkey, _val[_pkey]);\n      _val = clean_feature; //replace current value with correct value\n\n      update = true; //attempt to set to corrected feature\n    }\n\n    if (clean_feature === null) {\n      //no matching feature\n      alerts.push("**** Unable to reset. No matching data. ****");\n      update = true;\n      return _cleaned_array; //ignore element\n    }\n\n    let ismissile = is_exclusive_feature("exclusive_anti_missile", _pkey, _val[_pkey]);\n    let isPersonnel = is_exclusive_feature("exclusive_personnel", _pkey, _val[_pkey]);\n    let isPersonnelmissile = is_exclusive_feature("exclusive_personnel_missile", _pkey, _val[_pkey]);\n\n    if (isPersonnelmissile && !hasExclusivePersonnelmissile) {\n      _cleaned_array.push(_val);\n\n      hasExclusivePersonnelmissile = true;\n      hasExclusivePersonnel = true;\n      hasExclusivemissile = true;\n      key_list.push(_val[_pkey]);\n      return _cleaned_array;\n    } else if (isPersonnelmissile && hasExclusivePersonnelmissile) {\n      alerts.push("Mek_Beam-Feature: " + _val);\n      alerts.push("**** Duplicate Exclusive Personnel-Beam data. Ignoring. ****");\n      update = true;\n      return _cleaned_array;\n    }\n\n    if (ismissile && !hasExclusivemissile) {\n      _cleaned_array.push(_val);\n\n      hasExclusivemissile = true;\n      hasExclusivePersonnelmissile = true;\n      key_list.push(_val[_pkey]);\n      return _cleaned_array;\n    } else if (ismissile && hasExclusivemissile) {\n      alerts.push("Mek_Beam-Feature: " + _val);\n      alerts.push("**** Duplicate Exclusive missile data. Ignoring. ****");\n      update = true;\n      return _cleaned_array;\n    }\n\n    if (isPersonnel && !hasExclusivePersonnel) {\n      _cleaned_array.push(_val);\n\n      hasExclusivePersonnel = true;\n      hasExclusivePersonnelmissile = true;\n      key_list.push(_val[_pkey]);\n      return _cleaned_array;\n    } else if (isPersonnel && hasExclusivePersonnel) {\n      alerts.push("Mek_Beam-Feature: " + _val);\n      alerts.push("**** Duplicate Exclusive Anti-Personnel data. Ignoring. ****");\n      update = true;\n      return _cleaned_array;\n    }\n\n    if (!key_list.includes(_val[_pkey])) {\n      _cleaned_array.push(_val);\n\n      key_list.push(_val[_pkey]);\n    }\n\n    return _cleaned_array;\n  }, []);\n\n  temp_selected_feature_array = temp_selected_feature_array.reverse();\n\n  if (temp_selected_feature_array.length == 0) {\n    //empty, reset to default\n    temp_selected_feature_array = [];\n    update = true;\n    key_list = [];\n    alerts.push("Mek_Beam-Feature: ");\n    alerts.push("**** Reseting to default ****");\n  }\n\n  return {\n    cleaned_array: temp_selected_feature_array,\n    update: update,\n    key_list: key_list,\n    alerts: alerts\n  }; //returns an object with the pruned feature array, whether it was updated, and the key_list\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZGF0YV90YWJsZV9tb2R1bGVzL21la19iZWFtL21la19iZWFtLWZlYXR1cmUtZGF0YS1tb2R1bGUuanM/YjhlNyJdLCJuYW1lcyI6WyJyYXdfZmVhdHVyZV9kYXRhX3RhYmxlIiwiZmVhdHVyZSIsImNvc3QiLCJleGNsdXNpdmVfYW50aV9taXNzaWxlIiwiZXhjbHVzaXZlX3BlcnNvbm5lbCIsImZpbHRlciIsIl9lbCIsInVuZGVmaW5lZCIsImV4Y2x1c2l2ZV9wZXJzb25uZWxfbWlzc2lsZSIsImRhdGFfdGFibGVfa2V5cyIsImZlYXR1cmVfZGF0YV90YWJsZSIsImRhdGFfY2FjaGVkIiwiZmlsdGVyX2RhdGFfdGFibGUiLCJfYnVyc3RfdmFsdWUiLCJfdmFsIiwiY2FjaGVkX3ZhbGlkYXRlIiwicGFydGlhbF92YWxpZGF0ZSIsImZlYXR1cmVfdmFsaWRhdGUiLCJfZGF0YSIsImhhc19mZWF0dXJlIiwiX3BrZXkiLCJwYXJ0aWFsX2hhc19mZWF0dXJlIiwiZ2V0X2ZlYXR1cmUiLCJwYXJ0aWFsX2dldF9mZWF0dXJlIiwiaXNfZXhjbHVzaXZlX2ZlYXR1cmUiLCJfZXhjbHVzaXZlX3RhcmdldCIsIl9wa2V5X3ZhbHVlIiwiZXhjbHVzaXZlX3RhcmdldF9hcnJheSIsInRvTG93ZXJDYXNlIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5Iiwic29tZSIsImNsZWFuZWRfZmVhdHVyZSIsIl9mZWF0dXJlX2FycmF5IiwiaGFzRXhjbHVzaXZlbWlzc2lsZSIsImhhc0V4Y2x1c2l2ZVBlcnNvbm5lbCIsImhhc0V4Y2x1c2l2ZVBlcnNvbm5lbG1pc3NpbGUiLCJ1cGRhdGUiLCJrZXlfbGlzdCIsImFsZXJ0cyIsImxlbmd0aCIsImNsZWFuZWRfYXJyYXkiLCJwdXNoIiwiZXJyb3IiLCJ0ZW1wX3NlbGVjdGVkX2ZlYXR1cmVfYXJyYXkiLCJyZWR1Y2VSaWdodCIsIl9jbGVhbmVkX2FycmF5IiwiY2xlYW5fZmVhdHVyZSIsImlzbWlzc2ls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QUFDQSxNQUFsRDtBQUF5REMsWUFBUSxFQUFDQSxRQUFsRTtBQUEyRUMsVUFBTSxFQUFDQTtBQUFsRixHQUFQLENBL0dKLENBZ0hJO0FBQ0gsQ0FsSEQiLCJmaWxlIjoiYjhlNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vZGF0YSB0YWJsZSBtb2R1bGUsIHJhdyBkYXRhIG91dHB1dCBmb3IgcmUtdXNlIGluIG5vbi12dWUtY29tcG9uZW50IGZvcm1hdHNcclxuaW1wb3J0IHtwYXJ0aWFsX3ZhbGlkYXRlLCBwYXJ0aWFsX2hhc19mZWF0dXJlLCBwYXJ0aWFsX2dldF9mZWF0dXJlfSBcclxuICAgIGZyb20gXCJAL2RhdGFfdGFibGVfbW9kdWxlcy91bml2ZXJzYWwvbWVrX3BhcnRpYWwtZnVuY3Rpb24tZGF0YS1tb2R1bGVcIjtcclxuXHJcbi8vY3JlYXRlIG5ldyBmZWF0dXJlX2RhdGFfdGFibGVcclxubGV0IHJhd19mZWF0dXJlX2RhdGFfdGFibGU9XHJcbltcclxuICAgIHtmZWF0dXJlOlwiTWFnLUZlZFwiLGNvc3Q6MC45fSxcclxuICAgIHtmZWF0dXJlOlwiQW50aS1NaXNzaWxlXCIsY29zdDoxLGV4Y2x1c2l2ZV9hbnRpX21pc3NpbGU6dHJ1ZX0sXHJcbiAgICB7ZmVhdHVyZTpcIlZhcmlhYmxlIEFudGktTWlzc2lsZVwiLGNvc3Q6MS44LGV4Y2x1c2l2ZV9hbnRpX21pc3NpbGU6dHJ1ZX0sXHJcbiAgICB7ZmVhdHVyZTpcIkFudGktUGVyc29ubmVsXCIsY29zdDoxLjAsZXhjbHVzaXZlX3BlcnNvbm5lbDp0cnVlfSxcclxuICAgIHtmZWF0dXJlOlwiVmFyaWFibGUgQW50aS1QZXJzb25uZWxcIixjb3N0OjEuOCxleGNsdXNpdmVfcGVyc29ubmVsOnRydWV9LFxyXG4gICAge2ZlYXR1cmU6XCJBbnRpLU1pc3NpbGUgQW50aS1QZXJzb25uZWxcIixjb3N0OjEuNixleGNsdXNpdmVfcGVyc29ubmVsOnRydWUsZXhjbHVzaXZlX2FudGlfbWlzc2lsZTp0cnVlfSxcclxuICAgIHtmZWF0dXJlOlwiQWxsIFB1cnBvc2VcIixjb3N0OjIuNixleGNsdXNpdmVfcGVyc29ubmVsOnRydWUsZXhjbHVzaXZlX2FudGlfbWlzc2lsZTp0cnVlfSxcclxuICAgIHtmZWF0dXJlOlwiRnJhZ2lsZVwiLGNvc3Q6MX0sXHJcbiAgICB7ZmVhdHVyZTpcIkxvbmcgUmFuZ2VcIixjb3N0OjEuMzN9LFxyXG4gICAge2ZlYXR1cmU6XCJIeWRyb1wiLGNvc3Q6MC4yfSxcclxuICAgIHtmZWF0dXJlOlwiTWVnYS1CZWFtXCIsY29zdDoxMH0sXHJcbiAgICB7ZmVhdHVyZTpcIkRpc3J1cHRvclwiLGNvc3Q6Mn0sXHJcbl07XHJcbmxldCBleGNsdXNpdmVfYW50aV9taXNzaWxlPXJhd19mZWF0dXJlX2RhdGFfdGFibGUuZmlsdGVyKChfZWwpPT57cmV0dXJuIF9lbC5leGNsdXNpdmVfYW50aV9taXNzaWxlIT09dW5kZWZpbmVkO30pO1xyXG5sZXQgZXhjbHVzaXZlX3BlcnNvbm5lbD1yYXdfZmVhdHVyZV9kYXRhX3RhYmxlLmZpbHRlcigoX2VsKT0+e3JldHVybiBfZWwuZXhjbHVzaXZlX3BlcnNvbm5lbCE9PXVuZGVmaW5lZDt9KTtcclxubGV0IGV4Y2x1c2l2ZV9wZXJzb25uZWxfbWlzc2lsZT1yYXdfZmVhdHVyZV9kYXRhX3RhYmxlLmZpbHRlcigoX2VsKT0+e3JldHVybiBfZWwuZXhjbHVzaXZlX3BlcnNvbm5lbCE9PXVuZGVmaW5lZCAmJiBfZWwuZXhjbHVzaXZlX2FudGlfbWlzc2lsZSE9PXVuZGVmaW5lZDt9KTtcclxubGV0IGRhdGFfdGFibGVfa2V5cz1bXCJmZWF0dXJlXCIsXCJjb3N0XCIsXCJleGNsdXNpdmVfYW50aV9taXNzaWxlXCIsXCJleGNsdXNpdmVfcGVyc29ubmVsXCJdO1xyXG5cclxubGV0IGZlYXR1cmVfZGF0YV90YWJsZT1yYXdfZmVhdHVyZV9kYXRhX3RhYmxlO1xyXG5sZXQgZGF0YV9jYWNoZWQ9ZmFsc2U7XHJcblxyXG5sZXQgZmlsdGVyX2RhdGFfdGFibGU9KF9idXJzdF92YWx1ZSk9PlxyXG57XHJcbiAgICBkYXRhX2NhY2hlZD1mYWxzZTtcclxuICAgIGlmKF9idXJzdF92YWx1ZT4xfHxfYnVyc3RfdmFsdWU9PVwiX19JTkZJTklUWV9fXCIpXHJcbiAgICB7XHJcbiAgICAgICAgZmVhdHVyZV9kYXRhX3RhYmxlPXJhd19mZWF0dXJlX2RhdGFfdGFibGU7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgZmVhdHVyZV9kYXRhX3RhYmxlPXJhd19mZWF0dXJlX2RhdGFfdGFibGUuZmlsdGVyKChfdmFsKT0+XHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuICFfdmFsLmV4Y2x1c2l2ZV9hbnRpX21pc3NpbGVcclxuICAgIH0pO1xyXG59O1xyXG5cclxubGV0IGNhY2hlZF92YWxpZGF0ZT1wYXJ0aWFsX3ZhbGlkYXRlKHJhd19mZWF0dXJlX2RhdGFfdGFibGUsIGRhdGFfdGFibGVfa2V5cyk7XHJcbi8vZGF0YSB2YWxpZGF0b3IgZm9yIGZlYXR1cmVfZGF0YV90YWJsZVxyXG4vL2NhbGwgcGFydGlhbF92YWxpZGF0ZSB3aXRoIGFwcHJvcHJpYXRlIGRhdGEgZm9yIGZ1bGwgdmFsaWRhdGVcclxubGV0IGZlYXR1cmVfdmFsaWRhdGU9KF9kYXRhKT0+XHJcbntcclxuICAgIGlmKGRhdGFfY2FjaGVkKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBjYWNoZWRfdmFsaWRhdGUoX2RhdGEpO1xyXG4gICAgfVxyXG4gICAgZGF0YV9jYWNoZWQ9dHJ1ZTtcclxuICAgIGNhY2hlZF92YWxpZGF0ZT1wYXJ0aWFsX3ZhbGlkYXRlKGZlYXR1cmVfZGF0YV90YWJsZSwgZGF0YV90YWJsZV9rZXlzKTtcclxuICAgIHJldHVybiBjYWNoZWRfdmFsaWRhdGUoX2RhdGEpO1xyXG59O1xyXG5cclxuLy9jb21wbGV0ZWQgZnVuY3Rpb24gZm9yIGNoZWNraW5nIGlmIGRhdGEgaGFzIGRhdGFcclxubGV0IGhhc19mZWF0dXJlPShfcGtleSxfZGF0YSk9PlxyXG57XHJcbiAgICByZXR1cm4gcGFydGlhbF9oYXNfZmVhdHVyZShmZWF0dXJlX2RhdGFfdGFibGUpKF9wa2V5LF9kYXRhKTtcclxufTtcclxuXHJcbi8vY29tcGxldGVkIGZ1bmN0aW9uIGZvciByZXR1cm5pbmcgbWF0Y2hpbmcgZGF0YVxyXG5sZXQgZ2V0X2ZlYXR1cmU9KF9wa2V5LF9kYXRhKT0+XHJcbntcclxuICAgIHJldHVybiBwYXJ0aWFsX2dldF9mZWF0dXJlKGZlYXR1cmVfZGF0YV90YWJsZSwgaGFzX2ZlYXR1cmUpKF9wa2V5LF9kYXRhKTtcclxufTtcclxuXHJcbmxldCBpc19leGNsdXNpdmVfZmVhdHVyZT1mdW5jdGlvbihfZXhjbHVzaXZlX3RhcmdldCwgX3BrZXksIF9wa2V5X3ZhbHVlKVxyXG57XHJcbiAgICBsZXQgZXhjbHVzaXZlX3RhcmdldF9hcnJheT1udWxsO1xyXG4gICAgc3dpdGNoKF9leGNsdXNpdmVfdGFyZ2V0LnRvTG93ZXJDYXNlKCkpXHJcbiAgICB7XHJcbiAgICAgICAgY2FzZSBcImV4Y2x1c2l2ZV9hbnRpX21pc3NpbGVcIjpcclxuICAgICAgICAgICAgZXhjbHVzaXZlX3RhcmdldF9hcnJheT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGV4Y2x1c2l2ZV9hbnRpX21pc3NpbGUpKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcImV4Y2x1c2l2ZV9wZXJzb25uZWxcIjpcclxuICAgICAgICAgICAgZXhjbHVzaXZlX3RhcmdldF9hcnJheT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGV4Y2x1c2l2ZV9wZXJzb25uZWwpKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcImV4Y2x1c2l2ZV9wZXJzb25uZWxfbWlzc2lsZVwiOlxyXG4gICAgICAgICAgICBleGNsdXNpdmVfdGFyZ2V0X2FycmF5PUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZXhjbHVzaXZlX3BlcnNvbm5lbF9taXNzaWxlKSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgaWYoZXhjbHVzaXZlX3RhcmdldF9hcnJheT09PW51bGwpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGV4Y2x1c2l2ZV90YXJnZXRfYXJyYXkuc29tZSgoX3ZhbCk9PlxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBfdmFsW19wa2V5XT09X3BrZXlfdmFsdWU7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbi8qKioqKlxyXG4gKiAqXHJcbiAqICogICAgbGlrZWx5IG5lZWQgdG8gc2V0dXAgY3JlYXRlX2ZlYXR1cmVfZGF0YV90YWJsZSB0YWtpbmcgQmxhc3RfUmFkaXVzIGFuZCBTbWFydCBhcyBpbnB1dFxyXG4gKiAqICAgIHNvIGNsYW5lZF9mZWF0dXJlIHdpbGwgcmVtb3ZlIGludmFsaWQgZmVhdHVyZXNcclxuICogKlxyXG4gKioqKiovXHJcblxyXG5cclxuLyoqKiBcclxuICogXHJcbiAqIGZpbmQgd2F5IHRvIHN3aXRjaCB0byBwYXJ0aWFsIGZ1bmN0aW9uXHJcbiAqIFxyXG4gKiAqKiovXHJcbmxldCBjbGVhbmVkX2ZlYXR1cmU9ZnVuY3Rpb24oX2ZlYXR1cmVfYXJyYXksIF9wa2V5KVxyXG57Ly90YWtlcyBmZWF0dXJlX2FycmF5LCByZXR1cm5zIGNsZWFuZWQgYXJyYXkgcmVtb3ZpbmcgbXVsdGlwbGUgZXhjbHVzaXZlIHZhbHVlc1xyXG4gICAgbGV0IGhhc0V4Y2x1c2l2ZW1pc3NpbGU9ZmFsc2U7XHJcbiAgICBsZXQgaGFzRXhjbHVzaXZlUGVyc29ubmVsPWZhbHNlO1xyXG4gICAgbGV0IGhhc0V4Y2x1c2l2ZVBlcnNvbm5lbG1pc3NpbGU9ZmFsc2U7XHJcbiAgICBsZXQgdXBkYXRlPWZhbHNlO1xyXG4gICAgbGV0IGtleV9saXN0PVtdO1xyXG4gICAgbGV0IGFsZXJ0cz1bXTtcclxuICAgIGlmKF9mZWF0dXJlX2FycmF5Lmxlbmd0aD09PTApXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHtjbGVhbmVkX2FycmF5OltdLHVwZGF0ZTpmYWxzZSxrZXlfbGlzdDpbXSxhbGVydHM6YWxlcnRzfTtcclxuICAgIH1cclxuICAgIGlmKF9mZWF0dXJlX2FycmF5PT09dW5kZWZpbmVkIHx8IF9wa2V5PT09dW5kZWZpbmVkKVxyXG4gICAge1xyXG4gICAgICAgIGFsZXJ0cy5wdXNoKFwiTWVrX0JlYW0tRmVhdHVyZTogXCIpO1xyXG4gICAgICAgIGxldCBlcnJvcj1fZmVhdHVyZV9hcnJheT09PXVuZGVmaW5lZFxyXG4gICAgICAgICAgICA/IFwiKioqKiBNaXNzaW5nIGZlYXR1cmUgYXJyYXkuIFJldHVybmluZyBkZWZhdWx0LiAqKioqXCJcclxuICAgICAgICAgICAgOiBcIioqKiogTm8gcHJpbWFyeSBrZXkgcHJvdmlkZWQuIFJldHVybmluZyBkZWZhdWx0LiAqKioqXCI7XHJcbiAgICAgICAgYWxlcnRzLnB1c2goZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiB7Y2xlYW5lZF9hcnJheTpbXSx1cGRhdGU6dHJ1ZSxrZXlfbGlzdDpbXSxhbGVydHM6YWxlcnRzfTtcclxuICAgIH1cclxuICAgIGxldCB0ZW1wX3NlbGVjdGVkX2ZlYXR1cmVfYXJyYXk9X2ZlYXR1cmVfYXJyYXkucmVkdWNlUmlnaHQoKF9jbGVhbmVkX2FycmF5LCBfdmFsKT0+XHJcbiAgICB7XHJcbiAgICAgICAgaWYoX3ZhbFtfcGtleV09PT11bmRlZmluZWQpXHJcbiAgICAgICAgey8vaWYgZmVhdHVyZSB3aXRoIHBrZXkgZG9lc24ndCBleGlzdCBpbiBkYXRhIHRhYmxlLCBpZ25vcmVcclxuICAgICAgICAgICAgYWxlcnRzLnB1c2goXCJNZWtfQmVhbS1GZWF0dXJlOiBcIitKU09OLnN0cmluZ2lmeShfdmFsKSk7XHJcbiAgICAgICAgICAgIGFsZXJ0cy5wdXNoKFwiKioqKiBNaXNzaW5nIHByaW1hcnkga2V5LiBJZ25vcmluZy4gKioqKlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIF9jbGVhbmVkX2FycmF5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY2xlYW5fZmVhdHVyZT1fdmFsO1xyXG4gICAgICAgIGlmKCFmZWF0dXJlX3ZhbGlkYXRlKF92YWwpKVxyXG4gICAgICAgIHsvL2ludmFsaWQgZGF0YVxyXG4gICAgICAgICAgICBhbGVydHMucHVzaChcIk1la19CZWFtLUZlYXR1cmU6IFwiK0pTT04uc3RyaW5naWZ5KF92YWwpKVxyXG4gICAgICAgICAgICBhbGVydHMucHVzaChcIioqKiogSW52YWxpZCBkYXRhLCBhdHRlbXB0aW5nIHRvIHJlc2V0LiAqKioqXCIpXHJcbiAgICAgICAgICAgIGNsZWFuX2ZlYXR1cmU9Z2V0X2ZlYXR1cmUoX3BrZXksX3ZhbFtfcGtleV0pO1xyXG4gICAgICAgICAgICBfdmFsPWNsZWFuX2ZlYXR1cmU7Ly9yZXBsYWNlIGN1cnJlbnQgdmFsdWUgd2l0aCBjb3JyZWN0IHZhbHVlXHJcbiAgICAgICAgICAgIHVwZGF0ZT10cnVlO1xyXG4gICAgICAgICAgICAvL2F0dGVtcHQgdG8gc2V0IHRvIGNvcnJlY3RlZCBmZWF0dXJlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGNsZWFuX2ZlYXR1cmU9PT1udWxsKVxyXG4gICAgICAgIHsvL25vIG1hdGNoaW5nIGZlYXR1cmVcclxuICAgICAgICAgICAgYWxlcnRzLnB1c2goXCIqKioqIFVuYWJsZSB0byByZXNldC4gTm8gbWF0Y2hpbmcgZGF0YS4gKioqKlwiKVxyXG4gICAgICAgICAgICB1cGRhdGU9dHJ1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIF9jbGVhbmVkX2FycmF5O1xyXG4gICAgICAgICAgICAvL2lnbm9yZSBlbGVtZW50XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBpc21pc3NpbGU9aXNfZXhjbHVzaXZlX2ZlYXR1cmUoXCJleGNsdXNpdmVfYW50aV9taXNzaWxlXCIsX3BrZXksX3ZhbFtfcGtleV0pO1xyXG4gICAgICAgIGxldCBpc1BlcnNvbm5lbD1pc19leGNsdXNpdmVfZmVhdHVyZShcImV4Y2x1c2l2ZV9wZXJzb25uZWxcIixfcGtleSxfdmFsW19wa2V5XSk7XHJcbiAgICAgICAgbGV0IGlzUGVyc29ubmVsbWlzc2lsZT1pc19leGNsdXNpdmVfZmVhdHVyZShcImV4Y2x1c2l2ZV9wZXJzb25uZWxfbWlzc2lsZVwiLF9wa2V5LF92YWxbX3BrZXldKTtcclxuXHJcbiAgICAgICAgaWYoaXNQZXJzb25uZWxtaXNzaWxlICYmICFoYXNFeGNsdXNpdmVQZXJzb25uZWxtaXNzaWxlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgX2NsZWFuZWRfYXJyYXkucHVzaChfdmFsKTtcclxuICAgICAgICAgICAgaGFzRXhjbHVzaXZlUGVyc29ubmVsbWlzc2lsZT10cnVlO1xyXG4gICAgICAgICAgICBoYXNFeGNsdXNpdmVQZXJzb25uZWw9dHJ1ZTtcclxuICAgICAgICAgICAgaGFzRXhjbHVzaXZlbWlzc2lsZT10cnVlO1xyXG4gICAgICAgICAgICBrZXlfbGlzdC5wdXNoKF92YWxbX3BrZXldKTtcclxuICAgICAgICAgICAgcmV0dXJuIF9jbGVhbmVkX2FycmF5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKGlzUGVyc29ubmVsbWlzc2lsZSAmJiBoYXNFeGNsdXNpdmVQZXJzb25uZWxtaXNzaWxlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYWxlcnRzLnB1c2goXCJNZWtfQmVhbS1GZWF0dXJlOiBcIitfdmFsKTtcclxuICAgICAgICAgICAgYWxlcnRzLnB1c2goXCIqKioqIER1cGxpY2F0ZSBFeGNsdXNpdmUgUGVyc29ubmVsLUJlYW0gZGF0YS4gSWdub3JpbmcuICoqKipcIik7XHJcbiAgICAgICAgICAgIHVwZGF0ZT10cnVlO1xyXG4gICAgICAgICAgICByZXR1cm4gX2NsZWFuZWRfYXJyYXk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGlzbWlzc2lsZSAmJiAhaGFzRXhjbHVzaXZlbWlzc2lsZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIF9jbGVhbmVkX2FycmF5LnB1c2goX3ZhbCk7XHJcbiAgICAgICAgICAgIGhhc0V4Y2x1c2l2ZW1pc3NpbGU9dHJ1ZTtcclxuICAgICAgICAgICAgaGFzRXhjbHVzaXZlUGVyc29ubmVsbWlzc2lsZT10cnVlO1xyXG4gICAgICAgICAgICBrZXlfbGlzdC5wdXNoKF92YWxbX3BrZXldKTtcclxuICAgICAgICAgICAgcmV0dXJuIF9jbGVhbmVkX2FycmF5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKGlzbWlzc2lsZSAmJiBoYXNFeGNsdXNpdmVtaXNzaWxlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYWxlcnRzLnB1c2goXCJNZWtfQmVhbS1GZWF0dXJlOiBcIitfdmFsKTtcclxuICAgICAgICAgICAgYWxlcnRzLnB1c2goXCIqKioqIER1cGxpY2F0ZSBFeGNsdXNpdmUgbWlzc2lsZSBkYXRhLiBJZ25vcmluZy4gKioqKlwiKTtcclxuICAgICAgICAgICAgdXBkYXRlPXRydWU7XHJcbiAgICAgICAgICAgIHJldHVybiBfY2xlYW5lZF9hcnJheTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoaXNQZXJzb25uZWwgJiYgIWhhc0V4Y2x1c2l2ZVBlcnNvbm5lbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIF9jbGVhbmVkX2FycmF5LnB1c2goX3ZhbCk7XHJcbiAgICAgICAgICAgIGhhc0V4Y2x1c2l2ZVBlcnNvbm5lbD10cnVlO1xyXG4gICAgICAgICAgICBoYXNFeGNsdXNpdmVQZXJzb25uZWxtaXNzaWxlPXRydWU7XHJcbiAgICAgICAgICAgIGtleV9saXN0LnB1c2goX3ZhbFtfcGtleV0pO1xyXG4gICAgICAgICAgICByZXR1cm4gX2NsZWFuZWRfYXJyYXk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoaXNQZXJzb25uZWwgJiYgaGFzRXhjbHVzaXZlUGVyc29ubmVsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYWxlcnRzLnB1c2goXCJNZWtfQmVhbS1GZWF0dXJlOiBcIitfdmFsKTtcclxuICAgICAgICAgICAgYWxlcnRzLnB1c2goXCIqKioqIER1cGxpY2F0ZSBFeGNsdXNpdmUgQW50aS1QZXJzb25uZWwgZGF0YS4gSWdub3JpbmcuICoqKipcIik7XHJcbiAgICAgICAgICAgIHVwZGF0ZT10cnVlO1xyXG4gICAgICAgICAgICByZXR1cm4gX2NsZWFuZWRfYXJyYXk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCFrZXlfbGlzdC5pbmNsdWRlcyhfdmFsW19wa2V5XSkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBfY2xlYW5lZF9hcnJheS5wdXNoKF92YWwpO1xyXG4gICAgICAgICAgICBrZXlfbGlzdC5wdXNoKF92YWxbX3BrZXldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF9jbGVhbmVkX2FycmF5O1xyXG4gICAgfSxbXSk7XHJcbiAgICB0ZW1wX3NlbGVjdGVkX2ZlYXR1cmVfYXJyYXk9dGVtcF9zZWxlY3RlZF9mZWF0dXJlX2FycmF5LnJldmVyc2UoKTtcclxuICAgIGlmKHRlbXBfc2VsZWN0ZWRfZmVhdHVyZV9hcnJheS5sZW5ndGg9PTApXHJcbiAgICB7Ly9lbXB0eSwgcmVzZXQgdG8gZGVmYXVsdFxyXG4gICAgICAgIHRlbXBfc2VsZWN0ZWRfZmVhdHVyZV9hcnJheT1bXTtcclxuICAgICAgICB1cGRhdGU9dHJ1ZTtcclxuICAgICAgICBrZXlfbGlzdD1bXTtcclxuICAgICAgICBhbGVydHMucHVzaChcIk1la19CZWFtLUZlYXR1cmU6IFwiKTtcclxuICAgICAgICBhbGVydHMucHVzaChcIioqKiogUmVzZXRpbmcgdG8gZGVmYXVsdCAqKioqXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtjbGVhbmVkX2FycmF5OnRlbXBfc2VsZWN0ZWRfZmVhdHVyZV9hcnJheSx1cGRhdGU6dXBkYXRlLGtleV9saXN0OmtleV9saXN0LGFsZXJ0czphbGVydHN9O1xyXG4gICAgLy9yZXR1cm5zIGFuIG9iamVjdCB3aXRoIHRoZSBwcnVuZWQgZmVhdHVyZSBhcnJheSwgd2hldGhlciBpdCB3YXMgdXBkYXRlZCwgYW5kIHRoZSBrZXlfbGlzdFxyXG59O1xyXG5cclxuZXhwb3J0IHtmZWF0dXJlX2RhdGFfdGFibGUsIGZlYXR1cmVfdmFsaWRhdGUsIGhhc19mZWF0dXJlLCBnZXRfZmVhdHVyZSwgY2xlYW5lZF9mZWF0dXJlLCBmaWx0ZXJfZGF0YV90YWJsZX07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///b8e7\n')}}]);