(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mek_emw_validator"],{ffd5:function(e,a,t){"use strict";t.r(a),t.d(a,"validateComponent",function(){return n});t("ac6a");let c,r,d,s={};t.e("mek_emw-accuracy-data-module").then(t.bind(null,"643f")).then(e=>{s.accuracy=e.cleaned_feature}),t.e("mek_emw-attack-factor-data-module").then(t.bind(null,"2170")).then(e=>{s.attack_factor=e.cleaned_feature}),t.e("mek_emw-damage-data-module").then(t.bind(null,"77b7")).then(e=>{s.damage=e.cleaned_feature,s.update_damage=e.create_damage_data_table}),t.e("mek_emw-feature-data-module").then(t.bind(null,"e125")).then(e=>{s.filter_feature=e.filter_data_table,s.feature=e.cleaned_feature}),t.e("mek_emw-turns-in-use-data-module").then(t.bind(null,"9e76")).then(e=>{s.turns_in_use=e.cleaned_feature}),t.e("mek_space-efficiency-data-module").then(t.bind(null,"16e1")).then(e=>{s.space_efficiency=e.validate_efficiency}),t.e("validator_functions").then(t.bind(null,"07de")).then(e=>{c=e.loopValidators,r=e.updateMultipliers,d=e.round}),s.derived=((e,a,t)=>{let c,s=e,n=[],l=["selected_turns_in_use","selected_accuracy","selected_attack_factor","feature_array"];c=r(l,s,"Mek-EMW"),s.cost_multipliers=c.data,n=n.concat(c.alerts);let i=Object.entries(s.cost_multipliers).reduce((e,a)=>{return e*a[1]},1);s.cost_multiplier!=i&&(n.push("Mek-EMW: cost_multiplier"),n.push("**** Invalid Cost Multiplier. Correcting. ****"),s.cost_multiplier=d(i,2));let _=s.selected_damage.cost/4;s.damage_capacity!=_&&(n.push("Mek-EMW: damage_capacity"),n.push("**** Invalid Damage Capacity. Correcting. ****"),s.damage_capacity=_);let u=_/2;s.weight!=u&&(n.push("Mek-EMW: weight"),n.push("**** Invalid Weight. Correcting. ****"),s.weight=u);let o=s.selected_damage.cost*i;s.cost!=o&&(n.push("Mek-EMW: cost"),n.push("**** Invalid cost. Correcting. ****"),s.cost=o);let p={stopping_power:s.selected_damage.cost,defense_accuracy:s.selected_accuracy.accuracy-2,damage:s.selected_damage.damage};return void 0===s.beam_shield&&t&&(n.push("Mek-EMW: beam_shield"),n.push("**** Beam Shield data missing. Correcting. ****"),s.beam_shield=p),s.beam_shield.stopping_power!=p.stopping_power&&(n.push("Mek-EMW: beam_shield.stopping_power"),n.push("**** Invalid Beam Shield Stopping Power: Correcting. ****"),s.beam_shield.stopping_power=p.stopping_power),s.beam_shield.defense_accuracy!=p.defense_accuracy&&(n.push("Mek-EMW: beam_shield.defense_accuracy"),n.push("**** Invalid Beam Shield Defense Accuracy: Correcting. ****"),s.beam_shield.defense_accuracy=p.defense_accuracy),s.beam_shield.damage!=p.damage&&(n.push("Mek-EMW: beam_shield.damage"),n.push("**** Invalid Beam Shield Damage: Correcting. ****"),s.beam_shield.damage=p.damage),{data:s,alerts:n}});let n=e=>{let a,t,r=e,d=[];a=s.turns_in_use("turns",r.selected_turns_in_use),r.selected_turns_in_use=a.data,d=d.concat(a.alerts),s.filter_feature("__INFINITY__"==r.selected_turns_in_use.turns),a=s.feature(r.feature_array,"feature"),r.feature_array=a.cleaned_array,d=d.concat(a.alerts);let n=!1,l=r.feature_array.some(e=>{return/.*variable.*beam.*shield.*/gi.test(e.feature)&&(n=!0),/.*beam.*shield.*/gi.test(e.feature)});s.update_damage(l&&!n);let i=[{validator:s.damage,pkey:"cost",component_prop:"selected_damage"},{validator:s.accuracy,pkey:"accuracy",component_prop:"selected_accuracy"},{validator:s.attack_factor,pkey:"attack_factor",component_prop:"selected_attack_factor"}];var _=c(i,r);r=_.cleanedComponent,t=_.loopAlerts,d=d.concat(t),a=s.derived(r,n,l),r=a.data,d=d.concat(a.alerts);let u=r.selected_damage.cost*r.cost_multiplier;return a=s.space_efficiency(r.efficiencies.space,u,"Mek-EMW"),d=d.concat(a.alerts),r.efficiencies.space=a.data,{data:r,alerts:d}}}}]);
//# sourceMappingURL=mek_emw_validator.600ea7db.js.map