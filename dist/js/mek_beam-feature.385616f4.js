(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mek_beam-feature"],{bc65:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("mek-sub-component-table",{attrs:{items:e.feature_table,headers:{feature:"Feature",cost:"Cost"},"show-headers":!0,format:{cost:"multiplier"},"selected-indices":e.selected_feature_index_array,name:"Features",flow:"col"},on:{"update-selected-indices":e.select_feature}})},a=[],u=r("072f"),i=r("8fcf"),n={name:"mek_beam_feature",props:["featureArray","burstValue"],mixins:[u["a"],i["a"]],components:{"mek-sub-component-table":()=>r.e("chunk-f60adeec").then(r.bind(null,"97ea"))},data:function(){let e={feature_table:[{feature:"Mag-Fed",cost:.9},{feature:"Anti-Missile",cost:1,exclusive_anti_missile:!0},{feature:"Variable Anti-Missile",cost:1.8,exclusive_anti_missile:!0},{feature:"Anti-Personnel",cost:1,exclusive_personnel:!0},{feature:"Variable Anti-Personnel",cost:1.8,exclusive_personnel:!0},{feature:"Anti-Missile & Personnel",cost:1.6,exclusive_personnel:!0,exclusive_anti_missile:!0},{feature:"All Purpose",cost:2.6,exclusive_personnel:!0,exclusive_anti_missile:!0},{feature:"Fragile",cost:1},{feature:"Long Range",cost:1.33},{feature:"Hydro",cost:.2},{feature:"Mega-Beam",cost:10},{feature:"Disruptor",cost:2}]};return e.exclusive_anti_missile=e.feature_table.filter(e=>{return"undefined"!==typeof e.exclusive_anti_missile}),e.exclusive_personnel=e.feature_table.filter(e=>{return"undefined"!==typeof e.exclusive_personnel}),e.selected_feature_array=[],e},methods:{select_feature:function(e){this.burstValue;let t=this.feature_table[e].feature,r=this.is_exclusive_feature("exclusive_anti_missile",t),s=this.is_exclusive_feature("exclusive_personnel",t),a=Object.assign({},this.feature_table[e]),u=this.selected_feature_array.filter(e=>{return e.feature.toLowerCase()!=t.toLowerCase()}),i=this.selected_feature_array.some(e=>{return e.feature.toLowerCase()==t.toLowerCase()},this);r&&s&&(u=u.filter(e=>{return!e.exclusive_anti_missile&&!e.exclusive_personnel})),r&&(u=u.filter(e=>{return!e.exclusive_anti_missile})),s&&(u=u.filter(e=>{return!e.exclusive_personnel})),i||u.push(a),this.$set(this,"selected_feature_array",u),0==u.length&&this.$set(this,"selected_feature_array",[]),this.$emit("update-feature",this.selected_feature_array)},find_feature_index:function(e){let t;return this.feature_table.some(function(r,s){return r.feature.toLowerCase()==e.toLowerCase()&&(t=s,!0)}),t},is_exclusive_feature:function(e,t){return this[e].some(function(e){return e.feature.toLowerCase()==t.toLowerCase()})},exclusive_indices:function(){let e=this.selected_feature_array.reduce(function(e,t,r){return t.exclusive&&e.push(r),e},[]);return e}},computed:{selected_feature_index_array:function(){let e=[];if(0==this.featureArray.length&&(this.selected_feature_array=[]),1==this.featureArray.length)return this.selected_feature_array=[this.feature_table[this.find_feature_index(this.featureArray[0].feature)]],[this.find_feature_index(this.featureArray[0].feature)];let t=!1,r=!1,s=this,a=[];return this.selected_feature_array=this.featureArray.reduceRight(function(e,u){let i=s.is_exclusive_feature("exclusive_anti_missile",u.feature),n=s.is_exclusive_feature("exclusive_personnel",u.feature);return i&&!t&&n&&!r&&(e.push(u),t=!0,r=!0,a.push(u.feature.toLowerCase())),i&&!t&&(e.push(u),t=!0,a.push(u.feature.toLowerCase())),n&&!r&&(e.push(u),r=!0,a.push(u.feature.toLowerCase())),a.includes(u.feature.toLowerCase())||(e.push(u),a.push(u.feature.toLowerCase())),e},[]),e=this.selected_feature_array.reduce(function(e,t){return e.push(s.find_feature_index(t.feature)),e},[]),this.featureArray.length!=this.selected_feature_array.length&&this.$emit("update-feature",this.selected_feature_array),this.burstValue,e},flat_feature_array:function(){return this.feature_table.reduce(function(e,t){return e.push(t.feature),e},[])}}},l=n,f=r("2877"),c=Object(f["a"])(l,s,a,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=mek_beam-feature.385616f4.js.map